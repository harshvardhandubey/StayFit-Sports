var _min=_min||{_publisher:"MIN-40900"};_min=function(e){"use strict";function t(e,t,n){function i(e,t){var n=null;switch(e){case f.Emitter.NEW_VIDEO_EVENT:n=l();break;case f.Emitter.CLICK:case f.Emitter.VIEWPORT:case f.Emitter.URL_REPORT:case f.Emitter.VIDEO_PRESENT:n=s();break;case f.Emitter.ANALYTICS_EVENT:case f.Emitter.STATS_EVENT:n=o();break;case f.Emitter.PLAYER_CONTENT_CHANGED_EVENT:n=c();break;case f.Emitter.ERROR:n=r();break;case f.Emitter.VIDEO_VIEWS:n=a();break;case f.Emitter.NEW_SCRAPE_EVENT:n=u()}n.push(e,t)}var r=function(){var n=new _(e,t);return n.init(),function(){return n}}(),o=function(){var i=new _(e,t,n.ServerAnalytics,!0);return i.enableStorage("_minEE0"),i.init(),function(){return i}}(),a=function(){var i=new _(e,t,n.UrlReporter,!0);return i.init(),function(){return i}}(),s=function(){var i=new _(e,t,n.UrlReporter,!0);return i.enableStorage("_minEE1"),i.init(),function(){return i}}(),l=function(){var i=new _(e,t,n.VideoData,!1);return i.init(),function(){return i.setValidator(e.validateScraperURL),i}}(),c=function(){var i=new _(e,t,n.VideoData,!1);return i.init(),function(){return i}}(),u=function(){var i=new _(e,t,n.UrlReporter,!1);return i.init(),function(){return i.setValidator(e.validateScraperURLForDelayedInternal),i}}();return{getError:r,getAnalytics:o,getVideoViewsReporter:a,getUrlReporter:s,getPlayerContent:l,getPlayerContentChange:c,getPlayerContentDelayed:u,send:i}}function n(){function e(){return new s.analytics.ViewportAnalyticsService}return{create:e}}function i(e,t,n){function i(){var t=a(),n=e.getlistAsArray(t[T]);n=r(n),n.length>0&&u([n]),t[T]=[],l(t)}function r(e){if(e.length<=1)return e;var t=[];e.forEach(function(e,n,i){t.push(JSON.stringify(e))});var n=t.filter(function(e,n){return t.indexOf(e)==n});return t=[],n.forEach(function(e,n,i){t.push(JSON.parse(e))}),t}function o(t,n){var i,r=a();r[n]=e.getlistAsArray(r[n]),i=r[n],i.push(t),l(r)}function a(){var e=L.getItem(b);return e=e?O?p(e):JSON.parse(e):{}}function l(e){var t;t=O?d(e):JSON.stringify(e),L.setItem(b,t,C)}function c(e,t){var n,i,r=typeof e;if("string"==r||"number"==r){if(n=a(),n[t]=n[t]||[],i=n[t],0===i.length)return null;for(var o=0;o<i.length;o++)if(i[o].id==e)return i[o];return null}}function u(t){if(!e.isArray(t))return void e.log("Report not an array");for(var i,r="Test:"+re.getGroupCode(),o=0;o<t.length;o++){i=e.isArray(t[o])?t[o]:[t[o]];for(var a=0;a<i.length;a++){var s=JSON.parse(JSON.stringify(i[a]));Ae.send(f.Emitter.ANALYTICS_EVENT,s),Ae.send(f.Emitter.CLICK,s),r+=","+s.id+":PClick:"+(s.product||"0");var l=ne.get(s.id,s.placementFunction,f.Emitter.CLICK_TYPE_CLICK,s.test_mode,s.product);l.isSent()||(s.uniq=!0,Ae.send(f.Emitter.ANALYTICS_EVENT,s),r+=","+s.id+":UClick:"+(s.product||"0")),s.product==f.Emitter.PRODUCT_APV&&(s.test_mode?e.optimizely.trackEvent("click_test_apv"):e.optimizely.trackEvent("click_minute_apv"))}l.setAnalyticState()}g.add(r),(oe.getCanReportImmediately()||U.urlhasChanged())&&(U.touchUrlHasChanged(),n.getAnalytics().flush(),n.getUrlReporter().flush())}function p(e){for(var t=e.split("-"),n=[],i=0;i<t.length;i++){var r=t[i].split("."),o={id:r[0],highlight_id:r[1],test_mode:!!parseInt(r[2]),playMode:r[3],source:r[4],type:r[5],placementFunction:r[6],uniq:!!parseInt(r[7]),product:r[8]};n.push(o)}return{clicks:n}}function d(e){for(var t=e.clicks,n=[],i="",r=0;r<t.length;r++){var o=t[r],a=[];a.push(o.id),a.push(o.highlight_id),a.push(0==o.test_mode?0:1),a.push(o.playMode),a.push(o.source),a.push(o.type),a.push(o.placementFunction),a.push(0==o.uniq?0:1),a.push(o.product),a=a.join("."),n.push(a)}return i+=n.join("-")}function v(e,n){L=t.getLocalStorageInstance(),D=e,O=oe.isCookieDomain(),O&&(L=Q,b="MinTestClick",C={path:"/",domain:oe.getCookieDomain()}),i(),h.addEventListener(f.Events.DomWindow.URL_CHANGE,i,this),oe.isForceFlushAnalytics()&&m()}function m(){I=new s.utils.Timer(f.FLUSH_ANALYTICS,i,this),I.start()}function y(){e.log("sent Logs Due To In Article or placement force Click"),i()}function E(e){o(e,T)}function _(e){o(e,w)}function P(e,t){var n,i,r=typeof e;if(("string"==r||"number"==r)&&(n=a(),n[t]=n[t]||[],i=n[t],0!==i.length)){for(var o=0;o<i.length;o++)if(i[o].id==e){i.splice(o,1);break}l(n)}}function A(e){P(e,w)}function S(e){var t=c(e,w);t&&(t.type=f.Emitter.ANALYTICS_CLICK_EVENT,u([t]),A(e))}var I,b="minAnalytics",T="clicks",w="clicksDelay",L=null,D=null,C={},O=!1;return{init:v,startForceFlush:m,sendLogsDueToInArticleClick:y,log:E,logDelay:_,removeLogFromList:P,removeLogDelayById:A,sendLogDelayById:S}}function r(e,t,n,i,r){var o=""+e.getId()+t.getPlacementId(),a=""+e.getId()+i,s=e,l=t,c=n,u=null,p=null,d=null,h=null,g=null,v=null,m=null,y=null,E=null,_=null,P=null,A=f.APVStates.New,S=null,I=i,b=r,T=null;this.setAnchorElement=function(e){u=e},this.setAttributeName=function(e){p=e},this.setAttributeValue=function(e){d=e},this.setContainerElement=function(e){h=e},this.getIsCharmerActive=function(){return b},this.getProduct=function(){return I},this.getKey=function(){return o},this.getKeyProduct=function(){return a},this.getVideoData=function(){return s},this.getPlacement=function(){return l},this.getElementToReplace=function(){return c},this.getAnchorElement=function(){return u},this.getAttributeName=function(){return p},this.getAttributeValue=function(){return d},this.getContainerElement=function(){return h},this.setApvPlayer=function(e){return g=e},this.getApvPlayer=function(){return g},this.setDomAdapter=function(e){return v=e},this.getDomAdapter=function(){return v},this.setMinuteLogo=function(e){return m=e},this.getMinuteLogo=function(){return m},this.setWatcher=function(e){y=e},this.removeWatcher=function(){y=null},this.getWatcher=function(){return y},this.getBlockingDistance=function(){return oe.getBaseHeightPercent()+this.getRect().width/oe.getBaseThumbPx()},this.getPosition=function(){var e=this.getRect();return{top:e.top+document.body.scrollTop+parseInt(e.height)/2,left:e.left+document.body.scrollLeft+parseInt(e.width)/2}},this.getRect=function(){return v?v.getBoundingClientRect():c.getBoundingClientRect()},this.setDebug=function(e){E=e},this.getDebug=function(){return E},this.setState=function(e){A=e,v&&v.setState(e)},this.getState=function(){return A},this.setViewportMaskElement=function(e){_=e},this.getViewportMaskElement=function(){return _},this.setViewportObserver=function(e){P=e},this.getViewportObserver=function(){return P},this.setPlayerInstance=function(e){S=e},this.getPlayerInstance=function(){return S},this.setManualClick=function(e){T=e},this.getManualClick=function(){return T}}if(window._minAlreadyLoaded)return void console.warn("Minute.ly already loaded");var o=function(){function e(e,t,n,i){function r(n){o=t(r,i),e(n-(a||n)),a=n}var o,a;return{start:function(){o||r(0)},stop:function(){n(o),o=null,a=0}}}function t(t){return e(t,requestAnimationFrame,cancelAnimationFrame)}function n(e,t,n,i){function r(t){Boolean(e[n])===Boolean(i)&&t.stopImmediatePropagation(),delete e[n]}return e.addEventListener(t,r,!1),r}function i(e,t,n,i){function r(){return n[t]}function o(e){n[t]=e}i&&o(e[t]),Object.defineProperty(e,t,{get:r,set:o})}function r(e,t,n){n.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function o(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function a(e){var t=new Audio;return r(e,"play",t),r(e,"playing",t),r(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}function s(e,t,n){(v||0)+200<Date.now()&&(e[E]=!0,v=Date.now()),n||(e.currentTime=t),A[++S%3]=100*t|0}function l(e){return e.driver.currentTime>=e.video.duration}function c(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&l(t)&&(t.driver.currentTime=0)),s(t.video,t.driver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load(),t.video.ended&&(delete t.video[E],t.video.pause(!0))}function u(){var e=this,t=e[y];return e.webkitDisplayingFullscreen?void e[_]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(s(e,0,!0),t.driver.src=e.src),void(e.paused&&(t.paused=!1,e.buffered.length||e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(o(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&o(e,"playing")))))}function p(e){var t=this,n=t[y];n.driver.pause(),n.updater.stop(),t.webkitDisplayingFullscreen&&t[P](),n.paused&&!e||(n.paused=!0,n.hasAudio||o(t,"pause"),t.ended&&(t[E]=!0,o(t,"ended")))}function d(e,n){var i=e[y]={};i.paused=!0,i.hasAudio=n,i.video=e,i.updater=t(c.bind(i)),n?i.driver=a(e):(e.addEventListener("canplay",function(){e.paused||o(e,"playing")}),i.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){i.driver.paused=!0},play:function(){i.driver.paused=!1,l(i)&&s(e,0)},get ended(){return l(i)}}),e.addEventListener("emptied",function(){var t=!i.driver.src||"data:"===i.driver.src;i.driver.src&&i.driver.src!==e.src&&(s(e,0,!0),i.driver.src=e.src,t?i.driver.play():i.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?n&&!i.driver.buffered.length&&i.driver.load():(e.pause(),e[_]())}),n&&(e.addEventListener("webkitendfullscreen",function(){i.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){A.indexOf(100*e.currentTime|0)<0&&(i.driver.currentTime=e.currentTime)}))}function h(e){var t=e[y];e[_]=e.play,e[P]=e.pause,e.play=u,e.pause=p,i(e,"paused",t.driver),i(e,"muted",t.driver,!0),i(e,"playbackRate",t.driver,!0),i(e,"ended",t.driver),i(e,"loop",t.driver,!0),n(e,"seeking"),n(e,"seeked"),n(e,"timeupdate",E,!1),n(e,"ended",E,!1)}function g(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),n&&!m||e[y]||(d(e,t),h(e),e.classList.add("IIV"),!t&&e.autoplay&&e.play(),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments"))}var v,f="undefined"==typeof Symbol?function(e){return"@"+(e||"@")+Math.random()}:Symbol,m=/iPhone|iPod/i.test(navigator.userAgent)&&!matchMedia("(-webkit-video-playable-inline)").matches,y=f(),E=f(),_=f("nativeplay"),P=f("nativepause"),A=[],S=0;return g.isWhitelisted=m,g}(),a=function(){function e(e){return Array.prototype.slice.call(e)}var t=function(){this.listeners={}};return t.prototype.addEventListener=function(t,n,i){var r=e(arguments);r=r.length>3?r.slice(3):[],this.listeners[t]=this.listeners[t]||[],this.listeners[t].push({context:i,callback:n,isOnce:!1,args:r})},t.prototype.addEventListenerOnce=function(t,n,i){var r=e(arguments);r=r.length>3?r.slice(3):[],this.listeners[t]=this.listeners[t]||[],this.listeners[t].push({context:i,callback:n,isOnce:!0,args:r})},t.prototype.removeEventListener=function(e,t,n){if(this.listeners[e]){for(var i=this.listeners[e].length,r=[],o=0;i>o;o++){var a=this.listeners[e][o];a.context===n&&a.callback===t||r.push(a)}this.listeners[e]=r}},t.prototype.removeAllEventListener=function(){this.listeners={}},t.prototype.dispatchEvent=function(t,n){var i,r,o=0,a={type:t,data:n},s=e(arguments).slice(2);s=[a].concat(s);var l=this.listeners[t];if(l){var c=l.length;for(i=0;c>i;i++)if(r=l[i],r&&r.callback){var u=s.concat(r.args);r.callback.apply(r.context,u),o+=1}for(i=c-1;i>=0;i--)r=l[i],r&&r.isOnce&&l.splice(i,1)}},t}();e=e,e.ver="1.8.2.18",e._publisher=e._publisher||"",e._publisherDebugUrl=e._publisherDebugUrl||"";var s={},l={},c={},u="production",p=(new Date).getTime(),d=window.performance?window.performance.timing.navigationStart:p,h=new a,g={add:function(){}},v={add:function(){}},f={};f.Urls=function(){var e="https:"==window.location.protocol?1:0;return{ServerData:["http://data.minute.ly/","https://z2d7c5q4.map2.ssl.hwcdn.net/"][e],ServerAnalytics:["http://data.minute.ly/","https://z2d7c5q4.map2.ssl.hwcdn.net/"][e],UrlReporter:["http://counter.snackly.co/","https://counter.snackly.co/"][e],VideoData:["http://vdata.minute.ly/","https://b3g8i8r3.map2.ssl.hwcdn.net/"][e],Configuration:["http://apv.configuration.minute.ly/","https://r7c2k6b3.map2.ssl.hwcdn.net/"][e],Logger:["http://logger.snackly.co/","https://logger.snackly.co/"][e],Error:["http://errors.snackly.co/","https://errors.snackly.co/"][e]}}(),f.SELECTOR="selectors",f.Selectors={PREVIEW_SELECTOR:"preview",LINK_SELECTOR:"link",CLICK_SELECTOR:"click",CONTAINER_SELECTOR:"container",HOVER_SELECTOR:"hover",OBSERVER_SELECTOR:"observer",CAROUSEL_SELECTOR:"carousel",VALIDATOR_SELECTOR:"validator",VIDEO_DATA_SELECTOR:"videoDataSelector"},f.styleOverrides={CONTAINER:"container",APV:"apv",CLONE:"clone",ELEMENT_TO_REPLACE:"elementToReplace",LOGO:"logo",CUSTOM:"custom"},f.DEFAULT_MEDIAQUERY="active",f.USE_APV_ORIGIN="apvOrigin",f.styles={},f.styles.MARGIN_TOP="margin-top",f.styles.PARENT="parent",f.styles.HEIGHT="height",f.styles.WIDTH="width",f.styles.OBJECT_FIT="object-fit",f.values={},f.values.RELATIVE="relative",f.values.ABSOLUTE="absolute",f.values.HIDDEN="hidden",f.values.COVER="cover",f.values.NONE="none",f.values.BLOCK="block",f.values.HUNDRED_PERCENT="100%",f.APV={Origin:{source:"[o]",target:"o",size:450}},f.APVStates={Disposed:"disposed",New:"new",Blocked:"blocked",Disabled:"disabled",Active:"active"},f.Analytics={},f.Analytics.PlayModes={unknown:0,viewport:2,semihover:4,hover:5},f.config={},f.config.WindowIntervals={SCROLL:"scroll",RESIZE:"resize",URL:"url",ECHO_TIME:"echoTime",ECHO_REPEAT:"echoRepeat"},f.config.PlayModes={Viewport:"viewport",SemiHover:"semihover",Hover:"hover",InArticle:"in_article",BrightcovePlugin:"brightcove_plugin"},f.DOM_ADAPTER_TYPE="domAdapter",f.LOGO_TYPE="logoType",f.LOGO_SMALLEST_WIDTH=12,f.DEFAULT_LOGO_SIZE="16px",f.DEFAULT_MOBILE_LOGO_SIZE="12px",f.FLUSH_ANALYTICS=5e3,f.APPEND_CHILD_CODE=-1,f.APV_MOUSE_ENTER_SEND_TIMEOUT=2e3,f.HOVER_IMPRESSION_DELAY=1e4,f.TIMER_ELEMENT_CHECK=5e3,f.PLACEMENTS_DOM_REFRESH_INTERVAL=5e3,f.WindowKeys={COMPATIBILITY:"compatibility"},f.PlacementKeys={COMPATIBILITY:"compatibility",CHILD:"child"},f.Events={WINDOW_DISPOSE:"windowDispose",TEST_MODE_READY:"testModeReady",WINDOW_SERVICE_READY:"windowServiceReady",POST_MESSAGE_RESPONSE:"postMessageResponse",FIRST_APV_CREATED:"firstApvCreated",VIDEOS_UPDATE:"videosUpdate",PLAYER_VIDEO_VIEW_CLICK:"playerVideoViewClick",APV_LOGO_CLICK:"apvLogoClick",PLAYER_PLAYING:"playerPlaying"},f.Events.Element={VISIBLE:"elmVisible",NON_VISIBLE:"elmNonVisible",ANALYTICS_VISIBLE:"elmVisibleAnalytics",CLICK:"elmClick",CONTEXT_MENU_OPEN:"elmContextMenuOpen",CONTEXT_MENU_CLOSE:"elmContextMenuClose",MUTANT:"elmMutant",MOUSE_ENTER:"mouseenter",MOUSE_OUT:"mouseout",READY:"ready",UPDATE_CAROUSEL_ELEMENT:"updateCarouselContainer"},f.Events.Players={PLAYING:"playing",PAUSED:"paused",LOADED:"loaded",ENDED:"ended",ERROR:"error"},f.Events.DomWindow={SCROLL:"scroll",RESIZE:"resize",URL_CHANGE:"urlChange",CHECK_VISIBILITY:"checkVisibility"},f.UrlStructure={Origin:"origin",PathName:"pathname",Search:"search",Hash:"hash"},f.Effects={APV_FADE:500},f.Emitter={ANALYTICS_EVENT:0,STATS_EVENT:1,NEW_VIDEO_EVENT:2,PLAYER_CONTENT_CHANGED_EVENT:5,ERROR:3,VIDEO_VIEWS:42,CLICK:94,VIEWPORT:95,NEW_SCRAPE_EVENT:97,URL_REPORT:98,VIDEO_PRESENT:96,CLIENT_DESCRIPTION:99,CONTEXT_MENU_OPEN_EVENT:4,ANALYTICS_CLICK_EVENT:0,ANALYTICS_IMPRESSION_EVENT:1,ANALYTICS_BLOCKING_DISTANCE_POTENTIAL:2,ANALYTICS_SOURCE_WEB_MOBILE:2,ANALYTICS_SOURCE_WEB_DESKTOP:1,PRODUCT_APV:0,PRODUCT_IN_ARTICLE:1,CLICK_TYPE_NONE:"n",CLICK_TYPE_CLICK:"c"},f.Placements={VIEWPORT_IMPRESSION:1,HOVER_IMPRESSION:2},f.Scraper={},f.Scraper.PlayerList={FLOW_PLAYER:1,OOYALA:2,SMPFLASH:3,VIDEOJS_PLAYER:4,YOUTUBE:6,HTML5_PLAYER:7,JW_PLAYER:8,DAILY_PLAYER:20,CLUBIC_PLAYER:10,LEMONDE_PLAYER:11,KALTURA_PLAYER:12,BRIGHTCOVE_PLAYER:13,CNN_PLAYER:14,NBA_PLAYER:15,ABC_PLAYER:16,BET_PLAYER:17,KOTAKU_PLAYER:18,SPORTING_PLAYER:21,HEATST_PLAYER:23,RGJBRIGHTCOVE_PLAYER:24,AOL_PLAYER:25,FOXSPORTS_PLAYER:26,VJSBRIGHTCOVE_PLAYER:27,OOYALA_TELEGRAPH_PLAYER:28,THE_PLATFORM_IFRAME_PLAYER:29},f.LocalStorage={POTENTIAL:"_minPotentialScrapers"},f.Scraper.ALL_PLAYERS=[f.Scraper.PlayerList.FLOW_PLAYER,f.Scraper.PlayerList.OOYALA,f.Scraper.PlayerList.SMPFLASH,f.Scraper.PlayerList.YOUTUBE,f.Scraper.PlayerList.HTML5_PLAYER,f.Scraper.PlayerList.JW_PLAYER,f.Scraper.PlayerList.VIDEOJS_PLAYER,f.Scraper.PlayerList.DAILY_PLAYER,f.Scraper.PlayerList.CLUBIC_PLAYER,f.Scraper.PlayerList.LEMONDE_PLAYER,f.Scraper.PlayerList.KALTURA_PLAYER,f.Scraper.PlayerList.BRIGHTCOVE_PLAYER,f.Scraper.PlayerList.RGJBRIGHTCOVE_PLAYER,f.Scraper.PlayerList.CNN_PLAYER,f.Scraper.PlayerList.NBA_PLAYER,f.Scraper.PlayerList.ABC_PLAYER,f.Scraper.PlayerList.BET_PLAYER,f.Scraper.PlayerList.KOTAKU_PLAYER,f.Scraper.PlayerList.SPORTING_PLAYER,f.Scraper.PlayerList.AOL_PLAYER,f.Scraper.PlayerList.HEATST_PLAYER,f.Scraper.PlayerList.VJSBRIGHTCOVE_PLAYER,f.Scraper.PlayerList.FOXSPORTS_PLAYER,f.Scraper.PlayerList.OOYALA_TELEGRAPH_PLAYER,f.Scraper.PlayerList.THE_PLATFORM_IFRAME_PLAYER],f.MinuteUiTests={},f.MinuteUiTests.HtmlAttributes={EXISTS:"minute-ui-test",ACTIVE:"minute-ui-test-active"},f.ReportMethods={GIF:"gif",GET:"get",POST:"post"},f.GROUP_42="__42_group",f.OriginalSrc={PATH:"path",ATTR:"attr"},s.utils=s.utils||{},s.utils.Signal=function(){function e(e,t,n,i,r){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=r||0}function t(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function n(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){n.prototype.dispatch.apply(e,arguments)}}return e.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},n.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,n,i,r){var o,a=this._indexOfListener(t,i);if(-1!==a){if(o=this._bindings[a],o.isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else o=new e(this,t,n,i,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,n,i){return t(e,"add"),this._registerListener(e,!1,n,i)},addOnce:function(e,n,i){return t(e,"addOnce"),this._registerListener(e,!0,n,i)},remove:function(e,n){t(e,"remove");var i=this._indexOfListener(e,n);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){t=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(t[i]&&this._shouldPropagate&&t[i].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},n}();var m=function(){function e(){return 0===i&&(i=n(p-d)),i}function t(){return 0===r&&(r=n(l.getDateNow()-d)),r}function n(e){return 100*Math.floor(e/100)}var i=0,r=0;return{getScriptTime:e,getConfigTime:t}}(),y={HIGHLIGHT_APVS:"highlightAPV",ENABLE_DEBUG:"enableDebug",FORCE_TEST:"forceTest",FORCE_YOUTUBE_API:"forceYtApi",DISABLE_PROD:"disableProd",BYPASS_WINDOW_LOAD:"bypassWindowLoad",ACTIVE_ALL:"activeAll",PREVENT_PAGE_LOAD:"preventPageLoad",IGNORE_REFERRERS:"ignoreReferrers",DISABLE_SCRIPT:"disableScript",ENABLE_BLOCKING_DISTANCE:"enableBD",ENABLE_BLOCKING_DISTANCE_DEBUG:"enableBDDebug",MINUTE_UI_TEST:"uiTest",DEBUG_VISIBILITY:"debugVisibility",FORCE_ENABLE:"forceEnable",FORCE_CONTENT_CHANGED:"forceContentChanged"},E={SCRIPT_HOSTNAME:"scriptHostname",IS_PROCUTION:"isProduction"};e.debugParams={},s.utils=s.utils||{},s.utils.Debounce=function(e,t,n){function i(e){f=e||p}function r(e,t){y=e||p,E=t||E}function o(){var e=arguments.length>0?l.cloneArray(arguments):g;P(e),A(e)}function a(){u()}function s(){u(),d=null,h=null,g=null}function c(){return v>0}function u(){c()&&(clearTimeout(v),v=0)}var p=e,d=t,h=n||null,g=l.cloneArray(arguments).slice(3),v=0,f=0,m=0,y=0,E=1,_=0,P=function(e){if(!(0>=f)){var t=l.getDateNow(),n=t>m+f;n&&(d.apply(h,e),m=t)}},A=function(e){var t=l.cloneArray(e);u(),_=0,v=setTimeout(function n(){_+1===E&&(t=t.concat(!0)),d.apply(h,t),_++,E>_&&setTimeout(n,p),a()},p)};return{enableFilter:i,setEcho:r,start:o,stop:a,kill:s,isRunning:c}},s.utils=s.utils||{},s.utils.Timer=function(e,t,n){function i(){if(0===P){var e=arguments.length>0?l.cloneArray(arguments):_;T(e)}}function r(e){S=e||0}function o(){return I}function c(){I=0}function u(){b=null,f()}function p(){f(),y=null,E=null,_=null,b=null,A.removeAllEventListener()}function d(){return 0!==P}function h(){A.addEventListener.apply(A,l.cloneArray(arguments))}function g(){A.removeEventListener.apply(A,l.cloneArray(arguments))}function v(e){y&&y.apply(E,e),0===S||S>I?(I++,A.dispatchEvent(s.utils.Timer.Tick)):f()}function f(){P>0&&(clearInterval(P),P=0)}var m=e,y=t,E=n||null,_=l.cloneArray(arguments).slice(3),P=0,A=new a,S=0,I=0,b=null,T=function(e){b=e,f(),P=setInterval(function(){v(b)},m)};return{start:i,stop:u,kill:p,reset:c,isRunning:d,setCounterLimit:r,getCounter:o,addEventListener:h,removeEventListener:g}},s.utils.Timer.Tick="timerTick",s.utils.Timer.start=function(e){var t=new s.utils.Timer(e);return t.start(),t};var _=function(t,n,i,r){function o(e){S=e,I=!!b}function a(e){e.session=ee.getId(),e.user=ee.getUserId(),e.url=e.url||t.urls.getCurrentStructuredUrl(),e.stor=!!b}function s(n,i){if(P){if(t.isArray(i))for(var r=0;r<i.length;r++)a(i[r]);else a(i);var o={ver:e.ver,type:n,payload:i};_&&(o.timestamp=(new Date).getTime()),I&&p(o),m.push(o),m.length>=y&&c()}}function l(){P=!1}function c(){if(document&&document.body&&0!==m.length){if(I&&(m=d(),h([])),0===m.length||A&&!A())return void(m=[]);var e,n=m.slice();m=[];var i=!0;if("string"==typeof n&&""!==n?e=0===n.indexOf('"[{\\"')?JSON.parse(n):n:t.isArray(n)&&n.length>0?e=JSON.stringify(n):t.isArray(n)&&0===n.length?i=!1:(t.sendErrorReport("EmitterEventsCorrupt"),i=!1),!se.isDebug()&&i&&!se.isActiveAll()){var r="data="+encodeURIComponent(t.b64EncodeUnicode(e));t.sendReportByUrl(E,r)}t.log("Emitter Send: "+e),t.log(n)}}function u(e){A=e}function p(e){var t=d();t.push(e),h(t)}function d(){var e=b?b.getItem(S):null;return e=e?JSON.parse(e):[]}function h(e){b&&b.setItem(S,JSON.stringify(e))}function g(){setInterval(c.bind(this),v)}var v=3e3,m=[],y=5,E=i||f.Urls.ServerData,_="undefined"!=typeof r?r:!0,P=!0,A=null,S=null,I=!1,b=n.getLocalStorageInstance();return{enableStorage:o,push:s,disable:l,flush:c,setValidator:u,init:g}},P=function(){function e(){function e(){return oe.getIsAnalyticsBroadcasterEnabled()?(l.log("*** AnalyticsBroadcaster Enabled: "+O),k=s.utils.Timer(n,E),k.start(),window.self.addEventListener("message",P),u(),void p()):void(N=r.Master)}function a(){return window.self!==window.top}function c(){return N===r.Master}function u(){var e=window.top.frames;v(window.top);for(var t=0;t<e.length;t++)v(e[t])}function p(){o.forEach(function(e){U[e]=!1})}function d(e,t){return""+e+"_"+(t.uniq?1:0)}function h(e,t){return!!U[d(e,t)]}function g(e,t){U[d(e,t)]=!0}function v(e,t){if(window.self!==e){var n={id:t?t.id:-1,window:e,status:t?t.status:r.Unknown};return V.push(n),f(e),n}}function f(e){e.postMessage&&e.postMessage(JSON.stringify({origin:t,type:i.DATA_UPDATE,id:O,status:N}),"*")}function m(e,n){M.postMessage&&M.postMessage(JSON.stringify({origin:t,type:i.REPORT_EVENT,id:O,eventType:e,eventData:n}),"*")}function y(){for(var e=0;e<V.length;e++)f(V[e].window)}function E(){k.kill(),_(),c()&&l.log("*** AnalyticsBroadcaster Master: "+O)}function _(){k.kill();for(var e=!0,t=0;t<V.length;t++){var n=V[t];if(-1!==n.id){if(n.status===r.Master)return M=n.window,void(N=r.Slave);O>n.id&&(e=!1)}}e&&(N=r.Master,y())}function P(e){var n=e.source,r=A(e.data);if(r&&r.origin===t)switch(r.type){case i.DATA_UPDATE:S(n,r);break;case i.REPORT_EVENT:b(r)}}function A(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){}return null}function S(e,t){var n=I(e);n?(n.id=t.id,n.status=t.status):n=v(e,t),c()?f(e):n.status===r.Master&&(k.kill(),N=r.Slave,M=n.window,C())}function I(e){for(var t,n=0;n<V.length;n++)if(t=V[n],t.window===e)return t;return null}function b(e){if(!c())throw new Error("Report event to non master window.");L(e.eventType,e.eventData)}function T(e,t){return c()||!w(e,t)?void L(e,t):void D(e,t)}function w(e){return o.indexOf(e)>-1}function L(e,t){w(e)&&h(e,t)||(g(e,t),te.send(e,t))}function D(e,t){return M?void m(e,t):void R.push({type:e,data:t})}function C(){R.forEach(function(e){m(e.type,e.data)}),R=[]}var O=a()?l.getDateNow():0,V=[],R=[],N=r.Unknown,k=null,M=null,U={};return{init:e,send:T}}var t="minuteBroadcaster",n=1500,i={DATA_UPDATE:"minuteDataUpdate",REPORT_EVENT:"minuteReportEvent"},r={Unknown:0,Master:1,Slave:2},o=[f.Emitter.NEW_VIDEO_EVENT,f.Emitter.NEW_SCRAPE_EVENT,f.Emitter.URL_REPORT,f.Emitter.VIDEO_PRESENT];return e}();!function(){l.sendReportByUrl=function(e,t){S.send(e,t)},l.sendLoggerReport=function(e){S.sendLog(e),l.log("sendLoggerReport: "+e)},l.sendUserAgentLoggerReport=function(e){S.sendLog(e)},l.sendErrorReport=function(e){oe.getIsEnableErrorReport()&&(S.sendError(e),l.log("sendErrorReport: "+e))}}();var A=function(){function e(e,i){var r=n(e.split("."),4),o=n(i.split("."),4);return t(r,o)}function t(e,t){if(e.length!==t.length)return null;for(var n=0;n<t.length;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}function n(e,t){for(var n=t?t:3,i=e.map(function(e){return parseInt(e,10)}),r=n-i.length,o=r;o>0;o--)i.push(0);return i}return{compare:t,convertVersionToNumbers:n,compareStr:e}};!function(){l.urls={},l.urls.setReferrerUrl=function(){window.parent===window&&(_min.referrer=window.location.href||"")},l.urls._getReferrerUrlCommon=function(e){var t;if(oe.getIsTopWindowReferrerEnabled()&&window.parent!==window)try{t=window.parent._min.referrer||""}catch(n){}t||(t=document.referrer||"");var i=e(t);return i.length<1500?i:""},l.urls.getReferrerUrl=function(){return l.urls._getReferrerUrlCommon(l.urls.getStructuredByUrlWithoutOrigin)},l.urls.getReferrerUrlWithOrigin=function(){return l.urls._getReferrerUrlCommon(l.urls.getStructuredByUrl)},l.hasOwnProperty=Object.prototype.hasOwnProperty,l.isObjEmpty=function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var t in e)if(l.hasOwnProperty.call(e,t))return!1;return!0},l.urls.getCurrentUrl=function(){return window.location.href},l.urls.removeOrigin=function(){var e=document.createElement("a");return function(t){return e.href=t,(X.isIE()||X.isEdge())&&(e.origin=e.protocol+"//"+e.hostname),t.split(e.origin)[1]}}(),l.urls.removeTrailingSlash=function(e){return e&&e.length>0&&"/"==e.charAt(e.length-1)?e.substring(0,e.length-1):e},l.urls.getCanonicalUrl=function(){var e=null;return function(){return e||(e=l.urls.getCurrentUrl().replace(/^(https?:\/\/)www\./i,"$1")),e}}(),l.urls.getStructuredByUrl=function(){var e=document.createElement("a");return function(t,n){e.href=t;var i="",r=n||oe.getUrlStructure();if(0===r.length)return t;for(var o=0;o<r.length;o++)i+=r[o]!==f.UrlStructure.Origin||e.origin?r[o]!==f.UrlStructure.PathName||"/"==e[r[o]].charAt(0)?e[r[o]]:"/"+e[r[o]]:window.location.origin;return l.urls.removeTrailingSlash(i)}}(),l.urls.getStructuredByUrlWithoutOrigin=function(e,t){var n=l.cloneArray(t||oe.getUrlStructure());return n.indexOf(f.UrlStructure.Origin)>-1&&n.splice(0,1),l.urls.getStructuredByUrl(e,n)},l.urls.isImageUrl=function(){var e=document.createElement("a"),t=/\.(?:gif|png|webp|jpg|jpeg)$/i;return function(n){return e.href=n,t.test(e.pathname)}}(),l.urls.getCurrentStructuredUrl=function(){return l.urls.getStructuredByUrl(U.getWindowLocationHref())},l.urls.getCurrentStructuredUrlWithoutOrigin=function(e){return l.urls.getStructuredByUrlWithoutOrigin(U.getWindowLocationHref(),e)},l.urls.isImageUrl=function(){var e=document.createElement("a"),t=/\.(?:gif|png|webp|jpg|jpeg)$/i;return function(n){return e.href=n,t.test(e.pathname)}}()}();var l=l||{};!function(){!function(){window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))}(),function(){String.prototype.endsWith||(String.prototype.endsWith=function(e,t){if(void 0===e)return!1;var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t})}()}(),function(){function t(){n&&n();var t=e.debugParams[y.PREVENT_PAGE_LOAD]||"";return h&&""===t&&h.dispatchEvent(f.Events.WINDOW_DISPOSE),""!==t?t:void 0}var n=window.onbeforeunload;window.onbeforeunload=t}(),l.globalTasks={},l.globalTasks.listenToWindowErrors=function(){!l.isDebugEnabled()&&window.addEventListener&&window.addEventListener("error",function(e){e.error&&l.reportErrorIfNeeded(e.error)})},l.config={},l.config.getIndexLocation=function(e){return"undefined"==typeof e.getContainerIndexLocation()?f.APPEND_CHILD_CODE:parseInt(e.getContainerIndexLocation(),10)},l.config.isParentAppend=function(e){return":parent"===e.getContainerIndexLocation()},l.DomAdapter={},l.DomAdapter.getContainingsElements=function(e,t,n){},l.flags={},l.flags.isNewScraper=function(){return s.scrap&&s.scrap.ScraperService},l.isDebugEnabled=function(){return l.debugParamsOverrides(),e.debug},l.reportErrorIfNeeded=function(t){var n=/(mi-[\d\w_-]*\.js|mi\.js)/i;if(t&&t.stack&&n.test(t.stack)){l.log("Error found!");var i={ver:e.ver,message:t.message,agent:navigator.userAgent||navigator.vendor||window.opera,stack:t.stack};l.sendErrorReport(JSON.stringify(i))}},l.logData={id:Math.floor(1e3*Math.random()),color:function(){function e(){return Math.floor((Math.ceil(256*Math.random())+(/^((?!chrome|android|crios).)*(safari|iphone|ipad)/i.test(navigator.userAgent)?0:255))/2)}return e().toString(16)+e().toString(16)+e().toString(16)}()},l.log=function(){if(e.debug===!0){var t=re.isTestGroup()?" [Test Group]":"";if("string"==typeof arguments[0]&&(arguments[0]=t+" "+(l.getDateNow()-d)+"ms >> "+arguments[0]),J.isIframe()&&"string"==typeof arguments[0]){arguments[0]="%c IFrame "+l.logData.id+t+": "+arguments[0];var n="color:#"+l.logData.color+";";console.log(arguments[0],n)}else console.log.apply(console,arguments)}if(X.isUserAgentDebug()){var i=l.cloneArray(arguments).join(" ");l.sendUserAgentLoggerReport(i)}},l.logWarning=function(){var e=Array.prototype.slice.call(arguments),t=e.join(" ");t="%c  *** "+t;var n="color:#FFAD33;font-weight: bold;font-size:13px";l.log(t,n)},l.logError=function(){var e=Array.prototype.slice.call(arguments),t=e.join(" ");t="%c  *** "+t;var n="color:#FF0000;font-weight: bold;font-size:14px";l.log(t,n)},l.generateUID=function(){function e(){return Math.floor((1+Math.random())*l.getDateNow()).toString(16).substring(1)}return e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()},l.timestampDiffInSec=function(e,t){
return Math.floor((e-t)/1e3)},l.b64EncodeUnicode=function(e){function t(e){function t(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}var n,i,r,o,a,s,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",p=0;for(e=t(e);p<e.length;)n=e.charCodeAt(p++),i=e.charCodeAt(p++),r=e.charCodeAt(p++),o=n>>2,a=(3&n)<<4|i>>4,s=(15&i)<<2|r>>6,l=63&r,isNaN(i)?s=l=64:isNaN(r)&&(l=64),u=u+c.charAt(o)+c.charAt(a)+c.charAt(s)+c.charAt(l);return u}return(window.btoa||t)(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))},l.timeRounder=function(e){return Math.round(10*e)/10},l.getComputedStyle=function(e){return window.getComputedStyle(e)},l.win_lose_focus=function(e,t){function n(){e.call(t,1)}function i(){e.call(t,0)}t&&(X.isIE()||X.isEdge()?(window.onfocus=n,window.onblur=i):window.addEventListener?(window.addEventListener("focus",n,!1),window.addEventListener("blur",i,!1)):window.attachEvent&&(window.attachEvent("focus",n),window.attachEvent("blur",i)))},l.restore_style_property=function(e,t,n){var i=n[t];i?e.style[t]=n[t]:e.style.removeProperty(t)},l.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},l.setMediaElementSize=function(e,t,n){t=t||e.videoWidth||e.naturalWidth,n=n||e.videoHeight||e.naturalHeight,e.setAttribute("data-media_dimensions",t+","+n)},l.extractElementSize=function(e){var t=e.getBoundingClientRect(),n=Math.round(parseFloat(t.width)),i=Math.round(parseFloat(t.height));return{width:n,height:i,error:""}},l.getMediaElementSize=function(e){var t=e.getAttribute("data-media_dimensions");return t?(t=t.split(","),t.length<0&&(t[0]*=1,t[1]*=1),t):null},l.ElementObjectFit=function(){function e(e,t,n){var i,r=e.parentNode;if(r&&(i=l.getMediaElementSize(e))){n=n||{};var o,a,s=n.origin||"0% 0%",c=l.getComputedStyle(t);if("100%"!==c.width||"100%"!==c.height){var u,p=i[0],d=i[1],h=parseFloat(c.width),g=parseFloat(c.height),v=g/d;h>p*v&&(v=h/p),u=(p*v-h)/2,v=Math.ceil(10*v)/10,o="scale("+v+")",e.style.transformOrigin=s,e.style.webkitTransformOrigin=s,e.style.msTransformOrigin=s,e.style.mozTransformOrigin=s,e.style.oTransformOrigin=s,e.style.transform=o,e.style.msTransform=o,e.style.mozTransform=o,e.style.webkitTransform=o,e.style.oTransform=o,e.style.width="auto",e.style.height="auto",e.style.maxWidth="none",e.style.maxHeight="none",e.style.left="-"+u+"px",a=e.style.borderRadius,0!=a&&(r.style.borderRadius=a,r.style.overflow="hidden")}}}function t(t,r,o){if(!X.isObjectFitSupported()){var a;if(o=o||{},o[i])return void e(t,r,o[i]);a=o[n]?o[n]||t.style.objectFit:t.style.objectFit||"cover","cover"===a&&e(t,r)}}var n="object-fit",i="object-fit-polyfill";return{set:t}}(),l.getProtocol=function(){var e="https:"==document.location.protocol?"https":"http";return function(){return e}}(),l.setUrlProtocol=function(){return function(e){return 0===e.indexOf("http")?e:l.getProtocol()+"://"+e}}(),l.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},l.isFunction=function(e){return"function"==typeof e||!!(e&&e.constructor&&e.call&&e.apply)},l.cloneArray=function(e){return Array.prototype.slice.call(e)},l.cloneObject=function(e){var t={};for(var n in e)if(l.isArray(e[n]))t[n]=l.cloneArray(e[n]);else if(null!==e[n])switch(typeof e[n]){case"boolean":case"number":case"string":case"undefined":t[n]=e[n];break;case"object":t[n]=l.cloneObject(e[n])}else t[n]=null;return t},l.extentObject=function(e,t){for(var n in e)if(null!==e[n]&&void 0!==e[n]||null===t[n])if(l.isArray(e[n]))t[n]=l.cloneArray(e[n]);else if(void 0!==t[n])switch(typeof e[n]){case"boolean":case"number":case"string":t[n]=e[n];break;case"object":t[n]=l.extentObject(e[n],t[n])}else t[n]=e[n];return t},l.debugParamsOverrides=function(t){if(t||!(Object.keys(e.debugParams).length>0)){var n=l.parseUrlDebugParams();e.debugParams=n,"undefined"!=typeof n[y.ENABLE_DEBUG]&&(e.debug="true"==n[y.ENABLE_DEBUG]),l.parseScriptDomain()}},l.parseUrlDebugParams=function(){var e=l.urls.getStructuredByUrl(U.getWindowLocationHref(),[f.UrlStructure.Search]),t={};if(""===e)return t;0===e.indexOf("?")&&(e=e.slice(1));for(var n,i,r=e.split("&"),o=/^qadt([\d\w]+)$/,a=0;a<r.length;a++)n=r[a].split("="),i=n[0],o.test(i)&&(i=i.replace(o,"$1"),t[i]=n[1]);return t},l.parseScriptDomain=function(){var t="snippet.minute.ly",n="d2d4r7w8.map2.ssl.hwcdn.net",i=l.getScriptHostname();e.debugParams[E.IS_PROCUTION]=i===t||i===n,e.debugParams[E.IS_PROCUTION]&&(i=""),e.debugParams[E.SCRIPT_HOSTNAME]=i},l.getScriptHostname=function(){var e="";if(document.currentScript){var t=document.createElement("a");t.href=document.currentScript.src,e=t.hostname}return function(){return e}}(),l.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n},l.ceil_style_value=function(){var e=/[0-9,\.]*/;return function(t,n){return n=n||0,Math.ceil(parseFloat(t)+n)+""+t.toString().replace(e,"")}}(),l.checkPotentialScraperUrls=function(){var t=null,n=null,i=Z.getSessionStorageInstance();return function(){if(e.debugParams[y.IGNORE_REFERRERS])return!0;if(!i)return!0;if(t||(t=decodeURIComponent(i.getItem(f.LocalStorage.POTENTIAL))),!t)return!0;try{n=n||JSON.parse(t)}catch(r){return!0}if(!n||0===n.length)return!0;for(var o=l.urls.getStructuredByUrl(window.location.href),a=0;a<n.length;a++)if(n[a]==o)return!0;return!1}},l.scraperWouldHaveBeenBlocked=function(){return!l.validateScraperReferrerURL()||!l.checkPotentialScraperUrls()},l.validateScraperURLForDelayedInternal=function(){return l.isCurrentUrlFilterValid(oe.getFilterScraper())&&!l.isApvExists()},l.validateScraperURL=function(){if(X.isScraperEnabled())if(oe.getIsScrapOgTypeEnabled()&&!l.OgType.isArticle())l.log("** Scraper disabled by og:type not valid. **");else if(l.checkPotentialScraperUrls(),l.isCurrentUrlFilterValid(oe.getFilterScraper())){if(!l.isApvExists())return!0;l.log("** Scraper blocked by APV already exist. **")}else l.log("** Scraper blocked by Filter URL. **");else l.log("** Scraper disabled by configuration. **");return te.getPlayerContent().disable(),te.getPlayerContentDelayed().disable(),!1},l.OgType=function(){function e(){return!!o}function t(){return e()?(l=o.getAttribute("content"),s=0===l.indexOf("video"),a=s||0===l.indexOf("article")):void 0}function n(){return a}function i(){return s}function r(){if("undefined"==typeof c){var e=document.querySelector("meta[property='og:url'][content]");c=e&&e.content?e.content:""}return c}var o=document.querySelector("meta[property='og:type'][content]"),a=!1,s=!1,l=null,c=void 0;return t(),{isExist:e,isArticle:n,isVideo:i,getArticleUrl:r}}(),l.isPlacementEnabled=function(){return"undefined"!=typeof e.debugParams[y.ACTIVE_ALL]?!0:l.isCurrentUrlFilterValid(oe.getFilterPlacements())},l.validateScraperReferrerURL=function(){if("undefined"!=typeof e.debugParams[y.IGNORE_REFERRERS])return!0;var t=oe.getReferrers(),n=l.urls.getReferrerUrl();if(0===t.length)return!0;for(var i,r=0;r<t.length;r++)if(i=new RegExp(t[r],"i"),i.test(n))return!0;return l.log("Referrer URL not match."),!1},l.isCurrentUrlFilterValid=function(e){return l.isUrlFilterValid(U.getWindowLocationHref(),e)},l.isUrlFilterValid=function(e,t){return l.isUrlMatchPattern(e,t.white)?!0:0!==t.white.length?!1:l.isUrlMatchPattern(e,t.black)?!1:!0},l.isApvExists=function(){for(var e,t=l.urls.getCurrentStructuredUrl(),n=0;n<se.getVideosCount();n++){e=se.getByIndex(n);var i=l.urls.getStructuredByUrl(e.getArticleUrl());if(i===t)return l.log("ContentScraper - video is already known! no need to update server! "+e.getArticleUrl()),!0}return!1},l.isUrlMatchPattern=function(e,t){for(var n,i=0;i<t.length;i++)if(n=new RegExp(t[i],"i"),null!==e.match(n))return!0;return!1},l["extends"]=function(e,t){e.__superCtor__=t,e.__super__=t.prototype,e.prototype=Object.create(t.prototype),e.prototype.constructor=e},l.overrideObjectItems=function(e,t){for(var n in t)e.hasOwnProperty(n)&&(t[n]=e[n])},l.fadeout=function(e){var t=1,n=setInterval(function(){.1>=t&&(clearInterval(n),e.style.opacity=0),e.style.opacity=t,e.style.filter="alpha(opacity="+100*t+")",t-=.1*t},50)},l.getlistAsArray=function(e){return"string"!=typeof e?e||[]:""===e?[]:JSON.parse(e)},l.createArrayFromDictinary=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},l.extractImageUrlFromStyle=function(){var e=/^url\("?([^"]+)"?\)$/i;return function(t){return t&&e.test(t)?t.replace(e,"$1"):null}}(),l.getIFrameWindow=function(e){try{var t=e.contentWindow,n=Object.keys(t);if(n.length>0)return t}catch(i){}return null},l.isElementHasSize=function(e){if(l.plugins.isPlugin())return!0;if(!e)return!1;var t=l.getComputedStyle(e),n=parseInt(t.width,10),i=parseInt(t.height,10);if(i>10&&n>10||"auto"===t.height&&"auto"===t.width)return!0;var r=e.getBoundingClientRect();return r.width>10&&r.height>10},l.plugins=function(){function e(){for(var e=[],t=[],n=0;n<r.length;n++){t=r[n].getIframeWindows();for(var i=0;i<t.length;i++)e.push(t[i])}return e}function t(){for(var e=0;e<r.length;e++)if(r[e].checkPlugin())return!0;return!1}function n(e){e&&r.push({checkPlugin:e.checkPlugin||function(){return!1},getIframeWindows:e.getIframeContentWindow||function(){return[]},addPlayEventListener:e.addPlayEventListener||function(){}})}function i(e,t,n){for(var i=0;i<r.length;i++)r[i].addPlayEventListener(e,t,n)}var r=[];return{addSpecialCheck:n,isPlugin:t,getIframeWindows:e,addPlayEventListener:i}}(),l.parseBool=function(e){return"true"===e||e===!0},l.generateUnique=function(){return"xxxxxxxxxxxx-xxxx-4xxx-yxxxxxx-xxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},l.getDateNow=function(){return(new Date).getTime()},l.trackMinuteGenesis=function(){g.add("MinGenesis*T"+(p-d))},l.getTrackerTiming=function(e){return e+"*T"+(l.getDateNow()-d)},l.getRequestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)}},l.getCancelAnimationFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(){}},l.optimizely={},l.optimizely.trackEvent=function(e){oe.getOptimizely().enable&&("undefined"==typeof window.optimizely&&(window.optimizely=[]),l.log("send optimizely: "+e),window.optimizely.push(["trackEvent",e]),l.sendLoggerReport("optimizely:user:"+ee.getUserId()+":"+e))},l.hasVideoViewEnabled=function(){return!!s.videoViews&&!!s.videoViews.VideoViewManager},l.poll=function(e,t,n){var i=setInterval(function(){e()&&(clearInterval(i),t())},n)},l.UniqHandler=function(){var e=this,t={};e.handle=function(e,n){e in t||(t[e]=!0,n())}},l.isElementLazyLoad=function(e){var t=e.getElementToReplace();if("IMG"!==t.tagName)return!1;var n=t.getAttribute("srcset"),i=t.getAttribute("src");if(!i&&!n)return!0;if(i&&i.indexOf("base64")>-1&&!n)return!0;if(e.getPlacement().getMinuteLocation()===f.PlacementKeys.CHILD)return!l.extractImageUrlFromStyle(t.style.backgroundImage);var r=e.getPlacement().getLazyBackgroundSrc();return r&&i.indexOf(r)>-1&&!n?!0:!1},l.contains=function(e,t){return-1!==e.indexOf(t)},l.isNative=function(e){return/\{\s*\[native code]\s*}/.test(""+e)},function(){function e(e,t){function n(){v.addEventListener(d,o,!0),v.addEventListener("touchstart",s,!0),v.addEventListener("touchend",c,!0),t&&g.addEventListenerOnce(d,t)}function i(){r(),f=setTimeout(u,h)}function r(){0!==f&&(clearTimeout(f),f=0)}function o(){g.dispatchEvent(d),r(),t&&p()}function s(){i(),m=l.getDateNow()}function c(){r(),l.getDateNow()-m<h&&o()}function u(){f=0}function p(){g.removeAllEventListener(),r(),v.removeEventListener(d,o,!0),v.removeEventListener("touchstart",s,!0),v.removeEventListener("touchend",c,!0),v=null}var d="click",h=300,g=new a,v=e,f=0,m=0;return n(),{addEventListener:g.addEventListener.bind(g),removeEventListener:g.removeEventListener.bind(g),addEventListenerOnce:g.addEventListenerOnce.bind(g),dispose:p}}s.utils=s.utils||{},s.utils.MouseClickEventObserver=e}(),l.adapters={},l.adapters.wrap=function(e,t,n){this.originalHandler=e[t];var i=this;e[t]=function(){return n.apply(i,arguments),i.originalHandler.apply(e,arguments)}},l.adapters.unWrap=function(e,t){"function"==typeof this.originalHandler&&(e[t]=this.originalHandler)},l.adapters.VirtualClickOrganizer=function(){function e(e){n[e.getId()]=!0}function t(t){return t.isApvEnabled()&&!n[t.getId()]?(e(t),!0):!1}var n={};return{isValid:t,validate:e}}(),function(){function e(e){function t(){return P}function n(){if(!h){var e=void 0;h=new XMLHttpRequest,v===l?g+="_.gif?"+y:(v=c,g+="_.gif",e=y),h.open(v,g,!0),f&&h.setRequestHeader(r,f),h.onload=i,h.onerror=d,h.ontimeout=p,h.timeout=m,h.send(e)}}function i(){h.status>=200&&h.status<300?E.dispatch():_.dispatch("XHR_Complete:"+h.status)}function p(){_.dispatch("timeout")}function d(){_.dispatch("error:"+h.status)}var h,g=e.url||"",v=e.method||l,f=v===l?o:a,m=e.timeout||5e3,y=e.data,E=new s.utils.Signal,_=new s.utils.Signal,P="XHR"+u++;return{getID:t,load:n,onComplete:E,onError:_,Methods:{GET:l,POST:c}}}function t(t,n){var i=new e(t),r=function(e){p[i.getID()]=void 0,i.onComplete.removeAll(),i.onError.removeAll(),n(e)};return p[i.getID()]=i,i.onComplete.addOnce(r),i.onError.addOnce(r),i.load(),i}function n(e,n){return e.method=l,t(e,n)}function i(e,n){return e.method=c,t(e,n)}var r="Content-Type",o="image/gif",a="application/text",l="get",c="post",u=0;s.utils=s.utils||{},s.utils.ajax=s.utils.ajax||{},s.utils.ajax.XHRRequest=e;var p={};s.utils.ajax.sendGetRequest=n,s.utils.ajax.sendPostRequest=i}();var S=function(){function e(e){n(f.Urls.Logger,e,f.ReportMethods.GIF)}function t(e){n(f.Urls.Error,e,f.ReportMethods.POST)}function n(e,t,n){if(!n&&M)return void p(e+"_.gif?"+t);n=n||oe.getReportMethod()||f.ReportMethods.POST;var o=s.utils.ajax;switch(n){case f.ReportMethods.GIF:r(e,t);break;case f.ReportMethods.GET:o.sendGetRequest({url:e,data:t},i);break;case f.ReportMethods.POST:oe.getBeaconReportMethod()?navigator.sendBeacon(e+"_.gif",t):o.sendPostRequest({url:e,data:t},i)}}function i(e){e&&l.sendErrorReport("EmitterErrorContent:"+e)}function r(e,t){var n=new Image;n.onload=function(){o(this)},n.onerror=function(){l.sendErrorReport("EmitterErrorContent:NoTrace"),o(this)},n.src=e+"_.gif?"+t,document.body.appendChild(n)}function o(e){try{document.body.removeChild(e)}catch(t){}}function a(){var e=M.getItem(b);e=e?JSON.parse(e):[],U=e}function c(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push({owner:i.owner,url:i.url,state:i.state,time:i.time,retry:i.retry})}return t}function u(){clonedList=c(U),M.setItem(b,JSON.stringify(clonedList)),U=null}function p(e){var t={owner:k,url:e,image:null,state:T,time:0,retry:-1};a(),d(t),U.push(t),u()}function d(e){e.image=h(e),e.time=l.getDateNow(),e.retry+=1,e.state=w,document.body.appendChild(e.image)}function h(e){var t=new Image;return t.onload=function(){g(e)},t.onerror=function(){v(e)},t.src=e.url,t}function g(e){a(),y(e),u()}function v(e){if(l.sendErrorReport("EmitterErrorContent:"+JSON.stringify(e)),e.retry===N)return a(),y(e),void u();var t=e.retry*R;setTimeout(function(){a(),m(e),u()},t)}function m(e){_(e),E(e),d(e),U.push(e)}function y(e){_(e),E(e)}function E(e){for(var t=-1,n=0;n<U.length;n++)e.url===U[n].url&&(t=n);t>-1&&U.splice(t,1)}function _(e){try{document.body.removeChild(e.image)}catch(t){}}function P(){a(),A(),u()}function A(){for(var e,t=0;t<U.length;t++)e=U[t],S(e)&&I(e)}function S(e){if(e.guid===k)return!0;var t=l.getDateNow()-e.time;return t>O?(e.guid=k,e.retry=-1,!0):!1}function I(e){var t=!1;switch(e.state){case T:case L:t=!0;break;case D:y(e);break;case w:var n=l.getDateNow()-e.time;n>C&&(t=!0)}t&&m(e)}var b="_minRTrs",T=0,w=1,L=2,D=3,C=2e4,O=35e3,V=5e3,R=5e3,N=20,k=l.generateUnique(),M=null,U=null,B=null;return M&&(B=new s.utils.Timer(V,P),B.start()),{send:n,sendLog:e,sendError:t}}(),I=function(){function e(e,t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.right>n.right,a=i.left<n.left,s=i.top>=n.bottom,l=i.bottom<=n.top,c={state:r.FULLY_VISIBLE,percentage:1};return s||l?(c.percentage=0,c.state=r.HIDDEN,c):(a?c.percentage=(i.right-n.left)/i.width:o&&(c.percentage=(i.width-(i.right-n.right))/i.width),c.percentage>0&&c.percentage<1?c.state=r.ANALYTICS_VISIBLE:c.percentage<=0?c.state=r.HIDDEN:c.state=r.FULLY_VISIBLE,c.percentage=c.percentage<0?0:100*c.percentage,c)}function t(t,n){var i,a=100*o(t);return i=0===a?r.HIDDEN:100===a?r.FULLY_VISIBLE:r.ANALYTICS_VISIBLE,n!=window&&i!==r.HIDDEN&&n?e(t,n):{state:i,percentage:a}}function n(e,n){var i=t(e,n).state;return i!==r.HIDDEN}function i(e,n){return t(e,n).percentage}var r={HIDDEN:0,ANALYTICS_VISIBLE:1,FULLY_VISIBLE:2},o=function(){function e(e){return e&&1===e.nodeType||!1}function t(e){var t=e||window;return{height:t.innerHeight,width:t.innerWidth}}function n(e,t){return(t||window).getComputedStyle(e,null)}function i(e,t){return e.getPropertyValue(t)}function r(t,o){o||(o=n(t));var a=i(o,"display");if("none"===a)return!1;var s=t.parentNode;return e(s)?r(s):!0}function o(e,t){if(e===(t||window).document)return!0;if(!e||!e.parentNode)return!1;var o=n(e,t),a=i(o,"visibility");return"hidden"===a||"collapse"===a?!1:r(e,o)}function a(e,t){return!e||e.width<=0||e.height<=0?!1:e.bottom>0&&e.right>0&&e.top<t.height&&e.left<t.width}return function(e,n){if(!e)return 0;var i=e.getBoundingClientRect(),r=t(n);if(!a(i,r)||!o(e,n))return 0;var s=0,l=0;return i.top>=0?s=Math.min(i.height,r.height-i.top):i.bottom>0&&(s=Math.min(r.height,i.bottom)),i.left>=0?l=Math.min(i.width,r.width-i.left):i.right>0&&(l=Math.min(r.width,i.right)),s*l/(i.height*i.width)}}();return{isElementVisible:n,getViewportState:t,getElementVisiblePercents:i,state:r}}(),b=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},i.defaults,o),"number"==typeof o.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(l){}return r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",r,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,p=0;p<c.length;p++){var d=c[p].split("="),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var g=d[0].replace(u,decodeURIComponent);if(h=n.read?n.read(h,g):n(h,g)||h.replace(u,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(l){}if(t===g){a=h;break}t||(a[g]=h)}catch(l){}}return a}}return i.setItem=i,i.getItem=function(e){return i(e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.removeItem=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i.isCookiesEnable=function(){var e=!1;try{i.setItem("_minTest","exist"),e=!!i.getItem("_minTest"),i.removeItem("_minTest","true")}catch(t){return!1}return e}(),i}return t(function(){})},T=function(e){function t(t){return i?localStorage:r?sessionStorage:t!==!1&&e.isCookiesEnable?e:null}function n(){return r?sessionStorage:i?localStorage:null}var i=function(){try{localStorage.setItem("_minTest","test value"),localStorage.removeItem("_minTest")}catch(e){return!1}return"undefined"!=typeof Storage}(),r=function(){try{sessionStorage.setItem("_minTest","test value"),sessionStorage.removeItem("_minTest")}catch(e){return!1}return!0}();return{getLocalStorageInstance:t,getSessionStorageInstance:n,isLocalStorageEnable:i,isSessionStorageEnable:r}},w=function(e,t){function n(e){return p[e]}function i(t,n){p[t]=n,p[g]=e.getDateNow(),r()}function r(){m&&p&&m.setItem(d,JSON.stringify(p))}function o(t){var n=Math.abs(e.getDateNow()-t);return n>h}function a(){if(m=t.getLocalStorageInstance())if(p=JSON.parse(m.getItem(d)||"{}")){var n=Math.abs(e.getDateNow()-p[g]);if(n>h){var o=p[f]||"";m.removeItem(d),s(),p[f]=o||p[f],r()}p[v]||i(v,e.generateUID()),p[f]||i(f,e.generateUID())}else s(),r()}function s(){var t={};t[v]=e.generateUID(),t[f]=e.generateUID(),t[g]=e.getDateNow(),p=t}function l(){p={},m.removeItem(d)}function c(){return n(v)}function u(){return n(f)}var p={},d="minSessionToken",h=18e5,g="__timestamp__",v="sessionId",f="uid",m=null;return{get:n,set:i,isSessionTimeExpired:o,reset:l,init:a,getId:c,getUserId:u}};!function(){var e={};s.utils=s.utils||{},s.utils.DomFinder=e;var t=[];e.AddSpecialElement=function(e){t.push({getPattern:e.getPattern,getElement:e.getElement})},e.setElementAsReplaced=function(e){e.setAttribute("data-apv_replaced","true")},e.getIsElementReplaced=function(e){return"true"===e.getAttribute("data-apv_replaced")}}();var L=function(e,t,n,i){function r(){t.parent.postMessage(o(),"*")}function o(){return JSON.stringify({origin:E,type:S.DATA_REQUEST,window_origin:t.location.origin})}function a(t){var n=p(t.data);n.type===S.DATA_REQUEST&&(e.log("got request from post message: "+t.data),s())}function s(){_.forEach(function(e){e instanceof Object&&e.postMessage instanceof Function&&e.postMessage(l(),"*")})}function l(){return JSON.stringify({origin:E,type:S.DATA_RESPONSE,isTestGroup:P,subTestGroup:A,window_origin:t.location.origin,href:t.location.href})}function c(){n||t.addEventListener("message",a)}function u(e,t){P=e,A=t,n?r():s()}function p(e,t){try{var n=JSON.parse(e);if(n.origin===E)return n.event=t,n}catch(i){}return{type:S.INVALID}}function d(e,t){var n=p(e.data,e);n.type===S.DATA_RESPONSE&&t(n)}function h(e){t.addEventListener("message",function(t){var n=p(t.data,t);n.type===S.MINUTE_REQUEST_FROM_IFRAME&&e(n)})}function g(e,n){t.addEventListener("message",function(t){var i=p(t.data,t);i.subtype===e&&n(i)})}function v(e,t){e.addEventListener("message",function(e){d(e,t)})}function f(e,t,n){e.addEventListener("message",function(e){var i=p(e.data,e);i.subtype===t&&n(i)})}function m(n,i){var r={origin:E,type:S.MINUTE_REQUEST_FROM_IFRAME,window_origin:t.location.origin};r.subtype=n,e.extend(r,i),t.parent.postMessage(JSON.stringify(r),"*")}function y(n,i,r){var o={origin:E,type:S.DATA_RESPONSE,isTestGroup:P,subTestGroup:A,window_origin:t.location.origin,href:t.location.href};o.subtype=i,e.extend(o,r),n.postMessage(JSON.stringify(o),"*")}var E="minute",_=i||[],P=null,A=null,S={DATA_REQUEST:"minuteDataRequest",DATA_RESPONSE:"minuteDataResponse",INVALID:"invalid",MINUTE_REQUEST_FROM_IFRAME:"minuteRequestFromIFrame"};return{broadcast:u,listen:c,addPostMessageListener:v,addParentListener:h,DataTypes:S,sendToParent:m,addPostMessageListenerBySubtype:f,addParentListenerBySubtype:g,postToIframe:y}};!function(){function e(e,t,n){function i(){v||(v=new s.utils.Timer(d,o),v.setCounterLimit(p)),f=null,o(),v.start(),v.reset()}function r(){v.kill(),v=null,h.removeAll(),h=null,u=null}function o(){var e=l.extractElementSize(u);if(!e.error)return f?void(f.width!==e.width||f.height!==e.height?(f=e,v.reset(),h.dispatch()):v.getCounter()>=p&&g.dispatch()):void(f=e)}function a(){return h.add.bind(h)}function c(){return g}var u=e,p=t,d=n,h=new s.utils.Signal,g=new s.utils.Signal,v=null,f=null;return{start:i,addSizeChangedListener:a,addSizeChangeFailedListener:c,dispose:r}}s.utils=s.utils||{},s.utils.ElementSizeTracer=e}();var D=function(e,t,n,i,r){function o(){if(!e.shouldHideNativePlayIcon())return void n.log("Charmer: no need to hide native play button, set by config");var t=".IIV::-webkit-media-controls-play-button,.IIV::-webkit-media-controls-start-playback-button {opacity: 0;pointer-events: none;width: 5px;}",r=document.createElement("style");r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),i.getElementsByTagName("head")[0].appendChild(r)}function a(e){return n.log("Charmer: Init..."),l?u?void n.log("Charmer: Android 53+ - no need for package, native play"):c&&9==t.getiOSVersion()?void n.log("Charmer: iOS 9 shouldnt be charmer here, where is the gif?"):(o(),n.log("Charmer: iOS>=10 + feed apv = multiple apv's activating non native inline play $3=false"),void r(e,!1,!1)):void n.log("Charmer: Not mobile - no charmer needed")}s.utils=s.utils||{},s.utils.CharmerService=D;var l=t.isMobile(),c=(t.getiOSVersion()>=10,t.isSafari()),u=t.isAndroid();t.isiPad()&&t.getiOSVersion()>=9;return{start:a}},C=function(){function e(){r=[],o=[];for(var e=document.querySelectorAll("iframe"),t=0;t<e.length;t++)r.push(e[t].contentWindow),o.push(e[t])}function t(){return e(),r}function n(){return e(),o}function i(){return window.self!==window.top}var r=[],o=[];return{isIframe:i,getIframeWindows:t,getIframes:n}},O=function(e,t,n){function i(e){var t,n,i=e.compatibility;switch(typeof i){case"undefined":return;case"string":i=JSON.parse(i)}R?(t=i.mobile||{},n=i.os||{},B.overrideObjectItems(n,U)):t=i.desktop||{},B.overrideObjectItems(t,M)}function r(){var e=F.match(/android\s*(\d+\.?\d*\.?\d*)/i);return e&&2===e.length?n.convertVersionToNumbers(e[1].split(".")):null}function o(e,t,n,i){var r=null;if(n&&e.match(n))return r;i=i||2;var o=e.match(t);return o&&(r=parseInt(o[i],10)),r}function a(e){return{firefox:function(){return o(e,/mozilla\/[\w\.]+.+rv\:.+gecko\/\d+.+(firefox)\/([\w\.]+)/i,W)},edge:function(){return o(e,/(edge)\/((\d+)?[\w\.]+)/i,W)},chrome:function(){return o(e,/(chrome)\/v?([\w\.]+)/i,W)},msie:function(){var t=o(e,/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i),n=o(e,/(?:ms|\()(ie)\s([\w\.]+)/i);return t||n},safari:function(){return o(e,/version\/([\w\.]+).+?(mobile\s?safari|safari)/i,W,1)},crios:function(){return o(e,/(CriOS)\/v?([\w\.]+)/i,W,2)}}}function s(){var e,t=/(?:iPhone|iPod|iPad)/i;return t.test(F)?(e=F.match(/OS (\d+)_(\d+)_?(\d+)?/i),e?n.convertVersionToNumbers(e.slice(1,3)):null):null}function l(){var e,t;if(!R)return!1;if(e=r())return t=x.chrome(),C=t>=M.chrome||n.compare(e,U.android)>=0?t:0,D="chrome",O=M.chrome,!0;if(e=s()){var i=n.compare(e,U.ios)>=0;if(i){var o=x.crios();return o?(C=o,O=M.crios,D="crios"):(C=e[0],D="safari",O=M.safari),!0}}return!1}function c(){var e;for(var t in M)if(x[t]){if(e=x[t]())return C=e,D=t,O=M[t],!0}else B.log("Can't find vendor '"+t+"' version function in comparability");return!1}function u(e){for(var t,n=e.userAgentDebugTime||[],i=0;i<n.length;i++)if(t=new RegExp(n[i],"i"),t.test(F))return void(N=!0);N=!1}function p(){"boolean"!=typeof R&&(R=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(F)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(F.substr(0,4)))}function d(e){i(e);var t=l();t||c(),u(e),k=F.indexOf("fban")>-1||F.indexOf("fbav")>-1}function h(){if(O>C)return!1;if(R){var e=r();if(e)return n.compare(e,U.android)>=0;if(e=s())return n.compare(e,U.ios)>=0}return!0}function g(){return/^((?!chrome|android|crios).)*(safari|iphone|ipad)/i.test(F)}function v(){return H}function f(){return G}function m(){return z}function y(){if("undefined"!=typeof V)return V;var e={firefox:36,safari:7.1,chrome:31,crios:99};return V=!!e[D]&&C>=e[D]}function E(){return N}function _(){return k}function P(){return!H&&!G}function A(e){if(!e||!e.desktop)return!0;var t;for(var n in e.desktop)if(x[n]&&(t=x[n]()))return t>=e.desktop[n];return!0}function S(){return R}function I(){return S()?null==s()?0:s()[0]:0}function b(){return!!x.chrome()}function T(){return b()?x.chrome():null}function w(){return r()?!0:!1}function L(){return"iPad"==t.platform}var D,C,O,V,R,N,k,M={firefox:34,msie:11,edge:12,chrome:40,safari:9,crios:99},U={android:[4,4,4],ios:[9,0,0]},B=e,F=(t.userAgent||"").toLowerCase(),W=/opr|opera|Yandex|SeaMonkey|Maxthon|Avant|Deepnet|Comodo_Dragon|Dooble|Palemoon|Flock/i;p();var x=a(F),H=!!x.msie(),G=!!x.edge(),z=!!x.firefox();return{init:d,isBrowserSupported:h,isSafari:g,isIE:v,isEdge:f,isFF:m,isObjectFitSupported:y,isUserAgentDebug:E,isUserAgentFacebook:_,isScraperEnabled:P,checkPlacement:A,isMobile:S,getiOSVersion:I,isChrome:b,getChromeVersion:T,isAndroid:w,isiPad:L}},V=function(e,t,n){function i(e,t,n,i,r){Je=e,it=n,Qe=i,Ze=r,$e=t,Xe=!0,o()}function r(){Je.optimizely=Je.optimizely?Je.optimizely:{enable:!1,impressionFlag:!1,vvFlag:!1},Je.optimizely.enable=t.parseBool(Je.optimizely.enable),Je.optimizely.impressionFlag=t.parseBool(Je.optimizely.impr),Je.optimizely.vvFlag=t.parseBool(Je.optimizely.vv)}function o(){$e.isMobile()?Je.playMode=f.config.PlayModes.Viewport:Je.playMode=Je.playMode||f.config.PlayModes.Viewport,Je.forceFlushAnalytics=t.parseBool(Je.forceFlushAnalytics),"undefined"!=typeof Je.allowedAnalytics&&(nt=100*Math.random()<parseInt(Je.allowedAnalytics)),Je.urlStruct=Je.urlStruct||[f.UrlStructure.Origin,f.UrlStructure.PathName],Je.numberOfLoops=parseInt(Je.numOfLoops||"0",10),r(),Je.enableMobileVideo="undefined"==typeof Je.enableMobileVideo||t.parseBool(Je.enableMobileVideo),Je.hideNativePlayIcon="undefined"==typeof Je.hideNativePlayIcon||t.parseBool(Je.hideNativePlayIcon),Je.blockerCheck=t.parseBool(Je.blockerCheck),Je.loadMoreObservers=Je.loadMoreObservers||[],Je.definePlayers=Je.definePlayers||"",Je.referrers=Je.referrers?Je.referrers.push(window.location.origin):[window.location.origin],Je.enableAnalyticsBroadcaster=t.parseBool(Je.enableAnalyticsBroadcaster),Je.minimumWidth=parseInt(Je.minimumWidth||"70",10),"undefined"==typeof Je.enablePotentialsPerPlacements?Je.enablePotentialsPerPlacements=!0:Je.enablePotentialsPerPlacements=t.parseBool(Je.enablePotentialsPerPlacements),a(),c(),u(),S(),p(),Je.videoDataSearch=Je.videoDataSearch||["articleUrl","videoId"],
v(),h(),m(),y(),E(),_(),A(),P()}function a(){Je.inArticlePlacer=Je.inArticlePlacer||{},Je.inArticlePlacer.mobileActive=t.parseBool(Je.inArticlePlacer.mobileActive||Je.inArticlePlacer.active),Je.inArticlePlacer.desktopActive=t.parseBool(Je.inArticlePlacer.desktopActive),Je.inArticlePlacer.charmer=t.parseBool(Je.inArticlePlacer.active||Je.enableMobileVideo)}function l(){return rt||(rt=Je.inArticlePlacer&&Je.inArticlePlacer.viewportMask?document.querySelector(Je.inArticlePlacer.viewportMask):window),rt}function c(){if(void 0!==Qe&&(Je.disableScript=Qe),void 0===Je.disableScript||Je.disableScript===!1||"false"===Je.disableScript)Je.disableScript=!1;else if(Je.disableScript===!0||"true"===Je.disableScript)Je.disableScript=!0;else{var e=parseInt(Je.disableScript,10);Je.disableScript=100*Math.random()<e}}function u(){if(void 0===Je.errorReport||Je.errorReport===!1||"false"===Je.errorReport)Je.errorReport=!1;else if(Je.errorReport===!0||"true"===Je.errorReport)Je.errorReport=!0;else{var e=parseInt(Je.errorReport,10);Je.errorReport=Math.floor(100*Math.random())<e}}function p(){Je.window=Je.window||{},t.isArray(Je.window)?d():(Je.window.intervals=Je.window.intervals||{},qe=Je.window.loadTimeout?parseInt(Je.window.loadTimeout,10):2e3,Je.window.topWindowReferrer=Je.window.topWindowReferrer||!1)}function d(){for(var e=null,t=0;t<Je.window.length;t++){var n=Je.window[t],i=n.hasOwnProperty(f.WindowKeys.COMPATIBILITY);if(e||i){if(i&&$e.checkPlacement(n[f.WindowKeys.COMPATIBILITY])){e=n;break}}else e=n}e&&(Je.window=e)}function h(){g(),t.isArray(Je.pageFilterBlackList)?Je.filter.scraper.black=Je.pageFilterBlackList:"string"==typeof Je.pageFilterBlackList&&Je.filter.scraper.black.push(Je.pageFilterBlackList),t.isArray(Je.pageFilter)?Je.filter.scraper.white=Je.pageFilter:"string"==typeof Je.pageFilter&&Je.filter.scraper.white.push(Je.pageFilter)}function g(){Je.filters&&(Je.filter=Je.filters),Je.filter&&(Je.filter.mobile&&$e.isMobile()?Je.filter=Je.filter.mobile:Je.filter.desktop&&!$e.isMobile()&&(Je.filter=Je.filter.desktop)),Je.filter=Je.filter||{},Je.filter.scraper=Je.filter.scraper||{},Je.filter.scraper.white=Je.filter.scraper.white||[],Je.filter.scraper.black=Je.filter.scraper.black||[],"undefined"==typeof Je.filter.scraper.ogtype?Je.filter.scraper.ogtype=!0:Je.filter.scraper.ogtype="true"===Je.filter.scraper.ogtype,Je.filter.placements=Je.filter.placements||{},Je.filter.placements.white=Je.filter.placements.white||[],Je.filter.placements.black=Je.filter.placements.black||[],Je.filter.blocking=Je.filter.blocking||{},Je.filter.blocking.white=Je.filter.blocking.white||[],Je.filter.blocking.black=Je.filter.blocking.black||[]}function v(){var e=Je.rezList||["s","m","l","xl"],t=function(t){for(var n,i={},r=0;r<e.length;r++)n=t[e[r]],n&&(i[e[r]]=n);return i};Je.rezGif||(Je.rezGif={s:50,m:100,l:150}),Je.rezVideo||(Je.rezVideo={s:100,m:200,l:300}),Je.rezGif=t(Je.rezGif),Je.rezVideo=t(Je.rezVideo)}function m(){Je.scraper=Je.scraper||{},Je.scraper.checkInternal=parseInt(Je.scraper.checkInternal||"5000"),Je.scraper.maxCheckCount=parseInt(Je.scraper.maxCheckCount||"0"),Je.scraper.eventsInternal=parseInt(Je.scraper.eventsInternal||"250"),Je.scraper.maxFoundReport=parseInt(Je.scraper.maxFoundReport||"1"),Je.scraper.enableMobileReport=t.parseBool(Je.scraper.enableMobileReport),Je.scraper.enableDesktopReport="undefined"==typeof Je.scraper.enableDesktopReport||t.parseBool(Je.scraper.enableDesktopReport),Je.scraper.enableContentChangeMobile=t.parseBool(Je.scraper.enableContentChangeMobile),Je.scraper.enableContentChangeDesktop=t.parseBool(Je.scraper.enableContentChangeDesktop),Je.scraper.players?t.isArray||(Je.scraper.players=[Je.scraper.players]):Je.scraper.players=[],Je.scraper.debug=Je.scraper.debug||{},Je.scraper.debug.immediateScraper=t.parseBool(Je.scraper.debug.immediateScraper)}function y(){Je.pollVisibility=parseInt(Je.pollVisibility||"2000",10),Je.viewportAnalytics=Je.viewportAnalytics||{},Je.viewportAnalytics.percentage=parseInt(Je.viewportAnalytics.percentage||"50",10),n.isTestGroup()?Je.viewportAnalytics.timeSpan=1:Je.viewportAnalytics.timeSpan=parseInt(Je.viewportAnalytics.timeSpan||"1",10)}function E(){Je.viewportPercentage=parseInt(Je.viewportPercentage||"1",10)}function _(){Je.effects=Je.effects||{},Je.effects.apvShowDelay=parseInt(Je.effects.apvShowDelay||"500",10),Je.effects.apvTransitionVideo=Je.effects.apvTransitionVideo||"opacity 0.5s ease-out",Je.effects.apvTransitionLogo=Je.effects.apvTransitionLogo||"opacity 0.5s ease-out"}function P(){Je.reportMethod=Je.reportMethod||f.ReportMethods.POST,Je.beaconReportMethod=("undefined"==typeof Je.beaconReportMethod||t.parseBool(Je.beaconReportMethod))&&"undefined"!=typeof navigator.sendBeacon&&t.isNative(navigator.sendBeacon),Je.canReportImmediately=Je.reportMethod===f.ReportMethods.POST&&Je.beaconReportMethod}function A(){Je.eagerApv=Je.eagerApv||{},Je.eagerApv.interval=parseInt(Je.eagerApv.interval||"50",10),Je.eagerApv.count=parseInt(Je.eagerApv.count||"1",10)}function S(){Je.placementService=Je.placementService||{},Je.placementService.wrapperCenterElement=Je.placementService.wrapperCenterElement===!0||"true"===Je.placementService.wrapperCenterElement,Je.placementService.baseHeightPercent=parseFloat(Je.placementService.baseHeightPercent||.5),Je.placementService.baseThumbPx=parseInt(Je.placementService.baseThumbPx||250),Je.placementService.domRefresh=parseInt(Je.placementService.domRefresh||5e3),void 0!==Ze?Je.placementService.enableBlockingDistance=Ze:Je.placementService.enableBlockingDistance=Je.placementService.enableBlockingDistance===!0||"true"===Je.placementService.enableBlockingDistance,void 0!==Ze?Je.placementService.debug="true"==Ze:"production"!==it?Je.placementService.debug=Je.placementService.debug===!0||"true"===Je.placementService.debug:Je.placementService.debug=!1,Je.placementService.naRankPercent=parseInt(Je.placementService.naRankPercent||80)}function I(){return Je.playerIdPattern||Je.brightcovePlayerPattern}function b(){return Je.trackingFunnel}function T(){return Je.blockerCheck}function w(){return Xe}function L(){return tt}function D(){return Je.filter.scraper}function C(){return Je.filter.placements}function O(){return ot&&(ot=Je.window.scrollElement?document.querySelector(Je.window.scrollElement):null),ot}function V(){return Je.window.intervals}function R(){return qe}function N(){return Je.window.topWindowReferrer}function k(){return Je.rezVideo}function M(){return Je.rezGif}function U(){return"true"===Je.disableScript||Je.disableScript===!0}function B(){return Je.forceFlushAnalytics}function F(){return et?et:et=Je.activePlayers&&t.isArray(Je.activePlayers)?Je.activePlayers:t.flags.isNewScraper()?s.scrap.ScrapEnumAll:f.Scraper.ALL_PLAYERS}function W(){return Je.scraper.checkInternal}function x(){return Je.scraper.maxCheckCount}function H(){return Je.scraper.maxFoundReport}function G(){return!X.isMobile()&&Je.scraper.enableDesktopReport}function z(){return X.isMobile()&&Je.scraper.enableContentChangeMobile||!X.isMobile()&&Je.scraper.enableContentChangeDesktop}function Y(){return X.isMobile()&&Je.scraper.enableMobileReport}function K(){return Je.scraper.eventsInternal}function j(){return Je.scraper.debug}function q(e){for(var t=Je.scraper.players,n=0;n<t.length;n++)if(t[n].id===e)return JSON.parse(JSON.stringify(t[n]));return{id:e}}function J(){return Je.placementService.naRankPercent}function Q(){return Je.pollVisibility}function Z(){return Je.viewportAnalytics.percentage}function $(){return Je.viewportAnalytics.timeSpan}function ee(){return Je.viewportPercentage}function te(){return Je.placementService.baseHeightPercent<=10&&(Je.placementService.baseHeightPercent=window.innerHeight*Je.placementService.baseHeightPercent),Je.placementService.baseHeightPercent}function ne(){return Je.placementService.debug}function ie(){return Je.placementService.wrapperCenterElement}function re(){return Je.placementService.baseThumbPx}function oe(){return Je.playMode}function ae(){return nt}function se(){return Je.optimizely}function le(){return Je.urlStruct}function ce(){return Je.referrers}function ue(){return Je.placementService.domRefresh}function pe(){return t.parseBool(Je.placementService.disableApvOnCarouselScroll)}function de(){if(!n){var e=t.isCurrentUrlFilterValid(Je.filter.blocking),n=Je.placementService.enableBlockingDistance&&e;n&&(e?t.log("Blocking Distance filter passed. Blocking Distance is ON"):t.log("Blocking Distance: Page doesn't comply with blocking distance filter"))}return n}function he(){return Je.videoDataSearch}function ge(){return void 0!==e.test?parseInt(e.test):parseInt(Je.testGroupSize||"10")}function ve(){return Je.effects.apvShowDelay}function fe(){return Je.effects.apvTransitionVideo}function me(){return Je.effects.apvTransitionLogo}function ye(){return Je.numberOfLoops}function Ee(){return Je.playerSelector}function _e(){return"undefined"==typeof Je.overrideAllPlacements?!0:t.parseBool(Je.overrideAllPlacements)}function Pe(){return"undefined"==typeof Je.cookieDomain?!1:!0}function Ae(){return Je.cookieDomain}function Se(){return Je.minimumVer?Je.minimumVer:"0"}function Ie(){return Je.reportMethod}function be(){return Je.beaconReportMethod}function Te(){return Je.canReportImmediately}function we(){return Je.placements||{}}function Le(){return Je.mobile_placements||{}}function De(){return Je.tooltip||"Optimized by minute.ly"}function Ce(){return Je.enableMobileVideo&&$e.isMobile()?$e.getiOSVersion()>=10&&$e.isSafari()?!0:$e.isAndroid()&&$e.isChrome()&&$e.getChromeVersion()>=53?!0:!1:!1}function Oe(){return Je.hideNativePlayIcon}function Ve(){return Je.filter.scraper.ogtype}function Re(){return Je.loadMoreObservers}function Ne(){return Je.baseVideoUrl||""}function ke(){return Je.errorReport}function Me(){return!!Je.definePlayers}function Ue(){return Je.definePlayers}function Be(){return Je.eagerApv.interval}function Fe(){return Je.eagerApv.count}function We(){return Je.inArticlePlacer.mobileActive}function xe(){return Je.inArticlePlacer.desktopActive}function He(){return Je.inArticlePlacer.charmer&&this.shouldEnableCharmer()}function Ge(){return Je.enableAnalyticsBroadcaster}function ze(){return Je.maxApvsPerPage?parseInt(Je.maxApvsPerPage):99999}function Ye(){return Je.enableMobileVideo}function Ke(){return Je.minimumWidth}function je(){return Je.enablePotentialsPerPlacements}var qe,Je={},Qe=null,Ze=null,$e=null,Xe=!1,et=null,tt=e._publisher,nt=!0,it=null,rt=null,ot=null;return{init:i,isReady:w,getPublisherId:L,isDisableScript:U,getWindowLoadTimeout:R,getFilterScraper:D,getFilterPlacements:C,getWindowScrollElement:O,getWindowIntervals:V,getIsTopWindowReferrerEnabled:N,getRezVideo:k,getRezGif:M,isForceFlushAnalytics:B,getActivePlayers:F,getScraperInternal:W,getScraperMaxCheckCount:x,getScraperMaxFoundReport:H,isScraperEnableMobileReport:Y,isScraperEnableDesktopReport:G,isScraperEnableContentChange:z,getScraperEventsInternal:K,getScraperDebug:j,getScraperPlayerById:q,getVideoNaRankPercent:J,getViewportAnalyticsPercentage:Z,getViewportAnalyticsTimeSpan:$,getViewportPercentage:ee,getBaseHeightPercent:te,isPlacementsDebugEnabled:ne,isWrapperCenterElement:ie,getPollVisibility:Q,getDefaultPlayMode:oe,getBaseThumbPx:re,getIsAnalyticsEnabled:ae,getOptimizely:se,getUrlStructure:le,getReferrers:ce,getPlacementDomRefresh:ue,isBlockingDistanceEnabled:de,getPlayerIdPattern:I,getVideoDataSearch:he,getTestGroupSize:ge,getEffectApvShowDelay:ve,getEffectApvTransitionVideo:fe,getEffectApvTransitionLogo:me,getTrackingFunnel:b,getIsBlockerCheck:T,getNumberOfLoops:ye,getPlayerSelector:Ee,isOverrideAllPlacements:_e,isCookieDomain:Pe,getCookieDomain:Ae,getMinimumVer:Se,getReportMethod:Ie,getBeaconReportMethod:be,getCanReportImmediately:Te,getTooltip:De,shouldHideNativePlayIcon:Oe,getIsScrapOgTypeEnabled:Ve,getLoadMoreObservers:Re,getBaseVideoUrl:Ne,shouldEnableCharmer:Ce,getIsEnableErrorReport:ke,hasDefinePlayers:Me,getDefinePlayers:Ue,getEagerApvInterval:Be,getEagerApvCount:Fe,isInArticleMobilePlacerActive:We,isInArticleDesktopPlacerActive:xe,getInArticlePlacerCharmer:He,getIsAnalyticsBroadcasterEnabled:Ge,getRelativePlacements:we,getRelativeMobilePlacements:Le,getInArticleViewportMask:l,getIsDisableApvOnCarouselScroll:pe,getMaxApvsPerPage:ze,getIsEnableMobileVideo:Ye,getMinimumWidth:Ke,enablePotentialsPerPlacements:je}},R=function(e,t,n){function i(n,i){function r(){return U.videoUrl?W&&""!=W?0==U.videoUrl.indexOf(W)?U.videoUrl:W+U.videoUrl:U.videoUrl:""}function a(){T=parseInt(U.id),w=U.videoId,D=o.isMobile()?!1:U.doesCollect===!0||"true"===U.doesCollect,L=parseInt(U.minVidId),C=r(),O=U.videoRatio?parseFloat(U.videoRatio):1.78,V=U.hltId?parseInt(U.hltId):null,R=U.articleUrl,N=U.force===!0||"true"===U.force,C?k="undefined"!=typeof U.rank?parseInt(U.rank):t.getVideoNaRankPercent():(N=!1,k=0)}function s(){return T}function l(){return!!C}function c(){return B}function u(){return F}function p(){return e.urls.getStructuredByUrlWithoutOrigin(R)}function d(){return D}function h(){return w}function g(){return L}function v(){return V}function f(){return C}function m(){return O}function y(){return N}function E(){return k}function _(e){k=e}function P(){return n}function A(e){M=e}function S(){return M}function I(e){return U[e]}function b(){return!(!V||!C)}var T,w,L,D,C,O,V,R,N,k,M,U=n,B=i,F=!0,W=t.getBaseVideoUrl();return a(),{getId:s,getArticleUrl:p,getDoesCollect:d,getPublisherVideoId:h,getVideoDBId:g,getHighlightId:v,getAPVUrl:f,getVideoRatio:m,isForcePlacement:y,getRank:E,setRank:_,getOriginData:P,hasAPV:l,setAbsoluteCenter:A,getAbsoluteCenter:S,getValueByKey:I,isApvEnabled:b,shouldPlayRegular:c,shouldPlayInArticle:u}}function r(e,t){return new i(e,t)}var o=n;return{create:r}},N=function(t,n,i,r){function o(e,n){return t.urls.getStructuredByUrlWithoutOrigin(n)+"_"+e}function a(e,t,n){e[t]?e[t].push(n):e[t]=[n]}function s(e){var t=o(e.getPublisherVideoId(),e.getArticleUrl());M[t]||(N.push(e),a(M,e.getArticleUrl(),e),a(M,e.getPublisherVideoId(),e),a(M,t,e))}function l(e,t){for(var n,i,o=0;o<e.length;o++){i=e[o];var a=document.createElement("a");a.href=U.getWindowLocationHref();var l=a.origin+i.articleUrl;c(l)&&(n=r.create(i,t),s(n))}}function c(e){return!!e&&"/"!==e&&t.isUrlFilterValid(e,n.getFilterScraper())}function u(n){O=n.videos||[],V=n.inArticle||[],L=e.debugParams[y.ACTIVE_ALL]||e.debugParams[y.MINUTE_UI_TEST],t.log("VideoManager total original video count: "+(O.length+V.length)),l(O,!0),l(V,!1),t.log("VideoManager total valid video count: "+N.length),v()}function p(e){var n=e.videos||[],i=e.inArticle||[];O=O.concat(n),V=V.concat(i),t.log("VideoManager append total original video count: "+(O.length+V.length)),l(n,!0),l(i,!1),t.log("VideoManager total valid video count: "+N.length),v(),h.dispatchEvent(f.Events.VIDEOS_UPDATE)}function d(){return R!==D}function g(){return L}function v(){var e,t,i,r=0,o=0;for(t=0;t<N.length;t++)i=N[t],i.getRank()===C||i.isForcePlacement()||(r+=i.getRank(),o++);for(e=r/o*(n.getVideoNaRankPercent()/100),t=0;t<N.length;t++)i=N[t],i.getRank()!==C||i.isForcePlacement()||i.setRank(e)}function m(){return N}function E(){return N.length}function _(e){return N[e]}function P(){return k}function A(){k++}function S(e,n){if(e){if(L)return b(e,n);var i=M[e];return i||(e=t.urls.removeOrigin(t.urls.getStructuredByUrl(e)),i=M[e]),i&&1===i.length?i[0]:void 0}}function I(e,n){var i=M[o(e,n)];return i&&0!==i.length?(i.length>1&&t.logError("Not suppose to get multiple publisher video id in the same Article Url."),i[0]):null}function b(e,t){var n=e+t.getName(),i=e&&e.indexOf("/")>-1;if(!B[n]){var o={id:Math.floor(1e8*Math.random()+1),videoId:e,doesCollect:!1,videoUrl:"773239a9-6951-4783-155307-9c35-de4ae92333f0-s27.0-31.0",articleUrl:i?e:"articleUrl",rank:0,hltId:Math.floor(1e8*Math.random()+1),videoRatio:1.78};B[n]=r.create(o,!0)}return B[n]}function T(e){for(var t=[],n=0;n<N.length;n++){var i=N[n];i.getPublisherVideoId()==e&&t.push(i)}return t}function w(e){return r.create({id:0,videoId:e},!0)}var L,D=-2,C=-999,O=[],V=[],R=D,N=[],k=0,M={},B={};return{init:u,isDebug:d,appendVideos:p,isActiveAll:g,getVideoList:m,getVideosCount:E,getByIndex:_,getApvCounter:P,increaseApvCounter:A,getVideoDataByKey:S,getVideoDataArrayById:T,generateVideoData:w,getVideoDataByVideoIdAndUrl:I}},k=function(e,t){function n(n,i){function r(){var e={};return e.styleOverrides={},e}function o(){for(var e=0;e<te.length;e++){var t=te[e];$.styleOverrides[t]=$.styleOverrides[t]||{active:{}}}}function c(){for(var e=0;e<te.length;e++){var t=te[e];if(!$.styleOverrides[t].active){$.styleOverrides[t].active=a.cloneObject($.styleOverrides[t]);var n=Object.keys($.styleOverrides[t].active);n.forEach(function(e){delete $.styleOverrides[t][e]})}}}function u(){return $.playMode==f.config.PlayModes.InArticle||X.isMobile()?"SPAN":"SVG"}function p(){$.styleOverrides=a.extentObject($.styleOverrides,a.cloneObject(ee.styleOverrides)),o(),c(),$.lazyBackgroundSrc=$.lazyBackgroundSrc||ee.lazyBackgroundSrc,$.containerIndexLocation=$.containerIndexLocation||ee.containerIndexLocation,$.apvOrigin=$.apvOrigin||ee.apvOrigin||!1,$.compatibility=$.compatibility||ee.compatibility,$.playMode=s.getDefaultPlayMode(),$.logoType=$.logoType||u(),$.safariWebkitFix=a.parseBool($.safariWebkitFix),$.noClone=$.noClone||ee.noClone||!1,$.isForceFlush=$.isForceFlush||ee.isForceFlush||s.isForceFlushAnalytics(),$.sizeObserveEcho=parseInt($.sizeObserveEcho||"0",10),$.sizeObserveDelay=parseInt($.sizeObserveDelay||"500",10),$.sizeObserveDelay=parseInt($.sizeObserveDelay||"500",10),$.viewportPercentage=parseInt($.viewportPercentage||ee.viewportPercentage||s.getViewportPercentage()||"1",10),$.minimumWidth=parseInt($.minimumWidth||ee.minimumWidth||s.getMinimumWidth(),10),"undefined"==typeof $.enableMobileVideo?$.enableMobileVideo=t.getIsEnableMobileVideo():$.enableMobileVideo=e.parseBool($.enableMobileVideo),$.selectors=$.selectors||{},$.selectors.scroll=$.selectors&&$.selectors.scroll?$.selectors.scroll:"","undefined"==typeof ee.containerFullSize?$.containerFullSize=e.parseBool($.containerFullSize):"undefined"==typeof $.containerFullSize?$.containerFullSize=e.parseBool(ee.containerFullSize):$.containerFullSize=e.parseBool($.containerFullSize)}function d(e,t){return g(e,t).styles}function h(e){var t=$.styleOverrides[e];if(t){var n=Object.keys(t);if(n.length>1)return!0}return!1}function g(e,t){if(!e)return a.logWarning("No type was sent for style overrides"),{};var n,i=$.styleOverrides[e];if(i){var r=Object.keys(i);"MimicInheritETRClasses"===$.domAdapter&&-1===r.indexOf(f.DEFAULT_MEDIAQUERY)&&a.logWarning("Make sure you set 'active' and sizes for different page media queries")}if(t&&i[t])n={styles:i[t]||{}};else{for(var o=f.DEFAULT_MEDIAQUERY,r=Object.keys(i),s=0;s<r.length;s++)if(r[s]!==f.DEFAULT_MEDIAQUERY){var l=parseInt(r[s]);l>window.innerWidth&&(o===f.DEFAULT_MEDIAQUERY||l<=parseInt(o))&&(o=r[s])}n={size:o,styles:i[o]||{}}}return n}function v(){return $.id}function m(){return $.selectors.preview}function y(){return $.selectors.anchor}function E(){return $.selectors.container}function _(){return $.selectors.scroll}function P(){return $.selectors.attr}function A(){return $.selectors.viewportMask}function S(){return $.selectors.viewportObserver}function I(){return l++}function b(){return $.name}function T(e){return d(f.styleOverrides.CONTAINER,e)}function w(e){return d(f.styleOverrides.APV,e)}function L(e){return d(f.styleOverrides.CLONE,e)}function D(e){return d(f.styleOverrides.ELEMENT_TO_REPLACE,e)}function C(e){return d(f.styleOverrides.LOGO,e)}function O(){return $.playMode}function u(){return $.logoType}function V(){return $.lazyBackgroundSrc}function R(){return $.containerIndexLocation}function N(){return $.apvOrigin}function k(){return $.pollVisibility}function M(){return $.compatibility}function U(){return $.observerSelectorTimeout}function B(){return $.svgStyle}function F(){return $.safariWebkitFix}function W(){return $.additionalResizeEcho&&$.additionalResizeEcho.echoTime||0}function x(){return $.additionalResizeEcho&&$.additionalResizeEcho.echoRepeat||0}function H(){return $.minuteLocation}function G(){return $.isForceFlush}function z(){return $.noClone}function Y(){return $.sizeObserveEcho}function K(){return $.sizeObserveDelay}function j(){return $.viewportPercentage}function q(){return $.enableMobileVideo}function J(){return $.containerFullSize}function Q(){return!1}function Z(){return $.minimumWidth}var $=n,ee=i||r(),te=["container","apv","clone","logo","elementToReplace","custom"];return p(),{getPlacementId:v,getPreviewSelector:m,getAnchorSelector:y,getContainerSelector:E,getContainerStyleOverride:T,getApvStyleOverride:w,getCloneStyleOverride:L,getElementToReplaceStyleOverride:D,getLogoStyleOverride:C,getPriority:I,getName:b,getPlayMode:O,getLogoType:u,getLazyBackgroundSrc:V,getContainerIndexLocation:R,getApvOrigin:N,getPollVisibility:k,getCompatibility:M,getActiveOverridesWithSize:g,getObserverSelectorTimeout:U,getSvgStyle:B,getSafariWebkitFix:F,getAdditionalEchoTime:W,getAdditionalEchoRepeat:x,getMinuteLocation:H,getIsForceFlush:G,getNoClone:z,getSizeObserveEcho:Y,getSizeObserveDelay:K,getViewportPercentage:j,getIsEnableMobileVideo:q,isContainerFullSize:J,hasMediaQueries:h,getAttrName:P,isInArticle:Q,getViewportMaskSelector:A,getViewportObserverSelector:S,getScrollSelector:_,getMinimumWidth:Z}}function i(e){return e.styleOverrides={},e.selectors={},e}function r(e,t){return new n(e,t)}function o(){var e={id:321,name:"inArticle Placer",playMode:"in_article"};return new n(i(e))}var a=e,s=t,l=0;return{create:r,createInArticle:o}},M=function(e,t,n){function i(){for(var t=0;t<m.length;t++){var n=m[t];if(!n.selectors)return e.log("no selectors where set"),void(n.selectors={});n.selectors.preview=n.selectors.preview||"img",n.selectors.anchor=n.selectors.anchor||"a",n.priority=_--,n.selectors.preview.endsWith("img")||(n.minuteLocation=f.PlacementKeys.CHILD),n.selectors.attr||(n.selectors.attr="href")}}function r(){for(var e,t=0;t<v.length;t++)e=v[t],e.parentId?(e.parentId=parseInt(e.parentId),E.push(e)):(e.inheritId&&(e.inheritId=parseInt(e.inheritId)),m.push(e))}function o(e){var t=e[f.PlacementKeys.COMPATIBILITY];return!(t&&!g.checkPlacement(t))}function a(e){if(e.inheritId){for(var t=0;t<E.length;t++){var n=E[t];if(n.parentId===e.inheritId)return n}d.log("No parent with parentId "+e.inheritId+" was found to be inherit from placement: "+e.name)}}function s(e){for(var t=e.getRelativePlacements(),n=e.getRelativeMobilePlacements(),i=0;i<n.length;i++){for(var r=!1,o=0;o<t.length;o++)if(t[o].name==n[i].name){t[o]=n[i],r=!0;break}r||t.push(n[i])}return t}function l(e){var t,n;if(v=e.getRelativePlacements()||[],g.isMobile()&&(v=e.isOverrideAllPlacements()?e.getRelativeMobilePlacements()||v:s(e)),0===v.length&&d.log("Configuration has NO PLACEMENTS!"),v.length){r(),i();for(var l=0;l<m.length;l++)n=m[l],o(n)&&(t=a(n),n.id="p"+y.length,y.push(h.create(n,t)))}}function c(){return y}function u(e){return y[e]}function p(){for(var e=[],t=0;t<y.length;t++){var n=y[t];e.push(n.getPlacementDataForPrint())}return e}var d=e,h=t,g=n,v=[],m=[],y=[],E=[],_=100;return{init:l,getAllPlacements:c,getAllPlacementsAsObject:p,getPlacementById:u}},U=function(){function t(){c(),u(),v(),o(),i()}function n(){return w}function i(){J.isIframe()?ie.addPostMessageListener(window,r.bind(this)):w=!0}function r(e){L||(l.log("got window location message. href="+e.href),P=e.href,w=!0,h.dispatchEvent(f.Events.WINDOW_SERVICE_READY),L=!0)}function o(){oe.getPollVisibility()&&J.isIframe()===!1&&setInterval(function(){g(f.Events.DomWindow.CHECK_VISIBILITY),(b!==window.innerWidth||T!==window.innerHeight)&&(b=window.innerWidth,T=window.innerHeight,g(f.Events.DomWindow.RESIZE))},oe.getPollVisibility())}function a(e,t){var n=new s.utils.Debounce(t,g,null,e);n.enableFilter(),p(f.config.WindowIntervals.ECHO_TIME)&&n.setEcho(p(f.config.WindowIntervals.ECHO_TIME),p(f.config.WindowIntervals.ECHO_REPEAT)),window.addEventListener(e,function(e){n.start()})}function c(){S=p(f.config.WindowIntervals.RESIZE)||S,a(f.Events.DomWindow.RESIZE,S)}function u(){var t=oe.getWindowScrollElement();A=p(f.config.WindowIntervals.SCROLL)||A,e.debugParams[y.DEBUG_VISIBILITY]&&(t?(l.log("DEBUG_VISIBILITY: scrollElem is set to:"),l.log(t)):l.log("DEBUG_VISIBILITY: scroll is calculated relative to window")),t?d(t):a(f.Events.DomWindow.SCROLL,A)}function p(e){var t=oe.getWindowIntervals()[e];return t?parseInt(t,10):null}function d(e){var t=0,n=5,i=200,r=0,o=setInterval(function(){return t++,t>=n?(clearInterval(o),void(o=0)):e?(setInterval(function(){e.scrollTop!==r&&(r=e.scrollTop,g(f.Events.DomWindow.SCROLL))},A),clearInterval(o),void(o=0)):void l.log("Attempt "+t+": No Scroll Element found!")},i)}function g(e,t){h.dispatchEvent(e,!!t)}function v(){I=p(f.config.WindowIntervals.URL)||I,I>0&&(P=window.location.href,setInterval(function(){P!==window.location.href&&(D=!0,P=window.location.href,g(f.Events.DomWindow.URL_CHANGE))},I))}function m(){return P?P:window.location.href}function E(){D=!1}function _(){return D}var P,A=100,S=50,I=0,b=0,T=0,w=!1,L=!1,D=!1;return{init:t,getWindowLocationHref:m,isReady:n,urlhasChanged:_,touchUrlHasChanged:E}}(),B=function(e,t){function n(t){e(u+":"+t)}function i(){return p.getItem(l)||null}function r(e){p.setItem(l,e||"")}function o(e,t){var n=i();n||(n=u+":"),t&&n.indexOf(e)>-1||(n.length>0&&(n+=","),n+=e,r(n))}function a(){var t=i();t&&t.length>0&&(e(t),p.removeItem(l))}function s(e){return e?(u=c+e,p?(a(),{add:o,flush:a,forceFlush:n}):{add:function(){},flush:function(){},forceFlush:n}):{add:function(){},flush:function(){},forceFlush:function(){}}}var l="_minFlow",c="Flow",u=null,p=t.getLocalStorageInstance();return{get:s}},F=function(t){function n(e,t){t||(t={});var n=t.callbackName||"void",i=t.onSuccess||p,r=t.onTimeout||p,o=window.setTimeout(function(){window[n]=p,r()},u);window[n]=function(e){window.clearTimeout(o),i(e),window[n]=function(){}};var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}function i(t){t.onSuccess=t.onSuccess||p,t.onTimeout=t.onTimeout||p;var i="jsonCallback",r=e._publisherDebugUrl||f.Urls.Configuration+"api/v1/web/configuration/"+e._publisher+".json?callback="+i;n(r,{callbackName:i,onTimeout:t.onTimeout,onSuccess:t.onSuccess})}function r(e){return("jsc"+l.b64EncodeUnicode(e||"JsonMinuteReadyNoURL")).replace(/=/g,"")}function o(e){return encodeURIComponent(l.b64EncodeUnicode(e))}function a(e){e.onSuccess=e.onSuccess||p,e.onTimeout=e.onTimeout||p;var t=v,i="";l.OgType.isArticle()&&(i=l.urls.getCurrentStructuredUrlWithoutOrigin([f.UrlStructure.PathName]));var a=r(i),s={config:!0};i||(s.fallback=!0),t=t.replace(d,o(i)||g),t=t.replace(h,o(JSON.stringify(s))),t+="callback="+a,n(t,{callbackName:a,onTimeout:e.onTimeout,onSuccess:e.onSuccess})}function s(e){if("undefined"!=typeof e.pageUrl&&""!==e.pageUrl){e.onSuccess=e.onSuccess||p,e.onTimeout=e.onTimeout||p;var t=v,i=l.urls.getStructuredByUrlWithoutOrigin(e.pageUrl,oe.getUrlStructure()),a=r(i),s={config:!1};t=t.replace(d,o(i)),t=t.replace(h,o(JSON.stringify(s))),t+="callback="+a,n(t,{callbackName:a,onTimeout:e.onTimeout,onSuccess:e.onSuccess})}}function c(e){e.onSuccess=e.onSuccess||p,e.onTimeout=e.onTimeout||p;var t=v,i=r(),a={fallback:!0,config:!1};t=t.replace(d,g),t=t.replace(h,o(JSON.stringify(a))),t+="callback="+i,n(t,{callbackName:i,onTimeout:e.onTimeout,onSuccess:e.onSuccess})}var u=t.isMobile()?1e4:5e3,p=function(){},d="[article_url]",h="[params]",g="_",v=e._publisherDebugUrl||f.Urls.Configuration+"api/v2/web/configuration/"+e._publisher+"/"+d+"/"+h+".json?";return{loadAll:i,loadFirstArticle:a,loadNextArticle:s,loadVideosFallback:c}},W=function(e,t,n,i,r,o){function a(){return Math.floor(100*Math.random()+1)<=b}function s(){if(100===b)return!0;var e=100*b/(100-b);return 100*Math.random()<=e}function l(){var t="undefined"!=typeof o;if(t){if("clear"!==o)return P="true"==o,n.set(y,!0),c(s,E),void e.log("Force test group: "+P);e.log("Force RESET test group"),n.reset()}else;P=c(a,y),A=c(s,E),S||(e.log("** Is Test Group: "+P),S=!0)}function c(e,t){var i=n.get(t);return void 0===i&&(i=e(),n.set(t,i)),i}function u(n,r){b=n,T=r,T?(I=_.PENDING,e.log("** Snippet is plugin."),i.addPostMessageListener(t,p)):(I=_.READY,l())}function p(t){I!=_.READY&&(e.log("plugin got message!"),P=Boolean(t.isTestGroup),A=Boolean(t.subTestGroup),I=_.READY,e.log("dispatching consts.Events.TEST_MODE_READY so the script can move on"),e.log("*** _isTestGroup:"+P),r.dispatchEvent(f.Events.TEST_MODE_READY,{isTestGroup:P}))}function d(){return I===_.READY}function h(){return P}function g(){return A}function v(){return P===!0?"1":"0"}function m(){P=null,A=null,S=!1,I=_.NONE,b=null,T=null,n.reset()}var y="_minTestModeEnabled",E="_minSubTestMode",_={NONE:0,PENDING:1,READY:2},P=null,A=null,S=!1,I=_.NONE,b=null,T=null;return{init:u,isReady:d,isTestGroup:h,getSubTestGroup:g,getGroupCode:v,reset:m}},x=function(e,t,n){function i(){return{time:e.getDateNow(),list:[]}}function r(){g=t.getLocalStorageInstance(),g&&(h=i(),a(),(void 0===h.list||0===h.list.length||n.isSessionTimeExpired(h.time))&&(h=i(),o()))}function o(){var t;h.time=e.getDateNow(),p.test(h.time)||(h.time=(new Date).getTime()),t=JSON.stringify(h),t=t.replace(/"/g,""),g&&g.setItem(d,t)}function a(){if(g){var e=g.getItem(d);h=e&&u.test(e)?s(e):h||i()}}function s(e){var t,n=e.replace("time:",'"time":').replace("list:",'"list":');return-1===n.indexOf("[]")&&(n=n.replace("[",'["').replace("]",'"]'),t=n.split("["),t[1]=t[1].replace(/,/g,'","'),n=t.join("[")),JSON.parse(n)}function l(t){function n(){return a(),h.list.indexOf(r)>-1}function i(){h.time=e.getDateNow(),-1===h.list.indexOf(r)&&h.list.push(r),o()}var r=t;return{isSent:n,setAnalyticState:i}}function c(e,t,n,i,r){var o=e.toString()+t+n+(i?"t":"f")+r;return new l(o)}var u=/\{(time)\:\d+,(list)\:\[([\d\w\,]*)+\]\}/,p=/^\d+$/,d="_minUsherData2",h={},g=null;return{get:c,init:r}};!function(){function e(){this._analytics={}}s.analytics=s.analytics||{};var t={IN_VIEWPORT_NOT_SENT:0,IN_VIEWPORT_SENT:1,OUT_OF_VIEWPORT:2};s.analytics.ViewportRestAnalyticsUsher=e,e.prototype.inViewport=function(e){var n=this._analytics[e];void 0===n?this._analytics[e]=t.IN_VIEWPORT_NOT_SENT:this._analytics[e]===t.OUT_OF_VIEWPORT&&(this._analytics[e]=t.IN_VIEWPORT_NOT_SENT)},e.prototype.outViewport=function(e){this._analytics[e]=t.OUT_OF_VIEWPORT},e.prototype.shouldSend=function(e){var n=this._analytics[e];return n===t.IN_VIEWPORT_NOT_SENT?(this._analytics[e]=t.IN_VIEWPORT_SENT,!0):!1}}();var H=function(t,n,i,r,o,a,s){function l(){return g?f.Emitter.ANALYTICS_SOURCE_WEB_MOBILE:f.Emitter.ANALYTICS_SOURCE_WEB_DESKTOP}function c(e,t){v=n.isTestGroup(),g=i.isMobile(),m=r.getIsAnalyticsEnabled(),y=e,E=t}function u(e,n){if((m||n)&&(Ae.send(f.Emitter.ANALYTICS_EVENT,e),e&&0==e.uniq)){var i=t.cloneObject(e);Ae.send(f.Emitter.VIEWPORT,i)}}function p(e,n,i){var o=a.get(e.getId(),n.placementFunction,f.Emitter.CLICK_TYPE_NONE,v,i);o.isSent()||(r.getOptimizely().impressionFlag&&(n.test_mode&&i==f.Emitter.PRODUCT_APV?t.optimizely.trackEvent("impression_test_apv"):n.test_mode||i!=f.Emitter.PRODUCT_APV?n.test_mode&&i==f.Emitter.PRODUCT_IN_ARTICLE?t.optimizely.trackEvent("impression_test_ia"):n.test_mode||i!=f.Emitter.PRODUCT_IN_ARTICLE||t.optimizely.trackEvent("impression_minute_ia"):t.optimizely.trackEvent("impression_minute_apv")),u(n),o.setAnalyticState(),y.add(t.getTrackerTiming(e.getPublisherVideoId()+":UImpression:"+i),!0))}function d(e){var i={test_mode:v,playMode:f.Analytics.PlayModes[r.getDefaultPlayMode()],sub_test_group:n.isTestGroup()?!1:n.getSubTestGroup(),source:l()};return t.extend(i,e)}function h(n,r){var o={id:n.getId(),highlight_id:n.getHighlightId(),comp:i.isBrowserSupported()?1:0,publisher:e._publisher,hadImpression:E.hadImpression(n.getPublisherVideoId()),hadImpressionSession:E.hadImpressionSession(n.getPublisherVideoId())};return t.extend(o,d(r))}var g,v=null,m=!1,y=null,E=null;return{init:c,pushAnalytics:u,sendSessionImpression:p,getAnalyticPayload:d,
getAnalyticPayloadWithVideoData:h}},G=function(){function e(e){var t=e.getVideoData(),n=e.getPlacement();if(t&&n){r(t.getId());var i=e.getProduct(),o=he.getAnalyticPayloadWithVideoData(t,{type:f.Emitter.ANALYTICS_CLICK_EVENT,placementFunction:f.Placements.HOVER_IMPRESSION,uniq:!1,product:i,placement:n.getName()});le.log(o),(i===f.Emitter.PRODUCT_IN_ARTICLE||n.getIsForceFlush())&&le.sendLogsDueToInArticleClick()}}function t(t,n){I.indexOf(t)>-1||(new s.utils.MouseClickEventObserver(t,function(){e(n)}),X.isMobile()?o(n,t):a(n,t),I.push(t))}function n(e){var n=[];e.getContainerElement()==e.getAnchorElement()?(l.log("Relative Selectors no anchor was set -> container equals to anchor"),n=[e.getContainerElement()]):n=e.getContainerElement().querySelectorAll("["+e.getAttributeName()+"*='"+e.getAttributeValue()+"']");for(var i=0;i<n.length;i++){var r=n[i];t(r,e)}}function i(e){t(e.apvData.getManualClick(),e.apvData)}function r(e){_>0&&(clearTimeout(_),_=0,le.removeLogDelayById(e))}function o(e,t){t.addEventListener("touchstart",function(){c(e)}),t.addEventListener("touchend",function(){p(e)})}function a(e,t){t.addEventListener?t.addEventListener("contextmenu",function(){h(e)}):t.attachEvent("oncontextmenu",function(){h(e)})}function c(e){P=setTimeout(function(){h(e)},y),S=setTimeout(function(){u(e)},E),A=l.getDateNow()}function u(e){S=0,p(e)}function p(e){if(0!==S&&(clearTimeout(S),S=0),0!==P){clearTimeout(P),P=0;var t=l.getDateNow()-A;y>t&&le.removeLogDelayById(e.getVideoData().getId())}}function d(e){r(e),_=setTimeout(function(){r(e)},m)}function h(e){var t=e.getVideoData();d(t.getId());var n=e.getProduct(),i=he.getAnalyticPayloadWithVideoData(t,{type:f.Emitter.CONTEXT_MENU_OPEN_EVENT,placementFunction:f.Placements.HOVER_IMPRESSION,uniq:!1,product:n});le.logDelay(i)}function g(t){t.getDomAdapter().addEventListener(f.Events.APV_LOGO_CLICK,function(n){e(t)})}function v(){var e=l.urls.getCurrentStructuredUrlWithoutOrigin(),t=se.getVideoDataByKey(e);t&&le.sendLogDelayById(t.getId())}var m=6e4,y=700,E=1500,_=0,P=0,A=0,S=0,I=[];return{addLinkSelector:n,addLogoClickListener:g,sendDelayedClicks:v,addManualAnchor:i}}(),z=function(){function t(){return X.isMobile()?f.Emitter.ANALYTICS_SOURCE_WEB_MOBILE:f.Emitter.ANALYTICS_SOURCE_WEB_DESKTOP}function n(n){var i={id:e._publisher,user_agent:navigator.userAgent,uniq:n,test_mode:re.isTestGroup(),sub_test_group:re.isTestGroup()?!1:re.getSubTestGroup(),url:l.urls.getCurrentStructuredUrl(),referrer:l.urls.getReferrerUrlWithOrigin(),source:t(),comp:X.isBrowserSupported(),stor:!!Z.getLocalStorageInstance(),script_time:m.getScriptTime(),config_time:m.getConfigTime()};Ae.send(f.Emitter.URL_REPORT,l.cloneObject(i)),n&&(i.uniq=!1,Ae.send(f.Emitter.URL_REPORT,i))}function i(){var e=!1;ee.get(r)||(ee.set(r,!0),e=!0),n(e)}var r="minSessionAnalytics";return{sendUrlReport:i}}();!function(){function e(){this._observedElements=[],this._addObservedElementHandler=null,this._sentSubjects={},this._alreadyAttachedClicks={}}var t="hadImpression";s.analytics=s.analytics||{};var n=new s.analytics.ViewportRestAnalyticsUsher;s.analytics.BaseAnalyticsService=e,e.prototype.register=function(e){this._addObservedElementHandler=this.addObservedElement.bind(this),e.getDomAdapter().addEventListener(f.Events.Element.READY,this._addObservedElementHandler)},e.prototype.unregister=function(e){e.getDomAdapter().removeEventListener(f.Events.Element.READY,this._addObservedElementHandler),this._addObservedElementHandler=null},e.prototype.addObservedElement=function(e){var t=e.data,n={id:t.apvData.getVideoData().getId(),videoData:t.apvData.getVideoData(),elem:re.isTestGroup()?t.apvData.getElementToReplace():t.apvData.getApvPlayer().getApvElement(),placement:t.apvData.getPlacement(),hadImpression:!1,product:t.apvData.getProduct(),apvData:t.apvData};return this._observedElements.push(n),n},e.prototype.getUsher=function(){return n},e.prototype.findSubjectById=function(e){for(var t=0;t<this._observedElements.length;t++){var n=this._observedElements[t];if(n.id===e)return n}return null},e.prototype.sendImpression=function(e){e.hadImpression=!0,ee.set(t,!0);var n=he.getAnalyticPayloadWithVideoData(e.videoData,{type:f.Emitter.ANALYTICS_IMPRESSION_EVENT,placementFunction:f.Placements.VIEWPORT_IMPRESSION,uniq:!1,product:e.apvData.getProduct(),placement:e.placement.getName(),script_time:m.getScriptTime(),config_time:m.getConfigTime()}),i=e.apvData.getKeyProduct();this._sentSubjects[i]!==!0&&(this._sentSubjects[i]=!0,this.attachClickListeners(e),e.apvData.getProduct()===f.Emitter.PRODUCT_IN_ARTICLE&&e.apvData.getManualClick()&&G.addManualAnchor(e),oe.getOptimizely().impressionFlag||(n.test_mode&&e.product==f.Emitter.PRODUCT_APV?l.optimizely.trackEvent("impression_test_apv"):n.test_mode||e.product!=f.Emitter.PRODUCT_APV?n.test_mode&&e.product==f.Emitter.PRODUCT_IN_ARTICLE?l.optimizely.trackEvent("impression_test_ia"):n.test_mode||e.product!=f.Emitter.PRODUCT_IN_ARTICLE||l.optimizely.trackEvent("impression_minute_ia"):l.optimizely.trackEvent("impression_minute_apv")),he.pushAnalytics(n),g.add(l.getTrackerTiming(e.videoData.getPublisherVideoId()+":AImpression:"+e.apvData.getProduct())))},e.prototype.attachClickListeners=function(e){e.apvData.getProduct()!==f.Emitter.PRODUCT_APV||this._alreadyAttachedClicks[e.apvData.getKey()]||(G.addLinkSelector(e.apvData),G.addLogoClickListener(e.apvData),this._alreadyAttachedClicks[e.apvData.getKey()]=!0)},e.prototype.sendSessionImpression=function(e){var t=e.apvData.getProduct(),n=he.getAnalyticPayloadWithVideoData(e.videoData,{type:f.Emitter.ANALYTICS_IMPRESSION_EVENT,placementFunction:f.Placements.VIEWPORT_IMPRESSION,uniq:!0,product:t,placement:e.placement.getName()});he.sendSessionImpression(e.videoData,n,t)},e.prototype.hadImpression=function(e){for(var t=0;t<this._observedElements.length;t++){var n=this._observedElements[t],i=n.videoData.getPublisherVideoId()==e;if(i&&n.hadImpression&&n.apvData.getProduct()===f.Emitter.PRODUCT_IN_ARTICLE)return!0}return!1},e.prototype.hadImpressionSession=function(e){return l.parseBool(ee.get(t))}}(),function(){function e(){e.__superCtor__.call(this),this._updateCarouselElementHandler=null,this._notifyVisibleHandler=null,this._notifyVisibleTimeoutHandler=null}var t,n,i={INIT:0,IN_VIEWPORT:1,OUT_VIEWPORT:2,DONE:3},r={};l["extends"](e,s.analytics.BaseAnalyticsService),s.analytics.ViewportAnalyticsService=e,e.prototype.init=function(){var e=this;t=oe.getViewportAnalyticsTimeSpan(),n=oe.getViewportAnalyticsPercentage(),h.addEventListener(f.Events.DomWindow.RESIZE,function(){e._debounceStartAll()}),h.addEventListener(f.Events.DomWindow.SCROLL,function(){e._debounceStartAll()}),h.addEventListener(f.Events.DomWindow.URL_CHANGE,function(){e._debounceStartAll()}),J.isIframe()||window.addEventListener("load",function(){e._debounceStartAll()})},e.prototype.register=function(t){e.__super__.register.call(this,t);var n=t.getApvData().getKeyProduct();"undefined"==typeof r[n]&&(r[n]=!1),this._updateCarouselElementHandler=this.updateCarouselElement.bind(this),this._notifyVisibleHandler=this.notifyVisible.bind(this),this._notifyVisibleTimeoutHandler=this.notifyVisibleTimeout.bind(this),t.getDomAdapter().addEventListener(f.Events.Element.UPDATE_CAROUSEL_ELEMENT,this._updateCarouselElementHandler),t.getDomAdapter().addEventListener(f.Events.Element.ANALYTICS_VISIBLE,this._notifyVisibleHandler),t.getDomAdapter().addEventListener(f.Events.Element.MUTANT,this._notifyVisibleTimeoutHandler)},e.prototype.unregister=function(t){e.__super__.unregister.call(this,t),t.getDomAdapter().removeEventListener(f.Events.Element.UPDATE_CAROUSEL_ELEMENT,this._updateCarouselElementHandler),t.getDomAdapter().removeEventListener(f.Events.Element.ANALYTICS_VISIBLE,this._notifyVisibleHandler),t.getDomAdapter().removeEventListener(f.Events.Element.MUTANT,this._notifyVisibleTimeoutHandler),this._updateCarouselElementHandler=null,this._notifyVisibleHandler=null,this._notifyVisibleTimeoutHandler=null},e.prototype.addObservedElement=function(n){var r=e.__super__.addObservedElement.call(this,n),o=n.data;return r.carouselElement=o.carouselElement,r.inViewport=l.getDateNow(),r.state=i.INIT,r.debounce=new s.utils.Debounce(t,this._handleObservedElementDebounce,this,r),r.debounce.enableFilter(),r},e.prototype.updateCarouselElement=function(e){var t=e.data,n=this.findSubjectById(t.videoData.getId());n&&(n.carouselElement=t.carouselElement)},e.prototype._debounceStartAll=function(){for(var e=0;e<this._observedElements.length;e++){var t=this._observedElements[e];t.debounce.start()}},e.prototype.notifyVisible=function(e){for(var t=e.data.apvData,n=0;n<this._observedElements.length;n++){var i=this._observedElements[n];if(i.apvData.getKey()===t.getKey())return void i.debounce.start()}},e.prototype.notifyVisibleTimeout=function(e){var t=this;setTimeout(function(){t.notifyVisible(e)},e.data.timeout)},e.prototype._handleObservedElementDebounce=function(e){this.doUpdate(e),t>0&&setTimeout(this.doUpdate.bind(this,e),t)},e.prototype.doUpdate=function(e){var t=e.apvData.getKeyProduct();if(r[t])return void this.attachClickListeners(e);var o=void 0;if(e.product===f.Emitter.PRODUCT_IN_ARTICLE){var a=oe.getInArticleViewportMask();a!==window&&(o=a)}else o=e.carouselElement;var s=I.getViewportState(e.elem,o),l=s.percentage>=n;l?this._handleVisible(e):e.state=i.OUT_VIEWPORT},e.prototype._handleVisible=function(e){switch(e.state){case i.IN_VIEWPORT:var n=l.getDateNow()-e.inViewport;if(n>t){this._inViewport(e),e.state=i.DONE;var o=e.apvData.getKeyProduct();r[o]=!0}break;case i.INIT:case i.OUT_VIEWPORT:e.state=i.IN_VIEWPORT,e.inViewport=l.getDateNow()}},e.prototype._inViewport=function(e){e.product===f.Emitter.PRODUCT_IN_ARTICLE?(s.analytics.delayImpression(e,this.sendImpression.bind(this)),s.analytics.delayImpression(e,this.sendSessionImpression.bind(this))):(this.sendImpression(e),this.sendSessionImpression(e))}}(),function(){function e(){function e(e){for(var n in e)i[n]||(i[n]=e[n]);t()}function t(){var e={},t=!1;for(var o in i)r[o]||(e[o]=i[o],t=!0);t&&n(e)}function n(e){var t,n;for(var i in e)e[i]&&(t=e[i],n=he.getAnalyticPayloadWithVideoData(t.getVideoData(),{type:f.Emitter.ANALYTICS_BLOCKING_DISTANCE_POTENTIAL}),Ae.send(f.Emitter.ANALYTICS_EVENT,n),r[i]=t)}var i={},r={};return{addPotentialAPVs:e}}s.analytics=s.analytics||{},s.analytics.BlockingDistanceAnalytics=e}();var Y=function(t,n,i,r,o,a,s){function l(n){var a;if(1===arguments.length?a=n:2===arguments.length&&(a={url:arguments[0],videoId:arguments[1],counter:u,hadImpression:!1}),a&&a.videoId&&a.url&&"number"==typeof a.counter){var s={url:a.url,vid:a.videoId,test_mode:i.getGroupCode(),group:r.get(f.GROUP_42),comp:o.isBrowserSupported()?1:0,sub_test_group:i.isTestGroup()?!1:i.getSubTestGroup(),source:o.isMobile()?f.Emitter.ANALYTICS_SOURCE_WEB_MOBILE:f.Emitter.ANALYTICS_SOURCE_WEB_DESKTOP,publisher:e._publisher,hadImpression:a.hadImpression,hadImpressionSession:p.hadImpressionSession(a.videoId),counter:a.counter,script_time:m.getScriptTime(),config_time:m.getConfigTime()};u+=1,Ae.send(f.Emitter.VIDEO_VIEWS,s),t.log("--SEND VIDEO VIEW ANALYTICS--"),d.add(t.getTrackerTiming("Sent42:"+a.videoId))}}function c(e,t){d=e,p=t}var u=0,p=null,d={add:function(){}};return{sendVideoView:l,init:c}},K=function(){function e(){return JSON.parse(r.getItem(s)||"{}")}function t(e,t){d[e]=t;var n=JSON.stringify(d);r.setItem(s,n)}function n(e,t,n,i){var r=t.exec(e);if(a.isArray(r)){var o=r[1].indexOf(n)>-1;if(o){var s=r[1].substring(n.length),l=r[2]?r[2]:void 0;i(s,l)}}}function i(e,t,n){return new h(e,t,n)}var r=null,o=null,a=null,s="__mff__",l="+mff",c="-mff",u=/[https?:\/\/]?.*#(\+\w+)=(.*)/g,p=/[https?:\/\/]?.*#(-\w+)/g,d={},h=function(i,s,h){r=s.getLocalStorageInstance(),r&&(o=h,a=i,d=e(),n(o.hash,u,l,function(e,n){t(e,n)}),n(o.hash,p,c,function(e){t(e,void 0)}))};return h.prototype.get=function(e){return d[e]},h.prototype.CONSTS={DISABLE_VERSION:"disableVersion",FORCE_ENABLE:"forceEnable"},{create:i}}();!function(){s.analytics=s.analytics||{},s.analytics.delayImpression=function(e,t){t(e)}}(),function(){function e(){e.__superCtor__.call(this),this.ATTR_MEDIA_SIZE="data-media_file_size",this.mediaHeightIndex="",this.lastMediaHeightIndex="",this._apvElement=null}s.apv=s.apv||{},s.apv.players=s.apv.players||{},l["extends"](e,a),s.apv.players.ApvPlayerBase=e,e.prototype.init=function(e){var t=this;this.elementToReplace=e.getElementToReplace(),this._videoData=e.getVideoData(),this._placement=e.getPlacement(),re.isTestGroup()||h.addEventListener(f.Events.DomWindow.RESIZE,function(){t.updateMediaSources(),l.ElementObjectFit.set(t.getApvElement(),t.elementToReplace)}),this.mediaHeightIndex=this.getNearestSize(this.elementToReplace),this.lastMediaHeightIndex=this.mediaHeightIndex},e.prototype.setOriginalImage=function(e){},e.prototype.play=function(){},e.prototype.setAutoplay=function(){},e.prototype.pause=function(){},e.prototype.isPaused=function(){},e.prototype.sendEventPlaying=function(){l.log("APV Playing: "+this._videoData.getId()),this.dispatchEvent(f.Events.Players.PLAYING)},e.prototype.sendEventPaused=function(){l.log("APV Paused: "+this._videoData.getId()),this.dispatchEvent(f.Events.Players.PAUSED)},e.prototype.getApvElement=function(){return this._apvElement},e.prototype.getSizeData=function(){return{}},e.prototype.getStyle=function(e){return this._apvElement?this._apvElement.style[e]:null},e.prototype.setStyles=function(e){if(this._apvElement)for(var t in e)this._apvElement.style[t]=e[t]},e.prototype.getElementAttribute=function(e){return this._apvElement?this._apvElement.getAttribute(e):null},e.prototype.setElementAttribute=function(e,t){this._apvElement&&this._apvElement.setAttribute(e,t)},e.prototype.getNearestSize=function(e){var t,n,i,r="m",o=l.extractElementSize(e),a=this.getSizeData();if(!o.width||!o.height)return a[r]?r:Object.keys(a)[0];if(n=Math.ceil(o.width/o.height*100)/100,t=this._videoData.getVideoRatio(),o.width*=.9,o.height*=.9,!t||t>n){for(i in a)if(a.hasOwnProperty(i)&&a[i]>=o.height)return i}else{var s;for(i in a)if(a.hasOwnProperty(i)&&(s=a[i]*t,s>=o.width))return i}return i||"R"},e.prototype.getFullVideoUrl=function(e,t){var n=this._videoData.getAPVUrl()+this.mediaHeightIndex+(t||"")+"."+e;for(var i in f.APV)n=n.replace(f.APV[i].source,f.APV[i].target);return l.setUrlProtocol(n)},e.prototype.getValidHeightElement=function(){return this._apvElement.clientHeight>=20?this._apvElement:this.elementToReplace},e.prototype.updateMediaSources=function(){var e=this.getNearestSize(this.getValidHeightElement()),t=1*this._apvElement.getAttribute(this.ATTR_MEDIA_SIZE),n=this.getSizeData()[e];t>=n||(this.mediaHeightIndex=e,this._apvElement.setAttribute(this.ATTR_MEDIA_SIZE,n),l.log("update video size! (new size: "+this.mediaHeightIndex+" new: "+n+", old:"+t+" )"))},e.prototype.isShow=function(){return!0},e.prototype.show=function(){},e.prototype.hide=function(){},e.prototype.handleMediaMetadataLoaded=function(){l.setMediaElementSize(this.getApvElement()),l.ElementObjectFit.set(this.getApvElement(),this.elementToReplace,this._placement.getApvStyleOverride())}}(),function(){function e(){e.__superCtor__.call(this),this.SUPPORTED_TYPES=["mp4"],this._handleVideoEvent_CanPlayThrough=null,this._rezVideo=null}s.apv=s.apv||{},s.apv.players=s.apv.players||{},l["extends"](e,s.apv.players.ApvPlayerBase),s.apv.players.ApvVideoPlayer=e,e.States={STATE_HAVE_NOTHING:0,STATE_HAVE_METADATA:1,STATE_HAVE_CURRENT_DATA:2,STATE_HAVE_FUTURE_DATA:3,STATE_HAVE_ENOUGH_DATA:4},e.prototype.init=function(t,n,i){e.__super__.init.call(this,t,n,i),this._apvElement=document.createElement("video"),this._apvElement.setAttribute("minVideoID",this._videoData.getId()),X.isMobile()&&(this._apvElement.setAttribute("muted",""),this._apvElement.volume=0),X.isFF()&&(this._apvElement.volume=0),this._apvElement.setAttribute("playsinline",""),this._apvElement.setAttribute("webkit-playsinline",""),this.setVideoLoops(),this._apvElement.style.transition=oe.getEffectApvTransitionVideo(),this._apvElement.style.opacity=0,this.attachVideoEvents(),this.buildVideoSources(),ve.start(this._apvElement)},e.prototype.setVideoLoops=function(){try{this._apvElement.setAttribute("loop","")}catch(e){}},e.prototype.setAutoplay=function(){try{this._apvElement.setAttribute("autoplay","")}catch(e){}},e.prototype.buildVideoSources=function(){for(var e=0;e<this.SUPPORTED_TYPES.length;e++){var t=document.createElement("source");t.src=this.getFullVideoUrl(this.SUPPORTED_TYPES[e]),this._apvElement.appendChild(t)}this._apvElement.setAttribute(this.ATTR_MEDIA_SIZE,oe.getRezVideo()[this.mediaHeightIndex])},e.prototype.attachVideoEvents=function(){var e=this,t=function(e){return e.stopImmediatePropagation(),!1};this._apvElement.addEventListener("loadedmetadata",function(){e.dispatchEvent("loadedmetadata"),e.handleMediaMetadataLoaded()}),this._apvElement.addEventListener("play",function(n){return e.handleVideoEvent_Play(),t(n)}),this._apvElement.addEventListener("pause",function(n){return e.handleVideoEvent_Pause(),t(n)}),this._apvElement.addEventListener("error",function(n){return e.handleVideoEvent_Error(),t(n)}),this._apvElement.addEventListener("ended",function(n){return e.handleVideoEvent_Ended(),t(n)}),this._apvElement.addEventListener("timeupdate",t),this._apvElement.addEventListener("playing",t),this._apvElement.addEventListener("waiting",t),this._apvElement.addEventListener("load",t),this._apvElement.addEventListener("progress",t),this._apvElement.addEventListener("durationchange",t);var n=function(){e.dispatchEvent(f.Events.Players.LOADED),e._apvElement.removeEventListener("canplaythrough",n)};this._apvElement.addEventListener("canplaythrough",n)},e.prototype.handleVideoEvent_Play=function(){this.dispatchEvent(f.Events.Players.PLAYING),l.log("playing video for article "+this._videoData.getArticleUrl())},e.prototype.handleVideoEvent_Pause=function(){this.shouldPlay===!0?this._apvElement.play():this.sendEventPaused()},e.prototype.handleVideoEvent_Ended=function(){this.dispatchEvent("ended"),l.log("video ended for article "+this._videoData.getArticleUrl())},e.prototype.handleVideoEvent_Error=function(){this.dispatchEvent("error"),l.log("Browser cannot play video!")},e.prototype.setOriginalImage=function(e){this._apvElement&&e&&l.urls.isImageUrl(e)&&this._apvElement.setAttribute("poster",e)},e.prototype.play=function(){this.shouldPlay=!0,this._apvElement.readyState===e.States.STATE_HAVE_ENOUGH_DATA?(this._apvElement.play(),this.sendEventPlaying()):(this._handleVideoEvent_CanPlayThrough=this._handleVideoEvent_CanPlayThrough||this.handleVideoEvent_CanPlayThrough.bind(this),this._apvElement.addEventListener("canplaythrough",this._handleVideoEvent_CanPlayThrough))},e.prototype.charmerPlay=function(){this._apvElement.play()},e.prototype.pause=function(){this.shouldPlay=!1,this._apvElement.pause()},e.prototype.isShow=function(){return this._apvElement.style.opacity>0},e.prototype.show=function(){this._apvElement.style.opacity=1},e.prototype.hide=function(){this._apvElement.style.opacity=0},e.prototype.getSizeData=function(){return this._rezVideo?this._rezVideo:(this._rezVideo=l.cloneObject(oe.getRezVideo()),this._placement.getApvOrigin()===!0&&(this._rezVideo[f.APV.Origin.source]=f.APV.Origin.size),this._rezVideo)},e.prototype.isPaused=function(){return this._apvElement.paused},e.prototype.updateMediaSources=function(){if(e.__super__.updateMediaSources.call(this),this.lastMediaHeightIndex!==this.mediaHeightIndex){this.lastMediaHeightIndex=this.mediaHeightIndex;var t,n=this._apvElement.querySelectorAll("source"),i=!this._apvElement.paused;this.pause();for(var r=0;r<this.SUPPORTED_TYPES.length;r++)t=n[r],t.type="video/"+this.SUPPORTED_TYPES[r],t.src=this.getFullVideoUrl(this.SUPPORTED_TYPES[r]),this._apvElement.currentSrc.indexOf(this.SUPPORTED_TYPES[r],-5)>-1&&(this._apvElement.src=t.src);i&&this.play()}},e.prototype.handleVideoEvent_CanPlayThrough=function(){this.shouldPlay&&(this._apvElement.play(),this.sendEventPlaying()),this._apvElement.removeEventListener("canplaythrough",this._handleVideoEvent_CanPlayThrough)}}(),function(){function e(){e.__superCtor__.call(this)}s.apv=s.apv||{},s.apv.players=s.apv.players||{},l["extends"](e,s.apv.players.ApvPlayerBase),s.apv.players.ApvGifPlayer=e,e.prototype.init=function(t,n,i){e.__super__.init.call(this,t,n,i),l.log("Mobile detected. Loading GIFs.");var r=document.createElement("img");this._apvElement=r,r.setAttribute("data-apv_replaced","true"),r.setAttribute("minVideoID",this._videoData.getId()),r.setAttribute("src",l.setUrlProtocol(this._videoData.getAPVUrl()+this.mediaHeightIndex+".gif")),this.addGifEvents(r)},e.prototype.addGifEvents=function(){var e=this;if(l.plugins.isPlugin()){var t="gifCreatedPlugin:"+this._videoData.getPublisherVideoId();ie.sendToParent("funnelData",{funnelData:t})}else{var t="gifCreated:"+this._videoData.getPublisherVideoId();g.add(l.getTrackerTiming(t))}this._apvElement.addEventListener("load",function(t){if(e.dispatchEvent(f.Events.Players.LOADED),e.handleMediaMetadataLoaded(),l.plugins.isPlugin()){var n="gifLoadedPlugin:"+e._videoData.getPublisherVideoId();ie.sendToParent("funnelData",{funnelData:n})}else{var n="gifLoaded:"+e._videoData.getPublisherVideoId();g.add(l.getTrackerTiming(n))}})},e.prototype.getSizeData=function(){return oe.getRezGif()},e.prototype.updateMediaSources=function(){e.__super__.updateMediaSources.call(this),this.lastMediaHeightIndex!==this.mediaHeightIndex&&(document.contains(this._apvElement)||this.elementToReplace.setAttribute("src",this.getFullVideoUrl("gif")),this._apvElement.setAttribute("src",this.getFullVideoUrl("gif")),this.lastMediaHeightIndex=this.mediaHeightIndex)},e.prototype.hide=function(){this._apvElement.style.opacity=0}}(),function(){s.placements=s.placements||{},s.placements.getContainerOverlay=function(){return l.logWarning("config set with container overlay but no file was gulped"),document.createElement("img")}}(),s.apv=s.apv||{},s.apv.logos=s.apv.logos||{};var j=s.apv.logos;j.LogoElmBase=function(){j.LogoElmBase.__superCtor__.call(this)},l["extends"](j.LogoElmBase,a),j.LogoElmBase.prototype.init=function(e){this.currentPlacement=e,this.isMobile=X.isMobile(),this.buildLogoLinkElement(),this.hide()},j.LogoElmBase.prototype.buildLogoLinkElement=function(){var e=this.createElement();e.title=e.alt=oe.getTooltip(),this.logoSize=this.isMobile?f.DEFAULT_MOBILE_LOGO_SIZE:f.DEFAULT_LOGO_SIZE;var t=this.getLogoDefaultStyle(),n=this.currentPlacement.getLogoStyleOverride(),i=l.extend(t,n);e.innerHTML=this.getLogoInnerHtml();for(var r in i)e.style[r]=i[r],"width"===r&&(this.logoSize=i[r]);e.style.cursor="pointer",e.style.minWidth=e.style.width=this.logoSize,e.style.minHeight=e.style.height=this.logoSize,""===e.style.left&&""===e.style.right&&(e.style.right="2%"),""===e.style.top&&""===e.style.bottom&&(e.style.bottom="4%"),e.style.outline="none",e.style.transition=oe.getEffectApvTransitionLogo(),e.style.transform="translateZ(1px)",this.minuteLinkElm=e},j.LogoElmBase.prototype.createElement=function(){},j.LogoElmBase.prototype.getLogoElement=function(){return this.minuteLinkElm},j.LogoElmBase.prototype.show=function(){.6!==this.getLogoElement().style.opacity&&(this.getLogoElement().style.opacity=.6)},j.LogoElmBase.prototype.hide=function(){0!==this.getLogoElement().style.opacity&&(this.getLogoElement().style.opacity=0)},s.apv=s.apv||{},s.apv.logos=s.apv.logos||{};var j=s.apv.logos;j.LogoElmSVG=function(){j.LogoElmSVG.__superCtor__.call(this)},l["extends"](j.LogoElmSVG,j.LogoElmBase),j.LogoElmSVG.prototype.getLogoDefaultStyle=function(){var e="16px";return{position:"absolute",display:"block",width:e,height:"auto",border:"none",title:"minute.ly","background-color":"transparent","z-index":"9999"}},j.LogoElmSVG.prototype.getLogoInnerHtml=function(){return'<svg version="1.1" id="MinuteLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 46 46" style="'+this.currentPlacement.getSvgStyle()+'" xml:space="preserve"><path style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;" d="M42.7,13.4L42.7,13.4l-6.8,3.3c1,2,1.5,4.2,1.5,6.5c0,8-6.5,14.4-14.4,14.4c-8,0-14.4-6.5-14.4-14.4 S15.1,8.8,23.1,8.8c1.3,0,2.5,0.2,3.6,0.5l2-7.4c-2-0.5-3.6-0.7-5.7-0.7h0h0c-3.4,0-6.5,0.7-9.6,2.2C2.5,8.6-2,21.7,3.3,32.6 C8.6,43.5,21.7,48,32.6,42.7C43.5,37.4,48,24.3,42.7,13.4"/><circle style="fill:#2ABFD5;" cx="23" cy="23" r="9"/> </svg>'},j.LogoElmSVG.prototype.createElement=function(){return document.createElement("a")},s.apv=s.apv||{},s.apv.logos=s.apv.logos||{};var j=s.apv.logos;j.LogoElmSpanSVG=function(){j.LogoElmSpanSVG.__superCtor__.call(this)},l["extends"](j.LogoElmSpanSVG,j.LogoElmSVG),j.LogoElmSpanSVG.prototype.createElement=function(){return document.createElement("span")},function(){function t(){t.__superCtor__.call(this),this._handleWindowDisposeEvent=null,this._handleApvPlayerLoadedEvent=null,this.minContainer=null,this.blockingState=f.APVStates.Active,this._isLastVisibleAnalytics=!1,this._isLastVisible=!1}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var n=s.apv.domAdapter;n.Base=t,l["extends"](t,a),t.prototype.getState=function(){return this.state},t.prototype.init=function(e){this.apvData=e,this.elementToReplace=this.apvData.getElementToReplace(),this.apvPlayer=this.apvData.getApvPlayer(),this.minuteLink=this.apvData.getMinuteLogo(),this.videoData=this.apvData.getVideoData(),this._placement=this.apvData.getPlacement(),this._coverLayer=null,l.log("initializing DOM adapter. videoData.getId(): "+this.videoData.getId()),this._init(),this.attachWindowEvents(),this.addEvents(),this.dispatchReadyEvent()},t.prototype.addEvents=function(){var e=this;this._handleWindowDisposeEvent=this.handleWindowDisposeEvent.bind(this),h.addEventListener(f.Events.WINDOW_DISPOSE,this._handleWindowDisposeEvent),this.apvPlayer.addEventListenerOnce(f.Events.Players.PLAYING,this.handlePlayerEvent_Playing,this),this.apvPlayer.addEventListener(f.Events.Players.PAUSED,this.handlePlayerEvent_Paused,this),h.addEventListener(f.Events.DomWindow.CHECK_VISIBILITY,function(){e.dispatchViewportEvent()}),this.setElementToObserve()},t.prototype._init=function(){},t.prototype.getStyleDisplay=function(e){return"none"==l.getComputedStyle(e).display?"none":"block"},t.prototype.createMinContainer=function(){this.minContainer=document.createElement("div"),this.minContainer.style.display=this.getStyleDisplay(this.elementToReplace),this.decorateElementWithPlacementName(this.minContainer)},t.prototype.decorateElementWithPlacementName=function(e){e.setAttribute("selector",this._placement.getName())},t.prototype.createVideoElement=function(){var e={},t=this._placement.getApvStyleOverride();this.apvPlayer.setOriginalImage(this.getOriginalUrl()[f.OriginalSrc.PATH]),e.position="relative",e[f.styles.OBJECT_FIT]="cover";for(var n in t)e[n]=t[n];this.apvPlayer.setStyles(e),this._handleApvPlayerLoadedEvent=this.handleApvPlayerLoadedEvent.bind(this),this.apvPlayer.addEventListener(f.Events.Players.LOADED,this._handleApvPlayerLoadedEvent),this._coverLayer=document.createElement("div"),this._coverLayer.style.width="100%",this._coverLayer.style.height="100%",this._coverLayer.style.position="absolute"},t.prototype.insertContainerToDOM=function(e){var t=l.config.getIndexLocation(this._placement),n=l.config.isParentAppend(this._placement);n&&(t=0,e=e.parentElement),t===f.APPEND_CHILD_CODE?e.appendChild(this.minContainer):e.insertBefore(this.minContainer,e.childNodes[t])},t.prototype.getOriginalUrl=function(){var e={};return e[f.OriginalSrc.PATH]=this.elementToReplace.src,e[f.OriginalSrc.ATTR]="src",e},t.prototype.dispose=function(){this.apvPlayer.removeEventListener(f.Events.Players.PLAYING,this.handlePlayerEvent_Playing,this),this.apvPlayer.removeEventListener(f.Events.Players.PAUSED,this.handlePlayerEvent_Paused,this)},t.prototype.initElements=function(){},t.prototype.setElementToObserve=function(){this.observerAttrChange(this.apvData.getViewportObserver())},t.prototype.handleWindowDisposeEvent=function(){h.removeEventListener(f.Events.WINDOW_DISPOSE,this._handleWindowDisposeEvent),this.dispose()},t.prototype.handleApvPlayerLoadedEvent=function(e){this.handlerResize(),this.minuteLink.show()},t.prototype.handlePlayerEvent_Playing=function(e){this.minuteLink.show(),this.dispatchViewportEvent()},t.prototype.handlePlayerEvent_Paused=function(e){},t.prototype.setLoopPlay=function(){this.apvPlayer.setElementAttribute("loop","")},t.prototype.keepVideoVisible=function(){"visible"!=this.apvPlayer.getStyle("visibility")&&(this.apvPlayer.setStyles({visibility:"visible"}),this.dispatchViewportEvent())},t.prototype.hide=function(){this.hideVideo(),this.hideLogo(),this.hideOverlay()},t.prototype.hideVideo=function(){if(this.apvPlayer.isShow()){this.apvPlayer.hide();var e=this._placement.getContainerStyleOverride("inactive");if(e)for(var t in e)this.minContainer.style[t]=e[t];l.log("hide video send inactive")}},t.prototype.showLogo=function(){this.minuteLink&&this.minuteLink.show()},t.prototype.hideLogo=function(){this.minuteLink&&this.minuteLink.hide()},t.prototype.isElementVisible=function(){return I.isElementVisible(this.minContainer,this.apvData.getViewportMaskElement())},t.prototype.getElementVisiblePercents=function(){return I.getElementVisiblePercents(this.minContainer,this.apvData.getViewportMaskElement())},t.prototype.dispatchViewportEvent=function(){var t=this.getElementVisiblePercents();e.debugParams[y.DEBUG_VISIBILITY]&&l.log("DEBUG_VISIBILITY: Visibility for APV Id="+this.videoData.getId()+" is: "+t+"%; the threshold is: "+oe.getViewportAnalyticsPercentage()+"%"),this._updateVisible(t>=this._placement.getViewportPercentage()),this._updateVisibleAnalytics(t>=oe.getViewportAnalyticsPercentage())},t.prototype._updateVisible=function(e){this._isLastVisible!==e&&(this._isLastVisible=e,e?this.dispatchEvent(f.Events.Element.VISIBLE,{videoData:this.videoData,apvData:this.apvData}):this.dispatchEvent(f.Events.Element.NON_VISIBLE,{videoData:this.videoData,apvData:this.apvData}))},t.prototype._updateVisibleAnalytics=function(e){this._isLastVisibleAnalytics!==e&&(this._isLastVisibleAnalytics=e,e&&this.dispatchEvent(f.Events.Element.ANALYTICS_VISIBLE,{videoData:this.videoData,apvData:this.apvData}))},t.prototype.dispatchReadyEvent=function(){this.dispatchEvent(f.Events.Element.READY,{videoData:this.videoData,apvElement:this.apvPlayer.getApvElement(),carouselElement:this.apvData.getViewportMaskElement(),placement:this._placement,apvData:this.apvData})},t.prototype.play=function(){this.apvPlayer.isPaused()&&(this.keepVideoVisible(),this.apvPlayer.play())},t.prototype.pause=function(){this.apvPlayer.isPaused()||this.apvPlayer.pause()},t.prototype.handlerResize=function(){this.resetLogoStyle(),this.minContainer.style.display=this.getStyleDisplay(this.elementToReplace),this.dispatchViewportEvent(),this.startSizeElementTracer()},t.prototype.startSizeElementTracer=function(){X.isMobile()&&0!==this._placement.getSizeObserveEcho()&&(this._elementSizeTracer||(this._elementSizeTracer=new s.utils.ElementSizeTracer(this.elementToReplace,this._placement.getSizeObserveEcho(),this._placement.getSizeObserveDelay()),this._elementSizeTracer.addSizeChangedListener(this.handleElementSizeChanged,this)),this._elementSizeTracer.start())},t.prototype.handleElementSizeChanged=function(){this.resetLogoStyle(),this.dispatchViewportEvent()},t.prototype.attachWindowEvents=function(){var e=this;h.addEventListener(f.Events.DomWindow.SCROLL,function(){e.dispatchViewportEvent()}),h.addEventListener(f.Events.DomWindow.RESIZE,function(t){var n=t.data;if(n&&e._placement.getAdditionalEchoRepeat()>0){var i=new s.utils.Timer(e._placement.getAdditionalEchoTime(),e.handlerResize,e);i.setCounterLimit(e._placement.getAdditionalEchoRepeat()),i.start()}e.handlerResize()}),h.addEventListener(f.Events.DomWindow.URL_CHANGE,function(){e.resetLogoStyle(),e.dispatchViewportEvent()}),this.attachByScrollSelector()},t.prototype.attachByScrollSelector=function(){var e=this,t=this.apvData.getPlacement().getScrollSelector();
if(""!=t){for(var n=document.querySelectorAll(t),i=null,r=!1,o=0;o<n.length;o++)if(n[o].contains(this.apvData.getElementToReplace())){r=!0,i=n[o];break}if(r){var a=new s.utils.Debounce(250,function(){e.dispatchViewportEvent()});i.addEventListener("scroll",function(){a.start()})}}},t.prototype.handleCarouselDebounceCallback=function(){var e=this._placement.getObserverSelectorTimeout();this.handlerResize(),this.dispatchEvent(f.Events.Element.MUTANT,{timeout:e,videoData:this.videoData,apvData:this.apvData})},t.prototype.observerAttrChange=function(e){if(e){var t={attributes:!0},n=new s.utils.Debounce(250,this.handleCarouselDebounceCallback,this);this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(function(e){n.start()}),e&&this.observer.observe(e,t)}},t.prototype.createLogoElement=function(){this.minuteLinkElm=this.minuteLink.getLogoElement(),X.isMobile()||this._placement.getPlayMode()==f.config.PlayModes.InArticle||this.minuteLinkElm.addEventListener("click",this.handleMinuteLinkClick.bind(this))},t.prototype.resetLogoStyle=function(){this.minuteLinkElm&&(this.setLogoPadding(),this.setLogoSize())},t.prototype.setLogoPadding=function(){function e(e,i){n&&""!==n.style[e]&&(t.minuteLinkElm.style[i]=parseInt(t._placement.getLogoStyleOverride()[i],10)+parseInt(n.style[e],10)+"px")}var t=this,n=t.minContainer;e("paddingLeft","left"),e("paddingRight","right"),e("paddingTop","top"),e("paddingBottom","bottom")},t.prototype.setLogoSize=function(){var e=l.extractElementSize(this.minuteLinkElm),t=e.width,n=this.minuteLinkElm.style.width;t<f.LOGO_SMALLEST_WIDTH&&(n=f.LOGO_SMALLEST_WIDTH+"px"),this.minuteLinkElm.style.width!==n&&(this.minuteLinkElm.style.width=n,this.minuteLinkElm.style.height=n,this.minuteLinkElm.style.backgroundSize=n)},t.prototype.handleMinuteLinkClick=function(e){return e.preventDefault(),e.stopImmediatePropagation(),window.open(this.apvData.getAttributeValue(),"_blank"),window.open("http://www.minute.ly/publisher","_self"),this.dispatchEvent(f.Events.APV_LOGO_CLICK,{videoData:this.videoData,placement:this._placement,apvData:this.apvData}),!1},t.prototype.getBoundingClientRect=function(){return this.minContainer.getBoundingClientRect()},t.prototype.hideElementToReplace=function(){this.elementToReplace.style.visibility="hidden",this.elementToReplace.style.opacity=0},t.prototype.activateApv=function(){oe.isBlockingDistanceEnabled()&&l.log("BlockingD: "+this.videoData.getArticleUrl()+" is now active"),this.showElement(this.apvPlayer.getApvElement()),this.showLogo(),this.hideElementToReplace(),this.showDebugBlocking()},t.prototype.blockApv=function(){oe.isBlockingDistanceEnabled()&&l.log("BlockingD: "+this.videoData.getArticleUrl()+" is now Blocked"),this.hideElement(this.apvPlayer.getApvElement()),this.hideLogo(),this.hideDebugBlocking()},t.prototype.setState=function(e){if(this.videoData&&this.blockingState!==e)switch(this.blockingState=e,e){case f.APVStates.Active:this.activateApv();break;case f.APVStates.Disabled:case f.APVStates.Blocked:this.blockApv()}},t.prototype.hideElement=function(e){e&&(e.style.opacity=0)},t.prototype.showElement=function(e){e&&(e.style.opacity=1)},t.prototype.hideDebugBlocking=function(){this.apvData.getDebug()&&(this.apvData.getDebug().style.opacity=0)},t.prototype.showDebugBlocking=function(){this.apvData.getDebug()&&(this.apvData.getDebug().style.opacity=1)},t.prototype.hideOverlay=function(){}}(),function(){function e(){e.__superCtor__.call(this),this.currentSize={},this.hasMediaQueryChanged=!1,this._cloneImageLoaded=!1,this._containerOL=null,this.resizeDecouncer=new s.utils.Debounce(100,this.handlerDebounceResize,this)}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var t=s.apv.domAdapter,n={"box-shadow":"none",border:0};t.MimicInheritETRClasses=e,l["extends"](e,t.Base),e.getTypeName=function(){return"MimicInheritETRClasses"},e.prototype.dispose=function(){e.__super__.dispose.call(this),X.isSafari()||(this.cloneOriginal&&(this.cloneOriginal.style.opacity=1),this.apvPlayer.setStyles({opacity:0}))},e.prototype.buildMinuteDomElements=function(){this.createMinContainer(),this.createVideoElement(),this.createLogoElement(),0==this._placement.getNoClone()&&(this.createCloneImg(),this.minContainer.appendChild(this.cloneOriginal)),this.minContainer.appendChild(this.apvPlayer.getApvElement()),this.minContainer.appendChild(this._coverLayer),this.minContainer.appendChild(this.minuteLinkElm),this.insertContainerToDOM(this.elementToReplace.parentNode),this.hideElementToReplace(),this.resetLogoStyle(this.minContainer)},e.prototype._init=function(){this.buildMinuteDomElements();var e={attributes:!0},t=this;this.observer=new MutationObserver(function(e){t.handlerResize()}),this.observer.observe(this.elementToReplace,e),h.addEventListener(f.Events.DomWindow.RESIZE,this.handlerResize,this),h.addEventListener(f.Events.DomWindow.URL_CHANGE,this.handlerResize,this)},e.prototype.createMinContainer=function(){e.__super__.createMinContainer.call(this),this._updateElementSizeFromOriginal();var t=this._placement.getContainerStyleOverride();for(var n in t)this.minContainer.style[n]=t[n];this._copyStylesFromElement(this.elementToReplace,this.minContainer),this.hasMediaQueryChanged=this._setOverridesAndReturnHasChanged(this.minContainer,f.styleOverrides.CONTAINER)},e.prototype.createVideoElement=function(){e.__super__.createVideoElement.call(this),this.apvPlayer.setOriginalImage(this.getOriginalUrl()[f.OriginalSrc.PATH]);var t=this._getApvDefaultStyles();t[f.styles.OBJECT_FIT]="cover",this.apvPlayer.setStyles(t),this._setOverridesAndReturnHasChanged(this.apvPlayer.getApvElement(),f.styleOverrides.APV),this.apvPlayer.setStyles({width:"100%",height:"100%"}),this._handleApvPlayerLoadedEvent=this.handleApvPlayerLoadedEvent.bind(this),this.apvPlayer.addEventListener(f.Events.Players.LOADED,this._handleApvPlayerLoadedEvent)},e.prototype.getOriginalUrl=function(){var e,t=this.elementToReplace.src||this.elementToReplace.srcset,n=this.elementToReplace.src?"src":"srcset";"undefined"!=typeof t&&""!=t||"PICTURE"!==this.elementToReplace.parentElement.tagName||(e=this.elementToReplace.parentElement.querySelector("source[src], source[srcset]"),t=e.src,("undefined"==typeof t||""==t)&&(t=e.getAttribute("srcset").substr(0,e.getAttribute("srcset").indexOf(" "))));var i={};return i[f.OriginalSrc.PATH]=t,i[f.OriginalSrc.ATTR]=n,i},e.prototype.handleCloneImageLoaded=function(){this.cloneOriginal.removeEventListener("load",this._listenerCloneImageLoaded),this._listenerCloneImageLoaded=null,this._cloneImageLoaded=!0},e.prototype.createCloneImg=function(){this.cloneOriginal=document.createElement("img"),this._listenerCloneImageLoaded=this.handleCloneImageLoaded.bind(this),this.cloneOriginal.addEventListener("load",this._listenerCloneImageLoaded);var e=this.getOriginalUrl();this.cloneOriginal[e[f.OriginalSrc.ATTR]]=e[f.OriginalSrc.PATH];var t=this._getCloneImageDefaultStyles();for(var i in t)this.cloneOriginal.style[i]=t[i];this.decorateElementWithPlacementName(this.cloneOriginal),s.utils.DomFinder.setElementAsReplaced(this.cloneOriginal);for(var r in n)this.cloneOriginal.style[r]=n[r];this._setOverridesAndReturnHasChanged(this.cloneOriginal,f.styleOverrides.CLONE)},e.prototype.handlerDebounceResize=function(){e.__super__.handlerResize.call(this),this._updateElementSizeFromOriginal()},e.prototype.handlerResize=function(){this.resizeDecouncer.start()},e.prototype._updateElementSizeFromOriginal=function(){var e=this,t=function(){var t=e.minContainer.style,n=t.width,i=t.height;if(e._placement.isContainerFullSize())return void(("100%"!==n||"100%"!==i)&&(t.width="100%",t.height="100%"));var r=l.extractElementSize(e.elementToReplace);r.width&&r.height&&(n!==r.width+"px"||i!==r.height+"px")&&(t.width=r.width+"px",t.height=r.height+"px"),e.hasMediaQueryChanged=e._setOverridesAndReturnHasChanged(e.minContainer,f.styleOverrides.CONTAINER)};this.hasMediaQueryChanged=this._setOverridesAndReturnHasChanged(this.minContainer,f.styleOverrides.CONTAINER),this.apvPlayer.getApvElement()&&this._setOverridesAndReturnHasChanged(this.apvData.getApvPlayer()._apvElement,f.styleOverrides.APV),this._setOverridesAndReturnHasChanged(this.apvData.getElementToReplace(),f.styleOverrides.ELEMENT_TO_REPLACE),l.getRequestAnimationFrame()(t),this.handleSafariWebkitFixOnResize()},e.prototype._setOverridesAndReturnHasChanged=function(e,t,n){var i=this._getActiveOverridesIfChanged(t)||{},r=l.extentObject(i.styles,n||this.getDefaultContainerStyle());for(var o in r)r.hasOwnProperty(o)&&e.style[o]!==r[o]&&(e.style[o]=r[o]);var a="-"+e.style[f.styles.HEIGHT];return t===f.styleOverrides.CONTAINER&&this._placement.isContainerFullSize()&&(a="-"+this.elementToReplace.getBoundingClientRect()[f.styles.HEIGHT]+"px"),f.styles.MARGIN_TOP in r&&r[f.styles.MARGIN_TOP]===f.styles.PARENT&&e.style[f.styles.MARGIN_TOP]!==a&&(e.style[f.styles.MARGIN_TOP]=a),i.hasMediaQueryChanged},e.prototype._getActiveOverridesIfChanged=function(e){var t,n=this.currentSize[e];this.currentSize[e]||(this.currentSize[e]=f.DEFAULT_MEDIAQUERY);var i=this._placement.getActiveOverridesWithSize(e);return this.currentSize[e]=i.size,t={hasMediaQueryChanged:!1,styles:i.styles},n!==i.size&&this._placement.hasMediaQueries(e)&&(t.hasMediaQueryChanged=!0),t},e.prototype._copyStylesFromElement=function(e,t){var i=l.getComputedStyle(e);for(var r in n)t.style[r]=i[r]},e.prototype.handleSafariWebkitFixOnResize=function(){var e=this,t=function(){e.minContainer.style.display=f.values.NONE,setTimeout(function(){e.minContainer.style.display=f.values.BLOCK,(e.shouldPlay===!0||"undefined"==typeof e.shouldPlay)&&e.apvPlayer.play()},0)};X.isSafari()&&this.hasMediaQueryChanged&&(t(),setTimeout(function(){t()},250))},e.prototype.getDefaultContainerStyle=function(){return{position:"absolute",overflow:"hidden"}},e.prototype.hideElementToReplace=function(){function t(){if(n._cloneImageLoaded===!1)return void i(t);e.__super__.hideElementToReplace.call(n);var r=n._placement.getElementToReplaceStyleOverride()||n._getHideElementToReplaceStyleDefaults(),o=n.elementToReplace;for(var a in r)o.style[a]=r[a]}var n=this,i=l.getRequestAnimationFrame();i(t)},e.prototype.handlePlayerEvent_Playing=function(t){e.__super__.handlePlayerEvent_Playing.call(this),this.hideElementToReplace()},e.prototype._getHideElementToReplaceStyleDefaults=function(){return{position:f.values.RELATIVE,visibility:f.values.HIDDEN,opacity:0}},e.prototype._getApvDefaultStyles=function(){return{position:f.values.RELATIVE,display:f.values.BLOCK,width:f.values.HUNDRED_PERCENT,height:f.values.HUNDRED_PERCENT}},e.prototype._getCloneImageDefaultStyles=function(){return{position:f.values.ABSOLUTE,display:f.values.BLOCK,width:f.values.HUNDRED_PERCENT,height:f.values.HUNDRED_PERCENT}},e.prototype.hideOverlay=function(){e.__super__.hideOverlay.call(this),this._containerOL&&(this._containerOL.style.opacity=0)}}(),function(){function e(){e.__superCtor__.call(this),this.bgImageUrl=null}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var t=s.apv.domAdapter;t.AppendToElement=e,l["extends"](e,t.Base),e.getTypeName=function(){return"AppendToElement"},e.prototype._init=function(){this.createMinContainer(),this.createVideoElement(),this.createLogoElement(),this.minContainer.appendChild(this.apvPlayer.getApvElement()),this.minContainer.appendChild(this._coverLayer),this.minContainer.appendChild(this.minuteLinkElm),this.insertContainerToDOM(this.elementToReplace),this.resetLogoStyle(this.minContainer,this.minuteLogo)},e.prototype.insertContainerToDOM=function(e){var t=e.childNodes&&e.childNodes.length>0,n=l.config.getIndexLocation(this._placement);return t&&n!==f.APPEND_CHILD_CODE?void(n!==f.APPEND_CHILD_CODE?e.insertBefore(this.minContainer,e.childNodes[n]):e.insertBefore(this.minContainer,e.childNodes[0])):void e.appendChild(this.minContainer)},e.prototype.initElements=function(){e.__super__.initElements.call(this),this.bgImageUrl=l.extractImageUrlFromStyle(this.elementToReplace.style.backgroundImage)},e.prototype.createMinContainer=function(){e.__super__.createMinContainer.call(this);var t=this._placement.getContainerStyleOverride();for(var n in t)this.minContainer.style[n]=t[n];this.minContainer.style.width="100%",this.minContainer.style.height="100%"},e.prototype.createVideoElement=function(){e.__super__.createVideoElement.call(this),this.apvPlayer.setStyles({width:"100%",height:"100%"})},e.prototype.getOriginalUrl=function(){var e={};return e[f.OriginalSrc.PATH]=this.bgImageUrl,e[f.OriginalSrc.ATTR]="src",e},e.prototype.dispose=function(){e.__super__.dispose.call(this),X.isSafari()||this.apvPlayer.setStyles({opacity:0})},e.prototype.hideElementToReplace=function(){}}(),function(){function e(){e.__superCtor__.call(this)}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var t=s.apv.domAdapter;t.TestGroup=e,l["extends"](e,t.Base),e.prototype.init=function(t){e.__super__.init.call(this,t),this.dispatchViewportEvent()},e.getTypeName=function(){return"TestGroup"},e.prototype._init=function(){this.minContainer=this.elementToReplace},e.prototype.dispatchReadyEvent=function(){this.dispatchEvent(f.Events.Element.READY,{apvData:this.apvData})},e.prototype.getBoundingClientRect=function(){return this.apvData.getElementToReplace().getBoundingClientRect()},e.prototype.hideElementToReplace=function(){}}(),function(){function e(){return J.isIframe()?new t:new n}function t(){t.__superCtor__.call(this)}function n(){n.__superCtor__.call(this)}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var i=s.apv.domAdapter;i.testGroupInterFrames=e,l["extends"](t,i.Base),l["extends"](n,i.Base),t.prototype.attachWindowEvents=function(){var e=this,t=this.videoData.getPublisherVideoId();ie.addPostMessageListener(window,function(n){"percentsVisible"==n.subtype&&n.videoId==t&&e.dispatchViewportEvent(n.percentsVisible)})},t.prototype.dispatchViewportEvent=function(e){"undefined"!=typeof e&&(this._updateVisible(e>=this._placement.getViewportPercentage()),this._updateVisibleAnalytics(e>=oe.getViewportAnalyticsPercentage()))},t.prototype.init=function(e){t.__super__.init.call(this,e)},t.getTypeName=function(){return"TestGroupInterFrames Inner"},t.prototype._init=function(){this.minContainer=this.elementToReplace},t.prototype.dispatchReadyEvent=function(){this.dispatchEvent(f.Events.Element.READY,{apvData:this.apvData})},t.prototype.getBoundingClientRect=function(){return this.apvData.getElementToReplace().getBoundingClientRect()},t.prototype.hideElementToReplace=function(){},n.prototype.dispatchViewportEvent=function(){for(var e=this.getElementVisiblePercents(),t=0;t<J.getIframeWindows().length;t++){var n=J.getIframeWindows()[t],i=this.videoData.getPublisherVideoId();ie.postToIframe(n,"percentsVisible",{percentsVisible:e,videoId:i})}},n.prototype.init=function(e){n.__super__.init.call(this,e),this.dispatchViewportEvent()},n.getTypeName=function(){return"TestGroupInterFrames"},n.prototype._init=function(){this.minContainer=this.elementToReplace},n.prototype.dispatchReadyEvent=function(){},n.prototype.getBoundingClientRect=function(){return this.apvData.getElementToReplace().getBoundingClientRect()},n.prototype.hideElementToReplace=function(){}}(),function(){function t(e){r[e.data.videoId]=e.data}function n(){n.__superCtor__.call(this),this._handleWindowDisposeEvent=null,this.minContainer=null,this.blockingState=f.APVStates.Active,this._isLastVisibleAnalytics=!1,this._isLastVisible=!1,h.addEventListener(f.Events.PLAYER_PLAYING,this.handlePlayerPlayingEvent,this)}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var i=s.apv.domAdapter,r={};h.addEventListener(f.Events.PLAYER_PLAYING,t),i.InArticleBase=n,l["extends"](n,a),n.prototype.getState=function(){return this.state},n.prototype.handlePlayerPlayingEvent=function(e){e.data.videoId===this.videoData.getPublisherVideoId()&&(h.removeEventListener(f.Events.PLAYER_PLAYING,this.handlePlayerPlayingEvent,this),this.apvPlayer.pause(),this.hide())},n.prototype.isPlayerPlayingOnInit=function(){return!!r[this.videoData.getPublisherVideoId()]},n.prototype.init=function(e){this.apvData=e,this.elementToReplace=e.getElementToReplace(),this.apvPlayer=e.getApvPlayer(),this.minuteLink=e.getMinuteLogo(),this.videoData=e.getVideoData(),this._placement=e.getPlacement(),this.player=e.getPlayerInstance(),this._coverLayer=null,this.isPlayerPlayingOnInit()||(this.initElements(),this._init(),this.attachWindowEvents(),this.addEvents(),this.dispatchReadyEvent(),J.isIframe()||this.dispatchViewportEvent(),this._observeViewportMask())},n.prototype._observeViewportMask=function(){var e=oe.getInArticleViewportMask();if(e!==window){var t=function(){l.log("InArticleBase observed change!"),this.dispatchViewportEvent(),this.mutationObserver.disconnect()}.bind(this);this.mutationObserver=new MutationObserver(t),this.mutationObserver.observe(e,{attributes:!0})}},n.prototype.addEvents=function(){var e=this;this._handleWindowDisposeEvent=this.handleWindowDisposeEvent.bind(this),h.addEventListener(f.Events.WINDOW_DISPOSE,this._handleWindowDisposeEvent),this.apvPlayer.addEventListener(f.Events.Players.PLAYING,this.handlePlayerEvent_Playing,this),this.apvPlayer.addEventListener(f.Events.Players.PAUSED,this.handlePlayerEvent_Paused,this),h.addEventListener(f.Events.DomWindow.CHECK_VISIBILITY,function(){e.dispatchViewportEvent()})},n.prototype._init=function(){this.createMinContainer(),this.createVideoElement(),this.createCoverLayerElement(),this.createLogoElement(),this.minContainer.appendChild(this.apvPlayer.getApvElement()),this.minContainer.appendChild(this._coverLayer),this.minContainer.appendChild(this.minuteLinkElm),this.insertContainerToDOM(this.elementToReplace)},n.prototype.createMinContainer=function(){this.minContainer=document.createElement("div"),this.decorateElementWithPlacementName(this.minContainer),this.minContainer.style.width="100%",this.minContainer.style.height="100%",this.minContainer.style.position="relative"},n.prototype.getTypeName=function(){throw new Error("inarticle placer: getTypeName has to be implemented")},n.prototype.decorateElementWithPlacementName=function(e){e.setAttribute("selector",this.getTypeName())},n.prototype.createVideoElement=function(){var e={position:f.values.RELATIVE,display:f.values.BLOCK,width:f.values.HUNDRED_PERCENT,height:f.values.HUNDRED_PERCENT};e[f.styles.OBJECT_FIT]="cover",this.apvPlayer.setStyles(e)},n.prototype.createCoverLayerElement=function(){this._coverLayer=document.createElement("div"),this._coverLayer.style.width=f.values.HUNDRED_PERCENT,this._coverLayer.style.height=f.values.HUNDRED_PERCENT,this._coverLayer.style.position=f.values.ABSOLUTE,this._coverLayer.style.top="0px"},n.prototype.insertContainerToDOM=function(){throw new Error("inarticle placer: insert to dom has to be implemented")},n.prototype.getOriginalUrl=function(){var e,t=this.elementToReplace.src||this.elementToReplace.srcset,n=this.elementToReplace.src?"src":"srcset";"undefined"!=typeof t&&""!=t||"PICTURE"!==this.elementToReplace.parentElement.tagName||(e=this.elementToReplace.parentElement.querySelector("source[src], source[srcset]"),t=e.src,("undefined"==typeof t||""==t)&&(t=e.getAttribute("srcset").substr(0,e.getAttribute("srcset").indexOf(" "))));var i={};return i[f.OriginalSrc.PATH]=t,i[f.OriginalSrc.ATTR]=n,i},n.prototype.dispose=function(){this.apvPlayer.removeEventListener(f.Events.Players.PLAYING,this.handlePlayerEvent_Playing,this),this.apvPlayer.removeEventListener(f.Events.Players.PAUSED,this.handlePlayerEvent_Paused,this)},n.prototype.initElements=function(){throw new Error("inarticle placer: set wrapper on drived implementation")},n.prototype.handleWindowDisposeEvent=function(){h.removeEventListener(f.Events.WINDOW_DISPOSE,this._handleWindowDisposeEvent),this.dispose()},n.prototype.handlePlayerEvent_Playing=function(e){this.minuteLink.show()},n.prototype.handlePlayerEvent_Paused=function(e){},n.prototype.keepVideoVisible=function(){J.isIframe()||"visible"!=this.apvPlayer.getStyle("visibility")&&(this.apvPlayer.setStyles({visibility:"visible"}),this.dispatchViewportEvent())},n.prototype.hide=function(){this.hideVideo(),this.hideLogo(),this.hideOverlay()},n.prototype.hideVideo=function(){this.apvPlayer.isShow()&&(this.apvPlayer.hide(),l.log("hide video send inactive"))},n.prototype.showLogo=function(){this.minuteLink&&this.minuteLink.show(),this._containerOverlay&&(this._containerOverlay.style.opacity=1)},n.prototype.hideLogo=function(){this.minuteLink&&this.minuteLink.hide(),this._containerOverlay&&(this._containerOverlay.style.opacity=0)},n.prototype.isElementVisible=function(){var e=oe.getInArticleViewportMask();return I.isElementVisible(this.wrapperElement,e)},n.prototype.getElementVisiblePercents=function(){var e=oe.getInArticleViewportMask();return I.getElementVisiblePercents(this.wrapperElement,e)},n.prototype.dispatchViewportEvent=function(){var t=this.getElementVisiblePercents();e.debugParams[y.DEBUG_VISIBILITY]&&l.log("DEBUG_VISIBILITY: Visibility for APV Id="+this.videoData.getId()+" is: "+t+"%; the threshold is: "+oe.getViewportAnalyticsPercentage()+"%"),this._updateVisible(t>=1),this._updateVisibleAnalytics(t>=oe.getViewportAnalyticsPercentage())},n.prototype._updateVisible=function(e){this._isLastVisible!==e&&(this._isLastVisible=e,e?this.dispatchEvent(f.Events.Element.VISIBLE,{videoData:this.videoData}):this.dispatchEvent(f.Events.Element.NON_VISIBLE,{videoData:this.videoData}))},n.prototype._updateVisibleAnalytics=function(e){this._isLastVisibleAnalytics!==e&&(this._isLastVisibleAnalytics=e,e&&this.dispatchEvent(f.Events.Element.ANALYTICS_VISIBLE,{apvData:this.apvData,videoData:this.videoData}))},n.prototype.dispatchReadyEvent=function(){h.dispatchEvent(f.Events.Element.READY,{apvData:this.apvData}),this.dispatchEvent(f.Events.Element.READY,{apvData:this.apvData})},n.prototype.play=function(){this.apvPlayer.isPaused()&&(this.keepVideoVisible(),this.apvPlayer.play())},n.prototype.pause=function(){this.apvPlayer.isPaused()||this.apvPlayer.pause()},n.prototype.handlerResize=function(){this.dispatchViewportEvent()},n.prototype.handleElementSizeChanged=function(){},n.prototype.attachWindowEvents=function(){var e=this;h.addEventListener(f.Events.DomWindow.SCROLL,function(){e.dispatchViewportEvent()}),h.addEventListener(f.Events.DomWindow.URL_CHANGE,function(){e.resetLogoStyle(),e.dispatchViewportEvent()})},n.prototype.observerAttrChange=function(){},n.prototype.createLogoElement=function(){this.minuteLinkElm=this.minuteLink.getLogoElement(),this.minuteLinkElm.style["z-index"]=1e3},n.prototype.resetLogoStyle=function(){this.minuteLinkElm&&this.setLogoSize()},n.prototype.setLogoPadding=function(){},n.prototype.setLogoSize=function(){var e=l.extractElementSize(this.minuteLinkElm),t=e.width,n=this.minuteLinkElm.style.width;t<f.LOGO_SMALLEST_WIDTH&&(n=f.LOGO_SMALLEST_WIDTH+"px"),this.minuteLinkElm.style.width=n,this.minuteLinkElm.style.height=n,this.minuteLinkElm.style.backgroundSize=n},n.prototype.getBoundingClientRect=function(){},n.prototype.activateApv=function(){this.showElement(this.apvPlayer.getApvElement()),this.showLogo()},n.prototype.blockApv=function(){},n.prototype.setState=function(e){this.activateApv()},n.prototype.hideElement=function(e){e&&(e.style.opacity=0)},n.prototype.showElement=function(e){e&&(e.style.opacity=1)},n.prototype.hideDebugBlocking=function(){},n.prototype.showDebugBlocking=function(){},n.prototype.hideOverlay=function(){},n.prototype.setLoopPlay=function(){}}(),function(){function e(){e.__superCtor__.call(this)}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var t=s.apv.domAdapter;t.InterFrames=e,l["extends"](e,t.InArticleBase)}(),function(){function t(){t.__superCtor__.call(this)}function n(){n.__superCtor__.call(this)}s.apv=s.apv||{},s.apv.domAdapter=s.apv.domAdapter||{};var i=s.apv.domAdapter,r="inner";-1==U.getWindowLocationHref().indexOf("player.performgroup.com")&&(r="outer"),"inner"==r?(i.SportingNews=t,l["extends"](t,i.InterFrames)):(i.SportingNews=n,l["extends"](n,i.InterFrames)),t.prototype.getTypeName=function(){return"SportingNews"},t.prototype.attachWindowEvents=function(){var e=this;ie.addPostMessageListener(window,function(t){"percentsVisible"==t.subtype&&e.dispatchViewportEvent(t.percentsVisible)})},t.prototype.addEvents=function(){this.apvPlayer.addEventListener(f.Events.Players.PLAYING,function(){this.minuteLink.show()},this)},t.prototype.hide=function(){this.minContainer.style.display="none"},t.prototype.insertContainerToDOM=function(e){e.appendChild(this.minContainer)},t.prototype.initElements=function(){this.wrapperElement=this.elementToReplace},t.prototype.isElementVisible=function(){return I.isElementVisible(this.wrapperElement)},t.prototype.getElementVisiblePercents=function(){return I.getElementVisiblePercents(this.wrapperElement)},t.prototype.getOriginalUrl=function(){var e=angular.element(this.player).scope(),t=e.spieler.poster,n={};return n[f.OriginalSrc.PATH]=t,n[f.OriginalSrc.ATTR]="src",n},t.prototype.dispatchViewportEvent=function(e){this._updateVisible(e>=1),this._updateVisibleAnalytics(e>=oe.getViewportAnalyticsPercentage())},t.prototype.createLogoElement=function(){t.__super__.createLogoElement.call(this),X.isMobile()||(this.minuteLinkElm.style.width="22px",this.minuteLinkElm.style.height="22px",this.minuteLinkElm.style.right="2%",this.minuteLinkElm.style.bottom="3%")},n.prototype.dispatchViewportEvent=function(){var t=this.getElementVisiblePercents();e.debugParams[y.DEBUG_VISIBILITY]&&l.log("DEBUG_VISIBILITY: Visibility for APV Id="+this.videoData.getId()+" is: "+t+"%; the threshold is: "+oe.getViewportAnalyticsPercentage()+"%"),ie.postToIframe(this.wrapperElement.contentWindow,"percentsVisible",{percentsVisible:t})},n.prototype.getTypeName=function(){return"SportingNews"},n.prototype.insertContainerToDOM=function(e){},n.prototype.initElements=function(){this.wrapperElement=this.player}}(),function(){function e(){e.__superCtor__.call(this),this.apvData=null,this.domAdapter=null,this.apvPlayer=null,this.videoData=null,this.currentPlacement=null}s.apv=s.apv||{},s.apv.playmodes=s.apv.playmodes||{},s.apv.playmodes.Base=e,l["extends"](e,a),e.prototype.setDomAdapter=function(e){this.apvData=e,this.domAdapter=this.apvData.getDomAdapter(),this.apvPlayer=this.apvData.getApvPlayer(),this.videoData=this.apvData.getVideoData(),this.currentPlacement=this.apvData.getPlacement()},e.prototype.start=function(){}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.AndroidCharmerInArticle=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this);var t=this;this.apvPlayer.setAutoplay(),this.apvPlayer.addEventListener(f.Events.Players.LOADED,function(){t.domAdapter.isElementVisible()?t.domAdapter.play():t.domAdapter.pause()}),this.apvPlayer.addEventListener(f.Events.Players.PLAYING,function(){setTimeout(t.apvPlayer.show.bind(t.apvPlayer),oe.getEffectApvShowDelay())}),this.domAdapter.addEventListener(f.Events.Element.VISIBLE,function(){t.domAdapter.play()}),this.domAdapter.addEventListener(f.Events.Element.NON_VISIBLE,function(){t.domAdapter.pause()}),l.plugins.addPlayEventListener(function(){t.domAdapter.hide()},this.currentPlacement,this.videoData)}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.AndroidCharmerViewport=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this);var t=this;this.apvPlayer.setAutoplay(),this.apvPlayer.addEventListener(f.Events.Players.LOADED,function(){t.domAdapter.isElementVisible()?t.domAdapter.play():t.domAdapter.pause()}),this.apvPlayer.addEventListener(f.Events.Players.PLAYING,function(){setTimeout(t.apvPlayer.show.bind(t.apvPlayer),oe.getEffectApvShowDelay())}),this.domAdapter.addEventListener(f.Events.Element.VISIBLE,function(){t.domAdapter.play()}),this.domAdapter.addEventListener(f.Events.Element.NON_VISIBLE,function(){t.domAdapter.pause()}),this.domAdapter.addEventListener(f.Events.Element.MUTANT,function(e){setTimeout(function(){t.domAdapter.dispatchViewportEvent()},e.data.timeout)}),this.domAdapter.hideLogo()}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.iOSCharmerInArticle=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this);var t=this;this.apvPlayer.charmerPlay(),this.apvPlayer.addEventListener(f.Events.Players.PLAYING,function(){setTimeout(t.apvPlayer.show.bind(t.apvPlayer),oe.getEffectApvShowDelay())}),l.plugins.addPlayEventListener(function(){t.domAdapter.hide()},this.currentPlacement,this.videoData)}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.iOSCharmerViewport=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this);var t=this;this.apvPlayer.charmerPlay(),this.apvPlayer.addEventListener(f.Events.Players.PLAYING,function(){setTimeout(t.apvPlayer.show.bind(t.apvPlayer),oe.getEffectApvShowDelay())}),this.domAdapter.addEventListener(f.Events.Element.MUTANT,function(e){setTimeout(function(){t.domAdapter.dispatchViewportEvent()},e.data.timeout)}),this.domAdapter.hideLogo()}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.Viewport=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this);var t=this;this.domAdapter.setLoopPlay(),this.apvPlayer.addEventListener(f.Events.Players.LOADED,function(){t.domAdapter.isElementVisible()?t.domAdapter.play():t.domAdapter.pause()}),this.apvPlayer.addEventListener(f.Events.Players.PLAYING,function(){setTimeout(t.apvPlayer.show.bind(t.apvPlayer),oe.getEffectApvShowDelay())}),this.domAdapter.addEventListener(f.Events.Element.VISIBLE,function(){t.domAdapter.play()}),this.domAdapter.addEventListener(f.Events.Element.NON_VISIBLE,function(){t.domAdapter.pause()}),this.domAdapter.addEventListener(f.Events.Element.MUTANT,function(e){setTimeout(function(){t.domAdapter.dispatchViewportEvent()},e.data.timeout)}),this.domAdapter.hideLogo()}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.MobileGif=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this),this.domAdapter.showLogo()}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.InArticleMobile=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this);var t=this;this.apvPlayer.addEventListener(f.Events.Players.LOADED,function(){setTimeout(t.apvPlayer.show.bind(t.apvPlayer),oe.getEffectApvShowDelay()),t.domAdapter.showLogo(),t.domAdapter.play()}),l.plugins.addPlayEventListener(function(){t.domAdapter.hide()},this.currentPlacement,this.videoData)}}(),function(){function e(){e.__superCtor__.call(this)}s.apv.playmodes.TestGroup=e,l["extends"](e,s.apv.playmodes.Base),e.prototype.start=function(){e.__super__.start.call(this);var t=this;this.domAdapter.addEventListener(f.Events.Element.MUTANT,function(e){setTimeout(function(){t.domAdapter.dispatchViewportEvent()},e.data.timeout)})}}(),function(){function e(e){function t(e,t){u.has(e,t)||u.add(e,t)}function n(){return!u||u.getNumListeners()>0}function i(){c&&(p.disconnect(),p=null,u.removeAll(),u=null,c=null)}function r(){p=new MutationObserver(o),p.observe(c.getElementToReplace(),{attributes:!0})}function o(e){l.isElementLazyLoad(c)===!1&&a()}function a(){d>0&&(clearTimeout(d),d=0),l.isElementHasSize(c.getElementToReplace())?u.dispatch(c):d=setTimeout(a,50)}var c=e,u=new s.utils.Signal,p=null,d=0;return r(),{addListener:t,isWatched:n,dispose:i}}s.apv=s.apv||{},s.apv.LazyLoadWatcher=e}(),function(){function e(e){t=e,this.potentialsPerPlacements={}}var t,n=s.utils.DomFinder;e.prototype.getVideoData=function(e,t,n,i){return se.getVideoDataByKey(i,e)},e.prototype.createData=function(e,t,n,i,o,a,s){var l=new r(e,t,n,f.Emitter.PRODUCT_APV,t.getIsEnableMobileVideo());return l.setAnchorElement(i),l.setAttributeName(o),l.setAttributeValue(a),l.setContainerElement(s),l},e.prototype.filterHiddenElements=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.offsetParent&&t.push(i);}return t},e.prototype.getNewApvData=function(){for(var e,i,r,o=de.getAllPlacements(),a=[],s=[],l=0;l<o.length;l++){r=o[l];var c=document.querySelectorAll(r.getContainerSelector());if(0!==c.length&&(c=this.filterHiddenElements(c),!this.potentialsPerPlacements.hasOwnProperty(r.getName())||this.potentialsPerPlacements[r.getName()]!==c.length||!t.enablePotentialsPerPlacements())){this.potentialsPerPlacements[r.getName()]=c.length;for(var u=0;u<c.length;u++){var p=c[u],d=p.querySelector(r.getAnchorSelector());if(!d){if("A"!==p.tagName)continue;d=p}var h=r.getAttrName(),g=h&&d.getAttribute(h);i=se.getVideoDataByKey(g,r),i&&i.hasAPV()&&i.shouldPlayRegular()&&(s.indexOf(i)>-1||(e=p.querySelector(r.getPreviewSelector()),this.isElementToReplaceValid(e,r)&&(s.push(i),n.getIsElementReplaced(e)||a.push(this.createData(i,r,e,d,h,g,p)))))}}}return a},e.prototype.isElementToReplaceValid=function(e,t){return e?l.extractElementSize(e).width<=t.getMinimumWidth()?!1:!0:!1},s.services=s.services||{},s.services.VideoGenerator=e}(),function(){function e(e){function t(){if(n.isBlockingDistanceEnabled()){var t=new s.services.BlockingDistance.DocumentRadiusPainterFactory(n);return new s.services.BlockingDistance.BlockingDistanceService(e,t)}return new s.services.BlockingDistance.NotActivatedBlockingDistance}var n=e;return{create:t}}s.services=s.services||{},s.services.BlockingDistance=s.services.BlockingDistance||{},s.services.BlockingDistance.Factory=e}(),function(){function e(e,t){this.carouselContainers=[],o=t.create(e)}function t(e,t){return e.getVideoData().isForcePlacement()===!0&&t.getVideoData().isForcePlacement()===!0?0:e.getVideoData().isForcePlacement()===!0&&t.getVideoData().isForcePlacement()===!1?-1:e.getVideoData().isForcePlacement()===!1&&t.getVideoData().isForcePlacement()===!0?1:e.getPlacement().getPriority()===e.getPlacement().getPriority()?e.getPosition().top>=t.getPosition().top?1:-1:e.getPlacement().getPriority()>=e.getPlacement().getPriority()?1:-1}function n(e){if(oe.getIsDisableApvOnCarouselScroll()){var t=e.getViewportMaskElement();if(t){for(var n=null,i=0;i<this.carouselContainers.length;i++)if(this.carouselContainers[i].getViewportMaskElement()===t){n=this.carouselContainers[i];break}if(n||(n=new s.apv.CarouselContainer(t),this.carouselContainers.push(n)),n.isCarouselBlocking())return!0}}return!1}function i(e,t){var n=Math.pow(e.top-t.top,2),i=Math.pow(e.left-t.left,2);return Math.sqrt(i+n)}function r(e,t){for(var n,r=0;r<t.length;r++){var o=t[r];if(e.getKey()!=o.getKey()&&o.getState()!==f.APVStates.Blocked&&o.getState()!==f.APVStates.Disabled&&o.getState()!==f.APVStates.New&&(n=i(e.getPosition(),o.getPosition()),n<o.getBlockingDistance()))return oe.isPlacementsDebugEnabled()&&l.log("BlockingD: ID: "+o.getVideoData().getId()+" with URL: "+o.getVideoData().getArticleUrl()+" is blocking "+e.getVideoData().getArticleUrl()),e.getState()===f.APVStates.New?f.APVStates.Blocked:f.APVStates.Disabled}return f.APVStates.Active}s.services=s.services||{},s.services.BlockingDistance=s.services.BlockingDistance||{},s.services.BlockingDistance.BlockingDistanceService=e;var o=null;e.prototype.calculate=function(e,i){var a=e.sort(t),s=i.concat(e).sort(t);a.forEach(function(e){var t;e.getState()===f.APVStates.New&&(t=n(e)?f.APVStates.Blocked:e.getVideoData().isForcePlacement()?f.APVStates.Active:r(e,s),e.getState()!==t&&e.setState(t))}.bind(this)),o.draw(i.concat(e))}}(),function(){function e(){this.state=t.SCROLLED}var t={INIT:0,NOT_SCROLLED:1,SCROLLED:2},n=function(n){this.viewportMaskElement=n,this.mutationObserver=new MutationObserver(e.bind(this)),this.mutationObserver.observe(this.viewportMaskElement,{attributes:!0}),this.state=t.INIT};n.prototype.isCarouselBlocking=function(){return this.state===t.SCROLLED},n.prototype.getViewportMaskElement=function(){return this.viewportMaskElement},s.apv=s.apv||{},s.apv.CarouselContainer=n}(),function(){function e(e){return{create:function(e){return e.isPlacementsDebugEnabled()?new n:new t}}}function t(){return{draw:function(){}}}function n(){function e(){for(var e=0;e<2*Math.PI;e+=s)p["cos"+e]=Math.cos(e),p["sin"+e]=Math.sin(e)}function t(e,t){var n=t.getElementToReplace();e===f.APVStates.Blocked||e===f.APVStates.Disabled?(n.style.border="13px solid black",n.style.boxSizing="border-box",n.style.opacity=.2,l.log("BlockingD: "+t.getVideoData().getArticleUrl()+" is BLOCKED")):(n.style.border="0 solid black",n.style.boxSizing="border-box",n.style.opacity=1,l.log("BlockingD: "+t.getVideoData().getArticleUrl()+" is ACTIVE"))}function n(e){var t=2*Math.PI,n=document.createElement("div");n.className="minCircle";for(var r=0;t>r;r+=s){var o=e.getPosition().top+e.getBlockingDistance()*p["cos"+r],a=e.getPosition().left+e.getBlockingDistance()*p["sin"+r];n.appendChild(i(o,a,c,"green"))}return n}function i(e,t,n,i){var r=document.createElement("div");return r.className="minPoint",r.style.position="absolute",r.style.width=n+"px",r.style.height=n+"px",r.style.top=e+"px",r.style.left=t+"px",r.style.zIndex=1e7,r.style.backgroundColor=i,r.style.borderRadius="10px",r}function r(e){var t=e.getDebug()||document.createElement("div"),r=n(e),o=t.getElementsByClassName("minCircle"),a=!o||0===o.length;a||t.removeChild(o[0]),t.appendChild(r),a||t.removeChild(t.getElementsByClassName("minPoint")[0]);var s=e.getVideoData().isForcePlacement()?"gold":"red",c=i(e.getPosition().top,e.getPosition().left,6,s);t.appendChild(c),e.setDebug(t),l.log("Top: "+e.getPosition().top+", Left: "+e.getPosition().left)}function o(e){var n=!e.getDebug();switch(r(e),n&&u.insertBefore(e.getDebug(),u.childNodes[0]),e.getState()){case f.APVStates.Active:t(f.APVStates.Active,e);break;case f.APVStates.Blocked:case f.APVStates.Disabled:case f.APVStates.Disposed:e.getDebug().style.opacity=0,t(f.APVStates.Blocked,e)}}function a(e){e.forEach(function(e){o(e)})}var s=.02,c=3,u=oe.getWindowScrollElement()||document.body,p={};return e(),{draw:a}}s.services=s.services||{},s.services.BlockingDistance=s.services.BlockingDistance||{},s.services.BlockingDistance.DocumentRadiusPainterFactory=e}(),function(){function e(){}s.services=s.services||{},s.services.BlockingDistance=s.services.BlockingDistance||{},s.services.BlockingDistance.NotActivatedBlockingDistance=e,e.prototype.calculate=function(e){e.forEach(function(e){e.setState(f.APVStates.Active)})}}(),function(){function e(e,r,a,s){t=e,n=r,i=a,o=s}var t=null,n=null,i=null,o=null;s.services=s.services||{},s.services.inArticlePlacers=s.services.inArticlePlacers||{},s.services.inArticlePlacers.Base=e,s.services.inArticlePlacers.Placer=e,e.prototype.createInArticleApvWrapper=function(e){var t=new s.apv.APVInArticleWrapper(e);t.start(),l.log("APV IN ARTICLE Wrapper Created. VideoId: "+e.getVideoData().getId()+', selector: "'+e.getPlacement().getName()+'"')},e.prototype.init=function(){return!oe.isInArticleMobilePlacerActive()&&o.isMobile()?void l.log("in article is turned off in configuration for mobile"):oe.isInArticleDesktopPlacerActive()||o.isMobile()?void this.startAPVFactory():void l.log("in article is turned off in configuration for desktop")},e.prototype.startAPVFactory=function(){var e=this.getPlayersOnPage()||[];e instanceof NodeList&&(e=Array.prototype.slice.call(e));var t=Object.keys(e||{});if(0===t.length)return l.log("InArticlePlacer: no players were found on this page"),void this.listenToNewPlayerEvent();for(var n=i.createInArticle(),o=0;o<t.length;o++){var a=e[t[o]];if(!this.shouldPlayAPV(a))return;var s=this.getVideoData(a);if(!s||!s.hasAPV())return;var c=this.getElementToReplace(a,s);if(!c)return;var u=new r(s,n,c,f.Emitter.PRODUCT_IN_ARTICLE,oe.getInArticlePlacerCharmer());this.getManualClick()&&u.setManualClick(this.getManualClick()),u.setDomAdapter(this.getDomAdapter()),u.setPlayerInstance(a),this.createInArticleApvWrapper(u)}},e.prototype.listenToNewPlayerEvent=function(){},e.prototype.getPlayersOnPage=function(){throw new Error("Have to implement method that returns all players' instances")},e.prototype.getVideoData=function(){throw new Error("getVideoData is not implemented")},e.prototype.getElementToReplace=function(){throw new Error("getElementToReplace is not implemented")},e.prototype.getArticleUrlByPlayer=function(){return l.urls.getCurrentStructuredUrlWithoutOrigin()},e.prototype.getDomAdapter=function(){throw new Error("getDomAdapter is not implemented")},e.prototype.shouldPlayAPV=function(e){return!0},e.prototype.getManualClick=function(){return null}}(),function(){function e(t,r,o,a){n=t,i=a,e.__superCtor__.call(this,t,r,o,a),this._intervalWaitForDom=0,this.init()}function t(e,r,o,a){n=e,i=a,this.readyPlayers=[],t.__superCtor__.call(this,e,r,o,a),this.init()}var n=null,i=null,r=10,o="inner";-1==U.getWindowLocationHref().indexOf("player.performgroup.com")&&(o="outer"),"inner"==o?(l["extends"](e,s.services.inArticlePlacers.Base),s.services.inArticlePlacers.Placer=e):(l["extends"](t,s.services.inArticlePlacers.Base),s.services.inArticlePlacers.Placer=t),e.prototype.listenToNewPlayerEvent=function(){var e=this;0==this._intervalWaitForDom&&(l.log("IN ARTICLE: waiting for new player event"),e._intervalWaitForDom=setInterval(function(){null!=e.getPlayersOnPage()&&(clearInterval(e._intervalWaitForDom),e._intervalWaitForDom=0,e.startAPVFactory()),r--,0===r&&(clearInterval(e._intervalWaitForDom),e._intervalWaitForDom=0)},1e3))},e.prototype.createInArticleApvWrapper=function(t){e.__super__.createInArticleApvWrapper.call(this,t),ie.postToIframe(window.parent,"sporting_inner_video_id",{videoId:this._getVideoId(t.getPlayerInstance())})},e.prototype.getPlayersOnPage=function(){var e=document.querySelectorAll("div.playback[ng-controller]");return Array.prototype.slice.call(e).filter(function(e){try{var t=angular.element(e).scope();return t.appModel.config.features.autoPlay===!1}catch(n){return l.logWarning("invalid path to player autoplay\n",n),!1}})},e.prototype.getVideoData=function(e){var t=document.querySelector("html"),n=angular.element(t).scope(),i=n.appModel.customParams.location,r=this._getVideoId(e);return se.getVideoDataByVideoIdAndUrl(r,i)},e.prototype._getVideoId=function(e){var t=angular.element(e).scope(),n=this._getFilteredRelatedVideo(t);return n.length>0?n[0].videos[0].uuid:null},e.prototype._getFilteredRelatedVideo=function(e){function t(e){return"VIDEO"===e.source}try{return e.appModel.config.dataSource.sourceItems.filter(t)}catch(n){l.logWarning("invalid path to related video\n",n)}return[]},e.prototype.getElementToReplace=function(e){return e.querySelector("div.ppView")},e.prototype.getDomAdapter=function(){return s.apv.domAdapter.SportingNews},t.prototype.init=function(){t.__super__.init.call(this);var e=this;ie.addParentListenerBySubtype("sporting_inner_video_id",function(t){e.readyPlayers.push(t),e.startAPVFactory()})},t.prototype.getPlayersOnPage=function(){function e(e){return l.contains(e.src,"player.performgroup.com/eplayer")}function t(e){return l.contains(n,e.contentWindow)}var n=this.readyPlayers.map(function(e){return e.event.source});return J.getIframes().filter(e).filter(t)},t.prototype.getVideoData=function(e){var t=this.readyPlayers.filter(function(t){return t.event.source===e.contentWindow});if(t.length>0){var n=t[0];return se.getVideoDataByVideoIdAndUrl(n.videoId,window.location.href)}return null},t.prototype.getElementToReplace=function(e){return e},t.prototype.getDomAdapter=function(){return s.apv.domAdapter.SportingNews}}(),function(){function e(e){var t=s.apv.domAdapter;return re.isTestGroup()?new t.TestGroup:e.getMinuteLocation()===f.PlacementKeys.CHILD?new s.apv.domAdapter.AppendToElement:new s.apv.domAdapter.MimicInheritETRClasses}function t(e){return X.isUserAgentFacebook()?new s.apv.players.ApvGifPlayer:!X.isMobile()||oe.shouldEnableCharmer()&&e?new s.apv.players.ApvVideoPlayer:new s.apv.players.ApvGifPlayer}function n(e){return re.isTestGroup()?new s.apv.playmodes.TestGroup:X.isMobile()?i(e):r()}function i(e){var t=s.apv.playmodes,n=X.isSafari(),i=X.isChrome()&&X.isAndroid();return oe.shouldEnableCharmer()&&e.getIsCharmerActive()?n?new t.iOSCharmerViewport:i?new t.AndroidCharmerViewport:void 0:new t.MobileGif}function r(){var e=s.apv.playmodes;return new e.Viewport}function o(e){var t=s.apv.logos;return X.isMobile()?new t.LogoElmSpanSVG:e.getPlacement().getLogoType()?new t.LogoElmSpanSVG:new t.LogoElmSVG}function a(e){this.apvData=e,this.elementToReplace=e.getElementToReplace(),this.domAdapter=null,this.apvPlayer=null,this.minuteLogo=null,this.playmode=null,c=Ee,this._initElements()}var c,u=s.utils.DomFinder;s.apv=s.apv||{},s.apv.APVWrapper=a,a.prototype.getId=function(){return this.apvData.getKey()},a.prototype.getDomAdapter=function(){return this.domAdapter},a.prototype._addDomAdapterEvents=function(){c.register(this)},a.prototype.getViewportMaskElement=function(){var e=this.apvData.getPlacement().getViewportMaskSelector();if(e){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++){var i=t[n];if(i.contains(this.elementToReplace))return i}return l.logWarning("no mask element was found that contains the element to replace on placement name: "+this.placement.getName()),window}return window},a.prototype.getViewportObserver=function(){var e=this.apvData.getPlacement().getViewportObserverSelector();if(e){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++){var i=t[n];if(i.contains(this.elementToReplace))return i}l.logWarning("no observer element was found that contains the element to replace on placement name: "+this.apvData.getPlacement().getName())}return null},a.prototype._initElements=function(){return this.apvPlayer=t(this.apvData.getIsCharmerActive()),this.apvPlayer.init(this.apvData),this.apvData.setApvPlayer(this.apvPlayer),this.minuteLogo=o(this.apvData),this.minuteLogo.init(this.apvData.getPlacement()),this.apvData.setMinuteLogo(this.minuteLogo),this.apvData.setViewportMaskElement(this.getViewportMaskElement()),this.apvData.setViewportObserver(this.getViewportObserver()),this.domAdapter=e(this.apvData.getPlacement()),this.domAdapter?(this._addDomAdapterEvents(),this.domAdapter.init(this.apvData),this.apvData.setDomAdapter(this.domAdapter),this.playmode=n(this.apvData),this.playmode.setDomAdapter(this.apvData),void u.setElementAsReplaced(this.elementToReplace)):(l.log("No DomAdapter found."),null)},a.prototype.start=function(){this.playmode.start()},a.prototype.setState=function(e){this.domAdapter.setState(e)},a.prototype.getVideoData=function(){return this.apvData.getVideoData()},a.prototype.getApvData=function(){return this.apvData}}(),function(){function e(e){return re.isTestGroup()?"InterFrames"===e.__superCtor__.name?s.apv.domAdapter.testGroupInterFrames():new s.apv.domAdapter.TestGroup:new e}function t(e){return X.isUserAgentFacebook()?new s.apv.players.ApvGifPlayer:!X.isMobile()||oe.shouldEnableCharmer()&&e?new s.apv.players.ApvVideoPlayer:new s.apv.players.ApvGifPlayer}function n(){return re.isTestGroup()?new s.apv.playmodes.TestGroup:X.isMobile()?i():r()}function i(){var e=s.apv.playmodes,t=X.isSafari(),n=X.isChrome()&&X.isAndroid();return oe.shouldEnableCharmer()?t?new e.iOSCharmerInArticle:n?new e.AndroidCharmerInArticle:void 0:new e.InArticleMobile}function r(){var e=s.apv.playmodes;return new e.Viewport}function o(){var e=s.apv.logos;return new e.LogoElmSpanSVG}function a(e){a.__superCtor__.call(this,e)}var c=s.utils.DomFinder;l["extends"](a,s.apv.APVWrapper),s.apv=s.apv||{},s.apv.APVInArticleWrapper=a,a.prototype._initElements=function(){return this.apvPlayer=t(this.apvData.getIsCharmerActive()),this.apvPlayer.init(this.apvData),this.apvData.setApvPlayer(this.apvPlayer),this.minuteLogo=o(),this.minuteLogo.init(this.apvData.getPlacement()),this.apvData.setMinuteLogo(this.minuteLogo),this.domAdapter=e(this.apvData.getDomAdapter()),this.domAdapter?(this._addDomAdapterEvents(),this.domAdapter.init(this.apvData),this.apvData.setDomAdapter(this.domAdapter),this.playmode=n(),this.playmode.setDomAdapter(this.apvData),void c.setElementAsReplaced(this.elementToReplace)):(l.log("No DomAdapter found."),null)}}(),function(){function t(e){this.blockingDistanceService=_e.create(e),this._apvWrapperHash={},this._apvWrapperNotCreatedHash={},this._apvDataList=[],this._lazyWatcherHash={},this._numOfFoundApvs=0,this._htmlReport=null,this._firstRun=!0,this._apvsOnPage=0,this.findReplaceableElementsAndPlaceVideos(),this.startEagerInterval(),this.setLoadMoreObserver(),h.addEventListener(f.Events.VIDEOS_UPDATE,this.handleVideosUpdate.bind(this))}s.services=s.services||{},s.services.PlacementService=t,t.prototype.startEagerInterval=function(){var e=this,t=oe.getEagerApvCount(),n=oe.getEagerApvInterval();this.eagerInterval=setInterval(function(){return 0===t||e._numOfFoundApvs>0?(clearInterval(e.eagerInterval),setInterval(e.findReplaceableElementsAndPlaceVideos.bind(e),oe.getPlacementDomRefresh()),void e.sendFirstApvEvent()):(t--,void e.findReplaceableElementsAndPlaceVideos())},n)},t.prototype.setLoadMoreObserver=function(){var e=oe.getLoadMoreObservers();if(0!=e.length){var t=e.join(),n=document.querySelectorAll(t);n.length>10&&l.log("Load More Observer: more than 10 results are caught, refine the 'loadmoreObserver' config");for(var i=new s.utils.Debounce(200,this.findReplaceableElementsAndPlaceVideos,this),r=0;r<n.length;r++){var o=n[r],a=new MutationObserver(function(){i.start()}),c={childList:!0};a.observe(o,c)}}},t.prototype.handleVideosUpdate=function(){this.findReplaceableElementsAndPlaceVideos()},t.prototype.findReplaceableElementsAndPlaceVideos=function(){var e=this,t=ye.getNewApvData();this.blockingDistanceService.calculate(t,this._apvDataList),t.forEach(function(t){e._lazyWatcherHash[t.getKey()]||e._apvWrapperNotCreatedHash[t.getKey()]||t.getState()!==f.APVStates.Blocked&&t.getState()!==f.APVStates.Disabled&&(re.isTestGroup()?e.createApvWrapper(t):l.isElementLazyLoad(t)?e.createLazyWatcher(t):e.createApvWrapper(t))}),this.reportCounters()},t.prototype.sendFirstApvEvent=function(){this._firstRun&&(this._firstRun=!1,h.dispatchEvent(f.Events.FIRST_APV_CREATED))},t.prototype.createLazyWatcher=function(e){var t=new s.apv.LazyLoadWatcher(e);e.setWatcher(t),t.addListener(this.handleLazyLoadWatcher,this),this._lazyWatcherHash[e.getKey()]=e,l.log("Lazy Load Watcher Created. VideoId: "+e.getVideoData().getId()+', selector: "'+e.getPlacement().getName()+'"')},t.prototype.deleteLazyWatcher=function(e){var t=e.getWatcher();t.dispose(),e.removeWatcher(),this._lazyWatcherHash[e.getKey()]=null,delete this._lazyWatcherHash[e.getKey()]},t.prototype.createApvWrapper=function(e){if(this._apvsOnPage++>=oe.getMaxApvsPerPage())return this._apvWrapperNotCreatedHash[e.getKey()]=!0,void l.log("Blocked APV creation. number of APVs on page exceeds limit. Max="+oe.getMaxApvsPerPage());var t=new s.apv.APVWrapper(e);t.start(),this._apvWrapperHash[e.getKey()]=t,this._apvDataList.push(e),l.log("APV Wrapper Created. VideoId: "+e.getVideoData().getId()+', selector: "'+e.getPlacement().getName()+'"')},t.prototype.handleLazyLoadWatcher=function(e){this.createApvWrapper(e),this.deleteLazyWatcher(e)},t.prototype.reportCounters=function(){var t=e._report||{APVs:-1,Watchers:-1};e._report={APVs:Object.keys(this._apvWrapperHash).length,NotCreated:Object.keys(this._apvWrapperNotCreatedHash).length,Watchers:Object.keys(this._lazyWatcherHash).length},(t.Watchers!==e._report.Watchers||t.NotCreated!==e._report.NotCreated||t.APVs!==e._report.APVs)&&document.body&&document.body.appendChild&&(this._numOfFoundApvs=e._report.Watchers+e._report.NotCreated+e._report.APVs,l.log("Total APVs: "+e._report.APVs+", Total APVs not created: "+e._report.NotCreated+", Total APVs Watchers: "+e._report.Watchers),this._htmlReport||(this._htmlReport=document.createElement("div"),this._htmlReport.setAttribute("id","minReport"),this._htmlReport.style.display="none",document.body.appendChild(this._htmlReport)),this._htmlReport.setAttribute("data-apvs",e._report.APVs),this._htmlReport.setAttribute("data-apvs-not-created",e._report.NotCreated),this._htmlReport.setAttribute("data-watchers",e._report.Watchers))}}(),function(){function e(){function e(e){var t=e.getSubType?e.getSubType():s.scrap.player.SubTypes.DEFAULT;n[e.getType()]=n[e.getType()]||{},n[e.getType()][t]=e}function t(e,t){return n[e]&&n[e][t||s.scrap.player.SubTypes.DEFAULT]}var n={};return{addItem:e,getItem:t}}s.scrap=s.scrap||{},s.scrap.utils=s.scrap.utils||{},s.scrap.player=s.scrap.player||{},s.scrap.driver=s.scrap.driver||{},s.scrap.plugin=s.scrap.plugin||{},s.scrap.utils.defineError=function(e,t,n){throw n=n?" "+n:"",new Error("Scraper "+(e?"'"+e.getName()+"' ":"")+"'"+t+"' Not Defined."+n)},s.scrap.PlayersNameEnum={OOYALA:"Ooyala",VideoJS:"VideoJS",AmpAbc:"AmpAbc",SportingNews:"SportingNews"};var t=s.scrap.ScrapEnum={DEBUG:Number.MAX_VALUE,OOYALA:2,VideoJS:13,AMP_ABC:16,SportingNews:21};s.scrap.ScrapEnumAll=[t.DEBUG,t.OOYALA,t.VideoJS,t.AMP_ABC,t.SportingNews];var n=s.scrap.ScrapPlugin={VIDEO_VIEW:1,PLAYER_COVERAGE:2,VISUAL_CLICKS:3,SCRAPER_SENDER:4,PLAYER_CONTENT_CHANGED:5,OPTIMIZELY:6};s.scrap.ScrapPluginAll=[n.SCRAPER_SENDER,n.PLAYER_CONTENT_CHANGED,n.VIDEO_VIEW,n.PLAYER_COVERAGE,n.VISUAL_CLICKS,n.OPTIMIZELY],s.scrap.player.SubTypes={DEFAULT:"default"},s.scrap.driver={},s.scrap.driver.PlayerAction={NONE:"none",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",ENDED:"ended",SEEK_START:"seekStart",SEEK_END:"seekEnd",VOLUME_CHANGE:"volume",MUTE_CHANGE:"mute",FULLSCREEN:"fullscreen",NEW_VIDEO:"newVideo",REPLAY:"replay",FOCUS:"focus"},s.scrap.utils={},s.scrap.utils.roundValue=function(e){return Math.round(1e3*e)/1e3},s.scrap.consts={VOLUME_EMPTY:-2,TIME_EMPTY:-1},s.scrap.factory=function(){var t=new e,n=new e,i=new e;return{addPlugin:i.addItem,getPlugin:i.getItem,addPlayer:t.addItem,getPlayer:t.getItem,addDriver:n.addItem,getDriver:n.getItem}}()}(),function(){function e(){}var t=s.scrap.utils.defineError;e.shouldRun=function(){return!0},e.prototype.getType=function(){t(null,"getType")},e.prototype.setPlayerCollection=function(e){},e.prototype.addDriver=function(e){},s.scrap.plugin.Base=e}(),function(){function e(){e.__superCtor__.call(this),this._driverList=[],this._isEnabled=!0}l["extends"](e,s.scrap.plugin.Base),e.getType=function(){return s.scrap.ScrapPlugin.OPTIMIZELY},e.prototype.getType=function(){return e.getType()},e.prototype.addDriver=function(e){this._isEnabled&&(this._driverList.push(e),e.onVideoView().add(this.handleVideoView,this))},e.prototype.handleVideoView=function(e){function t(){re.isTestGroup()?l.optimizely.trackEvent("first_video_view_test_ia"):l.optimizely.trackEvent("first_video_view_minute_ia"),n._isEnabled=!1,n._driverList.forEach(function(e){e.onVideoView().remove(n.handleVideoView,n)})}var n=this;oe.getOptimizely().vvFlag?t():e.hadImpression&&t()},s.scrap.plugin.Optimizely=e,s.scrap.factory.addPlugin(e)}(),function(){function t(){this._searchPlayerDebounce=new s.utils.Debounce(n,this.handlePlayerDebounce,this),this._hasFoundVideoInList=!1,this._hasVideoChangedEventSent=!1}var n=1e4;l["extends"](t,s.scrap.plugin.Base),t.getType=function(){return s.scrap.ScrapPlugin.PLAYER_CONTENT_CHANGED},t.shouldRun=function(){return oe.isScraperEnableContentChange()},t.prototype.getType=function(){return t.getType()},t.prototype.setPlayerCollection=function(e){e.onPlayerInstanceFound().add(this.handlePlayer_PlayerInstanceFound,this)},t.prototype.handlePlayer_PlayerInstanceFound=function(t){var n=se.getVideoDataByKey(t.url);return n&&e.debugParams[y.FORCE_CONTENT_CHANGED]?void this.sendContentChanged(n.getId(),!0):void(n&&this._searchPlayerDebounce&&(this._hasFoundVideoInList=this._hasFoundVideoInList||n.getPublisherVideoId()===t.videoId,this._searchPlayerDebounce.start(n.getId())))},t.prototype.handlePlayerDebounce=function(e){this._searchPlayerDebounce.kill(),this._searchPlayerDebounce=null,this._hasFoundVideoInList||this.sendContentChanged(e,!1)},t.prototype.sendContentChanged=function(e,t){if(!this._hasVideoChangedEventSent){this._hasVideoChangedEventSent=!0,l.logWarning("Video content changed. will send event 5. Is forced: "+!!t);var n={id:e};t&&(n.force=!0),Ae.send(f.Emitter.PLAYER_CONTENT_CHANGED_EVENT,n)}},s.scrap.plugin.PlayerContentChanged=t,s.scrap.factory.addPlugin(t)}(),function(){function t(){}l["extends"](t,s.scrap.plugin.Base),t.getType=function(){return s.scrap.ScrapPlugin.PLAYER_COVERAGE},t.prototype.getType=function(){return t.getType()},t.prototype.setPlayerCollection=function(e){e.onPlayerInstanceFound().addOnce(this.handlePlayer_PlayerInstanceFound,this)},t.prototype.handlePlayer_PlayerInstanceFound=function(t){var n={id:e._publisher,url:t.url,exist:this.isUrlExistInList(t.url)};Ae.send(f.Emitter.VIDEO_PRESENT,n)},t.prototype.isUrlExistInList=function(e){var t=l.urls.getStructuredByUrlWithoutOrigin(e);return!!se.getVideoDataByKey(t)},s.scrap.plugin.PlayerCoverage=t,s.scrap.factory.addPlugin(t)}(),function(){function e(){}l["extends"](e,s.scrap.plugin.Base),e.getType=function(){return s.scrap.ScrapPlugin.SCRAPER_SENDER},e.prototype.getType=function(){return e.getType()},e.prototype.setPlayerCollection=function(e){e.onPlayerInstanceFound().add(this.handlePlayer_PlayerInstanceFound,this)},e.prototype.handlePlayer_PlayerInstanceFound=function(e){var t=se.getVideoDataByKey(e.url);t||e.isLive||this.reportVideoPlayerContent(e)},e.prototype.reportVideoPlayerContent=function(e){s.scrap.shouldScrap(e)&&(!oe.getScraperDebug().immediateScraper&&l.scraperWouldHaveBeenBlocked()?Ae.send(f.Emitter.NEW_SCRAPE_EVENT,e.data):Ae.send(f.Emitter.NEW_VIDEO_EVENT,e.data))},s.scrap.plugin.ScraperSender=e,s.scrap.factory.addPlugin(e)}(),function(){function t(){t.__superCtor__.call(this),this._driverList=[]}l["extends"](t,s.scrap.plugin.Base),t.getType=function(){return s.scrap.ScrapPlugin.VIDEO_VIEW},t.prototype.getType=function(){return t.getType()},t.prototype.addDriver=function(e){this._driverList.push(e),e.onVideoView().add(this.handleVideoView,this)},t.prototype.handleVideoView=function(t){0===t.counter&&h.dispatchEvent(f.Events.PLAYER_PLAYING,{videoId:t.videoId});var n={url:t.url,vid:t.videoId,test_mode:re.getGroupCode(),group:ee.get(f.GROUP_42),comp:X.isBrowserSupported()?1:0,sub_test_group:re.isTestGroup()?!1:re.getSubTestGroup(),source:X.isMobile()?f.Emitter.ANALYTICS_SOURCE_WEB_MOBILE:f.Emitter.ANALYTICS_SOURCE_WEB_DESKTOP,publisher:e._publisher,hadImpression:t.hadImpression,hadImpressionSession:Ee.hadImpressionSession(t.videoId),counter:t.counter,script_time:m.getScriptTime(),config_time:m.getConfigTime()};Ae.send(f.Emitter.VIDEO_VIEWS,n),g.add(l.getTrackerTiming("Sent42:"+t.videoId))},s.scrap.plugin.VideoViews=t,s.scrap.factory.addPlugin(t)}(),function(){function e(){e.__superCtor__.call(this),this._driverList=[],this._clicks={}}l["extends"](e,s.scrap.plugin.Base),e.getType=function(){return s.scrap.ScrapPlugin.VISUAL_CLICKS},e.prototype.getType=function(){return e.getType()},e.prototype.addDriver=function(e){this._driverList.push(e),e.onVideoView().add(this.handleVideoView,this)},e.prototype.handleVideoView=function(e){if(0===e.counter){var t=Ee.hadImpression(e.videoId);if(t){var n=se.getVideoDataByVideoIdAndUrl(e.videoId,e.url);if(this._clicks[n.getId()]!==!0&&n&&n.isApvEnabled()){var i=he.getAnalyticPayloadWithVideoData(n,{type:f.Emitter.ANALYTICS_CLICK_EVENT,placementFunction:f.Placements.HOVER_IMPRESSION,uniq:!1,product:1,placement:"In Article"});this._clicks[n.getId()]=!0,le.log(i),le.sendLogsDueToInArticleClick()}}}},s.scrap.plugin.VirtualClicks=e,s.scrap.factory.addPlugin(e)}(),function(){function e(e){var t=e.index<oe.getScraperMaxFoundReport()&&(oe.isScraperEnableMobileReport()||oe.isScraperEnableDesktopReport());return t&&null!==e.videoId}s.scrap.shouldScrap=e}(),function(){function e(){this._onPlayerInstanceFound=new s.utils.Signal,this._onPlayerTypePresent=new s.utils.Signal,this._playerList=[],this._scraperCounter=0,this._scraperTimer=null}s.scrap.PlayersCollector=e,e.prototype.onPlayerInstanceFound=function(){return this._onPlayerInstanceFound},e.prototype.onPlayerTypePresent=function(){return this._onPlayerTypePresent},e.prototype.init=function(){this.initPlayers(),this.startTimer(),this.scrapPage(),h.addEventListener(f.Events.DomWindow.URL_CHANGE,this.handleWindowEvent_UrlChange,this)},e.prototype.initPlayers=function(){for(var e,t,n=0;n<s.scrap.ScrapEnumAll.length;n++)e=s.scrap.factory.getPlayer(s.scrap.ScrapEnumAll[n]),e&&(t=new e,t.onPlayerInstanceFound().add(this.handlePlayer_PlayerInstanceFound,this),t.onPlayerTypePresent().add(this.handlePlayer_PlayerTypePresent,this),this._playerList.push(t));0===this._playerList.length&&l.log("No scrapers found to initialize.")},e.prototype.handlePlayer_PlayerInstanceFound=function(e){e.index=this._scraperCounter,this._onPlayerInstanceFound.dispatch(e),this._scraperCounter++},e.prototype.handlePlayer_PlayerTypePresent=function(e){this._onPlayerTypePresent.dispatch(e)},e.prototype.startTimer=function(){this._scraperTimer=new s.utils.Timer(oe.getScraperInternal(),this.scrapPage,this),this._scraperTimer.setCounterLimit(oe.getScraperMaxCheckCount()),this._scraperTimer.start()},e.prototype.handleWindowEvent_UrlChange=function(){this._scraperTimer.reset(),this._scraperTimer.start(),this._scraperCounter=0,this.scrapPage()},e.prototype.scrapPage=function(){for(var e=0;e<this._playerList.length;e++){var t=this._playerList[e];t.scrap()}}}(),function(){function e(e){this._playersCollection=e,this._pluginHash=[],this._init()}s.scrap.PluginsCollector=e,e.prototype.addDriver=function(e){for(var t=0;t<this._pluginHash.length;t++){var n=this._pluginHash[t];n.addDriver(e)}},e.prototype._init=function(){for(var e=0;e<s.scrap.ScrapPluginAll.length;e++){var t=s.scrap.factory.getPlugin(s.scrap.ScrapPluginAll[e]);if(t)if(!t.shouldRun||t.shouldRun()){var n=new t;n.setPlayerCollection(this._playersCollection),this._pluginHash.push(n)}else l.logWarning("Plugin "+(t.name||t.getType())+" is not running.")}}}(),function(){function e(){e.__superCtor__.call(this),this._driverHash={},this._playersCollection=new s.scrap.PlayersCollector,this._playersCollection.onPlayerInstanceFound().add(this.handlePlayer_PlayerInstanceFound,this),this._playersCollection.init(),this._pluginsCollection=new s.scrap.PluginsCollector(this._playersCollection)}l["extends"](e,a),e.prototype.handlePlayer_PlayerInstanceFound=function(e){this._driverHash[e.playerId]||this.createScrapDriver(e)},e.prototype.createScrapDriver=function(e){var t=s.scrap.factory.getDriver(e.driverType,e.driverSubType);if(!t)return void l.logWarning("No scraper driver exist for player Type: "+e.driverType+", SubType: "+(e.driverSubType||s.scrap.player.SubTypes.DEFAULT));var n=se.getVideoDataByVideoIdAndUrl(e.videoId,e.url),i=new t;i.setVideoData(n),i.setScrapData(e),this._pluginsCollection.addDriver(i),this._driverHash[e.playerId]=i,i.init()},s.scrap.ScraperService=e}(),function(){function e(e){this._sessionId=l.generateUID(),this._apvId=e.getId(),this._minVidId=e.getVideoDBId(),this._queue=[],this._interactionId=0,this._debounce=new s.utils.Debounce(t,this.sendInteraction,this)}var t=2e3;s.scrap.InteractionCollector=e,e.prototype.log=function(e){this._queue.push(e),this._debounce.start()},e.prototype.sendInteraction=function(){0!==this._queue.length&&(Ae.send(f.Emitter.STATS_EVENT,{session_id:this._sessionId,interaction_id:this._interactionId,apv_id:this._apvId,min_vid_id:this._minVidId,events:this._queue}),l.log("*** Player Interaction: "+JSON.stringify(this._queue)),this._queue=[],this._interactionId++)}}(),function(){function e(e){this._collector=new s.scrap.InteractionCollector(e)}var t=s.scrap.utils.roundValue;s.scrap.EventsDataCollector=e,e.prototype.init=function(e,n,i,r){var o={};o.clientTimestamp=e,o.initVol=t(n),o.isMute=i?1:0,o.isAutoPlay=r?1:0,this._collector.log({init:o})},e.prototype.pause=function(e){var n={};n.second=t(e),this._collector.log({pause:n})},e.prototype.pauseDuration=function(e,n){var i={};i.second=t(e),i.duration=t(n),this._collector.log({pauseDuration:i})},e.prototype.play=function(e){var n={};n.second=t(e),this._collector.log({play:n})},e.prototype.watched=function(e,n){
var i={};n>1&&(i.second=t(e),i.duration=t(n),this._collector.log({watched:i}))},e.prototype.startBuffering=function(e){var n={};n.second=t(e),this._collector.log({buffer:n})},e.prototype.bufferDuration=function(e,n){var i={};i.second=t(e),i.duration=t(n),this._collector.log({bufferDuration:i})},e.prototype.seek=function(e,n){var i={};i.from=t(e),i.to=t(n),this._collector.log({seek:i})},e.prototype.fullscreen=function(e,n){var i={};i.second=t(e),i.status=n?1:0,this._collector.log({fullscreen:i})},e.prototype.mute=function(e,n){var i={};i.second=t(e),i.status=n?1:0,this._collector.log({mute:i})},e.prototype.volume=function(e,n,i){var r={};r.second=t(e),r.from=t(n),r.delta=t(i),this._collector.log({vol:r})},e.prototype.focus=function(e,n,i){var r={};r.second=t(e),r.status=n?1:0,r.isPlay=i?1:0,this._collector.log({focus:r})},e.prototype.replay=function(){this._collector.log({replay:{}})},e.prototype.ended=function(){this._collector.log({ended:{}})}}(),function(){function e(){return{status:a.NONE,volume:-1,isMuted:!1,playheadTime:-1,isFullscreen:!1,isFocused:!0}}function t(e){this._driver=e,this._eventCollector=new s.scrap.EventsDataCollector(e.getVideoData()),this._onEnd=new s.utils.Signal,this._isLastPlayed=!1,this._seekStart=r,this._viewsCounter=0,this._initDriverData=null}s.scrap=s.scrap||{};var n=500,i=5,r=-1,o=2,a=s.scrap.driver.PlayerAction;s.scrap.EventsAnalyser=t,t.prototype.onEnd=function(){return this._onEnd},t.prototype.init=function(){return this._driver.getPlayerStatus()===a.ERROR?void this._onEnd.dispatch():(this._stateCurrent=e(),this._stateLast=e(),this._stateSent=e(),this._stateCurrent.status=this._driver.getPlayerStatus(),this._stateSent.status=this._stateLast.status=this._stateCurrent.status,this._stateCurrent.playheadTime=this._driver.getPlayheadTime(),this._stateLast.playheadTime=this._stateCurrent.playheadTime,this._stateSent.playheadTime=s.scrap.consts.TIME_EMPTY,this._stateCurrent.isMuted=this._driver.getIsMuted(),this._stateSent.isMuted=this._stateCurrent.isMuted,this._stateCurrent.volume=this._driver.getVolume(),this._stateSent.volume=this._stateCurrent.volume,this._stateCurrent.isFocused=this._driver.getIsFocused(),this._stateSent.isFocused=this._stateCurrent.isFocused,this._volumeDebounce=s.utils.Debounce(n,this.handleVolumeUpdate,this),this._volumeTimeChanged=0,this._lastWatchReportTime=0,this._pauseStartDateTime=0,this._pauseStartPlayheadTime=0,this._bufferingStartDateTime=0,this._bufferingStartPlayheadTime=0,this._initDriverData=[l.getDateNow(),this._stateCurrent.volume,this._stateCurrent.isMuted,this._driver.getIsAutoStart()],this._driver.onPlayerAction().add(this.handlePlayerAction,this),void this._driver.onPlayerProgress().add(this.handlePlayerProgress,this))},t.prototype.dispose=function(){this._driver.onPlayerAction().remove(this.handlePlayerAction,this),this._driver.onPlayerProgress().remove(this.handlePlayerProgress,this),this._eventCollector=null,this._driver=null,this._onEnd.removeAll(),this._onEnd=null},t.prototype.handlePlayerAction=function(e,t){switch(e){case a.PLAYING:case a.BUFFERING:case a.PAUSED:case a.ENDED:this.sendEventCollectorInitData(),this._stateCurrent.status=e,this._process_Replay(),this._process_Watching(),this._process_Paused(),this._process_Buffer(),this._process_Ended(),this._process_LastPlayed();break;case a.ERROR:this._stateCurrent.status=a.ERROR,this._process_Error();break;case a.SEEK_START:this._process_SeekStart(t);break;case a.SEEK_END:this._process_SeekEnd(t);break;case a.VOLUME_CHANGE:this.handlePlayerAction_VolumeChanged(t);break;case a.MUTE_CHANGE:this.handlePlayerAction_MuteChanged(t);break;case a.FULLSCREEN:this._process_FullScreen(t);break;case a.NEW_VIDEO:this._viewsCounter+=1;break;case a.FOCUS:this._process_Focus(t)}(e===a.ENDED||this._viewsCounter>1)&&this._onEnd.dispatch()},t.prototype.handlePlayerProgress=function(e){this._stateCurrent.playheadTime=e,this._process_Watching()},t.prototype.handlePlayerAction_VolumeChanged=function(e){this._stateCurrent.volume=e,this._volumeTimeChanged=this._volumeTimeChanged||this._stateCurrent.playheadTime,this._volumeDebounce.start()},t.prototype.handlePlayerAction_MuteChanged=function(e){this._stateCurrent.isMuted=e,this._volumeTimeChanged=this._volumeTimeChanged||this._stateCurrent.playheadTime,this._volumeDebounce.start()},t.prototype.handleVolumeUpdate=function(){this._stateCurrent.volume!==this._stateSent.volume&&(this._eventCollector.volume(this._volumeTimeChanged,this._stateSent.volume,this._stateCurrent.volume-this._stateSent.volume),this._stateSent.volume=this._stateCurrent.volume),this._stateCurrent.isMuted!==this._stateSent.isMuted&&(this._eventCollector.mute(this._volumeTimeChanged,this._stateCurrent.isMuted),this._stateSent.isMuted=this._stateCurrent.isMuted),this._volumeTimeChanged=0},t.prototype._process_LastPlayed=function(){switch(this._stateCurrent.status){case a.PLAYING:this._isLastPlayed=!0;break;case a.ENDED:case a.PAUSED:this._isLastPlayed=!1}},t.prototype._process_Watching=function(){var e=Math.abs(this._stateCurrent.playheadTime-this._lastWatchReportTime);(e>i||this._stateCurrent.status===a.ENDED)&&this._sendWatchReport()},t.prototype._process_Paused=function(){if(this._isLastPlayed&&this._stateCurrent.status===a.PAUSED)this._eventCollector.pause(this._stateCurrent.playheadTime),this._sendWatchReport(),this._stateLast.status=a.PAUSED,this._pauseStartDateTime=l.getDateNow(),this._pauseStartPlayheadTime=this._stateCurrent.playheadTime,this._stateSent.status=this._stateLast.status=this._stateCurrent.status;else if(!this._isLastPlayed&&this._pauseStartDateTime>0){var e=l.timestampDiffInSec(l.getDateNow(),this._pauseStartDateTime);this._pauseStartDateTime=0,e>1&&this._eventCollector.pauseDuration(this._pauseStartPlayheadTime,e)}},t.prototype._process_Buffer=function(){this._stateLast.status!==a.BUFFERING&&this._stateCurrent.status===a.BUFFERING?(this._eventCollector.startBuffering(this._stateCurrent.playheadTime),this._sendWatchReport(),this._stateSent.status=this._stateLast.status=this._stateCurrent.status,this._bufferingStartDateTime=l.getDateNow(),this._bufferingStartPlayheadTime=this._stateCurrent.playheadTime):this._stateCurrent.status!==a.BUFFERING&&this._bufferingStartDateTime>0&&(this._eventCollector.bufferDuration(this._bufferingStartPlayheadTime,l.timestampDiffInSec(l.getDateNow(),this._bufferingStartDateTime)),this._bufferingStartDateTime=0)},t.prototype._process_Ended=function(){this._stateCurrent.status===a.ENDED&&(this._sendWatchReport(),this._eventCollector.ended(),this._stateSent.status=this._stateLast.status=this._stateCurrent.status)},t.prototype._process_Replay=function(){this._stateLast.status===a.ENDED&&this._stateCurrent.status!==a.ENDED&&(this._eventCollector.replay(),this._stateSent.status=this._stateLast.status=this._stateCurrent.status,this._lastWatchReportTime=0,this._stateCurrent.playheadTime=0)},t.prototype._process_Error=function(){this._onEnd.dispatch()},t.prototype._process_SeekStart=function(e){this._seekStart=e},t.prototype._process_SeekEnd=function(e){if(this._seekStart!==r){var t=Math.abs(e-this._seekStart);if(o>t)return void(this._seekStart=r);this._eventCollector.seek(this._seekStart,e),this._eventCollector.watched(this._lastWatchReportTime,Math.abs(this._seekStart-this._lastWatchReportTime)),this._stateLast.playheadTime=this._stateCurrent.playheadTime=this._lastWatchReportTime=e,this._seekStart=r}},t.prototype._process_FullScreen=function(e){this._stateCurrent.isFullscreen=e,this._stateSent.isFullscreen!==e&&(this._eventCollector.fullscreen(this._stateCurrent.playheadTime,e),this._stateSent.isFullscreen=e)},t.prototype._process_Focus=function(e){if(this._stateCurrent.isFocused=e,this._stateCurrent.status!==a.NONE&&this._stateLast.isFocused!==e){var t=this._stateCurrent.status!==a.ENDED;t&&!this._stateLast.isFullscreen&&this._eventCollector.focus(this._stateCurrent.playheadTime,e,this._stateCurrent.status===a.PLAYING),this._stateLast.isFocused=e}},t.prototype.sendEventCollectorInitData=function(){this._initDriverData&&(this._eventCollector.init.apply(this._eventCollector,this._initDriverData),this._initDriverData=null)},t.prototype._sendWatchReport=function(){this._eventCollector.watched(this._lastWatchReportTime,Math.abs(this._stateCurrent.playheadTime-this._lastWatchReportTime)),this._stateLast.playheadTime=this._lastWatchReportTime=this._stateCurrent.playheadTime}}(),function(){function e(e,t){throw new Error("Scraper Player "+(e?"'"+e.getName()+"' ":"")+"'"+t+"' Not Defined.")}function t(){this._state=0,this._onPlayerInstanceFound=new s.utils.Signal,this._onPlayerTypePresent=new s.utils.Signal,this._configPlayer=oe.getScraperPlayerById(this.getType()),this._foundList={},this._isPlayerFoundSent=!1,this._validateImplementation(),this._validatePlayerConfig(),this._setStateIdle()}var n=/[^\d\w\s\-?!]/g,i=s.scrap.player.EState={IDLE:1,SEARCHING:2,FOUND:3};t.prototype.getType=function(){e(null,"getType")},t.prototype.getName=function(){e(null,"getName")},t.prototype._validateImplementation=function(){this.getType(),this.getName()},t.prototype._validatePlayerConfig=function(){},t.prototype.onPlayerInstanceFound=function(){return this._onPlayerInstanceFound},t.prototype.onPlayerTypePresent=function(){return this._onPlayerTypePresent},t.prototype.isIdle=function(){return this._state===i.IDLE},t.prototype.scrap=function(){this.isIdle()&&(this._state=i.SEARCHING,setTimeout(this._scrap.bind(this),0))},t.prototype._scrap=function(){},t.prototype._sendPlayerTypePresent=function(){this._isPlayerFoundSent||(this._isPlayerFoundSent=!0,this._onPlayerTypePresent.dispatch(this._collectPlayerTypePresentData()))},t.prototype._collectVideoData=function(e,t){var i={},r={};return i.data=r,r.duration=0,r.version=this.getName(),r.video_id=this._getVideoId(e),r.stream=r.video_id,r.url=this._getPlayerUrl(),r.title=(this._getVideoTitle(e)||"").replace(n,""),r.publisher=oe.getPublisherId(),r.player_id=this.getType(),i.index=-1,i.driverType=this.getType(),i.driverSubType=this._getPlayerSubType(e),i.videoId=r.video_id,i.playerId=this._getPlayerId(e)||i.videoId,i.url=r.url,i.playerJS=e,i.playerHtmlElement=t,i.playerConfig=this._configPlayer,i.isLive=this._getIsLive(e,t),i},t.prototype._collectPlayerTypePresentData=function(){var e={url:this._getPlayerUrl()};return e},t.prototype._setStateIdle=function(){this._state=i.IDLE},t.prototype._sendPlayerInstanceFound=function(e){this._onPlayerInstanceFound.dispatch(e)},t.prototype._addPlayerInstanceFound=function(e){return this._foundList[e]=!0},t.prototype._hasPlayerInstanceFound=function(e){return this._foundList.hasOwnProperty(e)},t.prototype._getVideoId=function(t){e(this,"_getVideoId")},t.prototype._getVideoTitle=function(e){return document.title},t.prototype._getIsLive=function(e,t){return!1},t.prototype._getPlayerId=function(e){return""},t.prototype._getPlayerSubType=function(e){return this._configPlayer.subType&&s.scrap.player.SubTypes[this._configPlayer.subType]||""},t.prototype._getPlayerUrl=function(){return l.urls.getCurrentStructuredUrl()},s.scrap.player.Base=t}(),function(){function e(){this._videoData=null,this._scrapData=null,this._onPlayerAction=new s.utils.Signal,this._onPlayerProgress=new s.utils.Signal,this._onVideoView=new s.utils.Signal,this._analyser=null,this._progressTimer=null,this._viewsCounter=0,this._hadImpression=!1,this._handleFocusInEvent=null,this._handleFocusOutEvent=null}var t=s.scrap.utils.defineError,n=s.scrap.driver.PlayerAction,i=!1;e.prototype.getType=function(){t(null,"getType")},e.prototype.getSubType=function(){return s.scrap.player.SubTypes.DEFAULT},e.prototype.getName=function(){t(null,"getName")},e.prototype.setVideoData=function(e){this._videoData=e},e.prototype.getVideoData=function(){return this._videoData},e.prototype.setScrapData=function(e){this._scrapData=e},e.prototype.onPlayerAction=function(){return this._onPlayerAction},e.prototype.onPlayerProgress=function(){return this._onPlayerProgress},e.prototype.onVideoView=function(){return this._onVideoView},e.prototype.sendPlayerActionEvent=function(e,t){this._onPlayerAction.dispatch(e,t)},e.prototype.sendPlayerProgressEvent=function(e){this._onPlayerProgress.dispatch(e)},e.prototype.reportVideoView=function(){this.sendPlayerActionEvent(n.NEW_VIDEO);var e=this.getCurrentVideoId();!this._hadImpression&&Ee.hadImpression(e)&&(this._hadImpression=!0);var t={driverType:this.getType(),counter:this._viewsCounter,url:this._scrapData.data.url,videoId:e,hadImpression:this._hadImpression};this._viewsCounter+=1,this.sendVideoViewEvent(t)},e.prototype.sendVideoViewEvent=function(e){this._onVideoView.dispatch(e)},e.prototype.init=function(){this._videoData=this._videoData||se.generateVideoData(this._scrapData.id),!i&&this._videoData.getDoesCollect()?(this._analyser=new s.scrap.EventsAnalyser(this),this._analyser.onEnd().add(this.handleAnalyserEnded,this),this._analyser.init(),this.startListenWindowFocusEvent(),this.sendCurrentFocusState(),i=!0):l.log("Not collection video events: "+this._videoData.getId())},e.prototype.dispose=function(){this._videoData=null,this._scrapData=null,this._onPlayerAction.removeAll(),this._onPlayerAction=null,this._onPlayerProgress.removeAll(),this._onPlayerProgress=null,this._onVideoView.removeAll(),this._onVideoView=null,this.stopListenWindowFocusEvent(),this._analyser&&(this._analyser.dispose(),this._analyser=null)},e.prototype.getPlayerStatus=function(){t(this,"getPlayerStatus")},e.prototype.getPlayheadTime=function(){t(this,"getPlayheadTime")},e.prototype.getIsMuted=function(){t(this,"getIsMuted")},e.prototype.getVolume=function(){t(this,"getVolume")},e.prototype.getIsFullscreen=function(){t(this,"getIsFullscreen")},e.prototype.getIsFocused=function(){return document.hasFocus()},e.prototype.getIsAutoStart=function(){return!X.isMobile()},e.prototype.getCurrentVideoId=function(){t(this,"getCurrentVideoId")},e.prototype.startProgressTimer=function(){this._progressTimer||(this._progressTimer=new s.utils.Timer(oe.getScraperEventsInternal(),this.handleProgressTimerEvent,this)),this._progressTimer.start(),this.handleProgressTimerEvent()},e.prototype.stopProgressTimer=function(){this._progressTimer&&this._progressTimer.stop()},e.prototype.handleProgressTimerEvent=function(){t(this,"handleProgressTimerEvent","You use progress timer without override this function.")},e.prototype.startListenWindowFocusEvent=function(){this._handleFocusInEvent||(this._handleFocusInEvent=this.handleFocusInEvent.bind(this),this._handleFocusOutEvent=this.handleFocusOutEvent.bind(this),window.addEventListener?(window.addEventListener("focus",this._handleFocusInEvent,!1),window.addEventListener("blur",this._handleFocusOutEvent,!1)):window.attachEvent&&(window.attachEvent("focus",this._handleFocusInEvent),window.attachEvent("blur",this._handleFocusOutEvent)))},e.prototype.stopListenWindowFocusEvent=function(){this._handleFocusInEvent&&(window.removeEventListener?(window.removeEventListener("focus",this._handleFocusInEvent,!1),window.removeEventListener("blur",this._handleFocusOutEvent,!1)):window.detachEvent&&(window.detachEvent("focus",this._handleFocusInEvent),window.detachEvent("blur",this._handleFocusOutEvent)),this._handleFocusInEvent=null,this._handleFocusOutEvent=null)},e.prototype.handleFocusInEvent=function(e){this.sendPlayerActionEvent(n.FOCUS,!0)},e.prototype.handleFocusOutEvent=function(e){this.sendPlayerActionEvent(n.FOCUS,!1)},e.prototype.sendCurrentFocusState=function(){this.sendPlayerActionEvent(n.FOCUS,document.hasFocus())},e.prototype.handleAnalyserEnded=function(){this._analyser.dispose(),this._analyser=null},s.scrap.driver.Base=e}(),function(){function e(){e.__superCtor__.call(this),this._playerPageUrl=null,this._playerVisibleState=n.UNKNOWN;var i=this;J.isIframe()&&ie.addParentListenerBySubtype(t,function(e){i._playerVisibleState=e.isHidden?n.HIDDEN:n.VISIBLE})}var t="responseIsPlayerHidden",n={UNKNOWN:0,VISIBLE:1,HIDDEN:2};l["extends"](e,s.scrap.player.Base),e.getType=function(){return s.scrap.ScrapEnum.SportingNews},e.prototype.getType=function(){return e.getType()},e.prototype.getName=function(){return s.scrap.PlayersNameEnum.SportingNews},e.prototype._scrap=function(){J.isIframe()?this._scrapInIframe():this._scrapInPage()},e.prototype._scrapInIframe=function(){function e(){if("angular"in window&&null!==t){var e=angular.element(t).scope(),n=i._getVideoId(e);l.log("player has "+(null!==n?n.toString():"no")+" related video!"),i._playerPageUrl=e.appModel.customParams.location,i._sendPlayerTypePresent(),i._sendPlayerInstanceFound(i._collectVideoData(e,t))}else i._setStateIdle()}var t=document.querySelector("[ng-controller='PlaybackController']"),i=this;switch(this._playerVisibleState){case n.UNKNOWN:l.log("waiting for visibility response from parent..."),this._setStateIdle();break;case n.HIDDEN:l.log("player is hidden!");break;case n.VISIBLE:l.log("player is visible!"),e()}},e.prototype._scrapInPage=function(){J.getIframes().filter(function(e){return l.contains(e.src,"player.performgroup.com/eplayer")}).forEach(function(e){ie.postToIframe(e.contentWindow,t,{isHidden:"none"===window.getComputedStyle(e).display})}),this._setStateIdle()},e.prototype._getPlayerUrl=function(){return l.urls.getStructuredByUrl(this._playerPageUrl)},e.prototype._getVideoId=function(e){var t=this._getRelatedVideo(e);return null!==t?t.uuid:null},e.prototype._getVideoTitle=function(e){var t=this._getRelatedVideo(e);return null!==t?t.title:void 0},e.prototype._getFilteredRelatedVideo=function(e){function t(e){return"VIDEO"===e.source}try{return e.appModel.config.dataSource.sourceItems.filter(t)}catch(n){l.logWarning("invalid path to related video\n",n)}return[]},e.prototype._getRelatedVideo=function(e){var t=this._getFilteredRelatedVideo(e),n=t?t.length:0;return n>1&&l.logWarning("multiple related video found for SportingNews player"),n>0?t[0].videos[0]:null},e.prototype._getIsLive=function(e){return!1},s.scrap.player.SportingNews=e,s.scrap.factory.addPlayer(e)}(),function(){function e(){e.__superCtor__.call(this),this._currentVideoId=null,this._isNewVideo=null,this._lastVideoChangeAt=l.getDateNow()}var t=s.scrap.driver.PlayerAction,n=500;l["extends"](e,s.scrap.driver.Base),e.getType=function(){return s.scrap.ScrapEnum.SportingNews},e.prototype.getType=function(){return e.getType()},e.prototype.getName=function(){return s.scrap.PlayersNameEnum.SportingNews},e.prototype.init=function(){e.__super__.init.call(this),this.registerPlayerJsEvents()},e.prototype.getPlayerStatus=function(){return this._playerState},e.prototype.getPlayheadTime=function(){var e=this._scrapData.playerJS;return e.spieler.currentTime},e.prototype.getIsMuted=function(){var e=this._scrapData.playerJS;return e.spieler.volume<=0},e.prototype.getVolume=function(){var e=this._scrapData.playerJS;return e.spieler.volume},e.prototype.getIsFullscreen=function(){return this._isFullscreen},e.prototype.getIsAutoStart=function(){return!1},e.prototype.registerPlayerJsEvents=function(){var e=this,i=this._scrapData.playerJS;i.$on("fullscreenenter",function(){e._isFullscreen=!0}),i.$on("fullscreenexit",function(){e._isFullscreen=!1}),i.$on("videochanged",function(t,i){var r=l.getDateNow();r-e._lastVideoChangeAt>n&&(e._currentVideoId=i.uuid,e._isNewVideo=!0,e._lastVideoChangeAt=r)}),i.$on("video_start",function(){e._reportIfNewVideo()}),i.$watch("spieler.playing",function(t){t===!0&&e._reportIfNewVideo()}),i.$watch("appModel.errorCode",function(n){n&&e.sendPlayerActionEvent(t.ERROR)}),this._isNewVideo=!0;var r=i.playbackModel,o=r.currentVideoObject;o?(this._currentVideoId=o.uuid,(r.isContentPlaying||r.isAdStarted||r.isPlaying||i.spieler.playing||r.currentTime>0)&&e._reportIfNewVideo()):i.appModel.errorCode?this.sendPlayerActionEvent(t.ERROR):l.logWarning("invalid path to current video")},e.prototype._reportIfNewVideo=function(){this._isNewVideo&&(this.reportVideoView(),this._isNewVideo=!1)},e.prototype.getCurrentVideoId=function(){return this._currentVideoId},s.scrap.driver.SportingNews=e,s.scrap.factory.addDriver(e)}(),l.debugParamsOverrides();var q=null,J=new C,Q=new b,Z=new T(Q),$=new A,X=new O(l,navigator,$),ee=new w(l,Z),te=new t(l,Z,f.Urls),ne=new x(l,Z,ee),ie=new L(l,window,J.isIframe(),J.getIframeWindows()),re=new W(l,window,ee,ie,h,e.debugParams[y.FORCE_TEST]),oe=new V(e,l,re),ae=new R(l,oe,X),se=new N(l,oe,X,ae),le=new i(l,Z,te),ce=new k(l,oe),ue=new B(l.sendLoggerReport,Z),pe=new B(l.sendErrorReport,Z),de=new M(l,ce,X),he=new H(l,re,X,oe,te,ne),ge=new Y(l,te,re,ee,X,se,he),ve=new D(oe,X,l,document,o),fe=new F(X),me=new n,ye=new s.services.VideoGenerator(oe),Ee=null,_e=new s.services.BlockingDistance.Factory(oe),Pe=null,Ae=new P,Se=parseInt("1");l.checkPotentialScraperUrls(),c.utils=c.utils||{};var Ie=function(){function t(){return l.globalTasks.listenToWindowErrors(),l.log(e.debugParams),q=K.create(l,Z,window.location),q.get(q.CONSTS.DISABLE_VERSION)===e.ver?void l.log("disabled by feature flag"):e.debugParams[E.IS_PROCUTION]&&"true"==e.debugParams[y.DISABLE_PROD]?void l.log("Minute Production disabled by debug tool"):(console.log("Welcome to Minute "+e.ver+" "+e.debugParams[E.SCRIPT_HOSTNAME]),l.log("Getting configuration for publisher: "+e._publisher),l.urls.setReferrerUrl(),n(),C=P.bind(this),window.addEventListener("load",C),void h.addEventListener(f.Events.FIRST_APV_CREATED,I))}function n(){switch(M+=1,Se){case 1:fe.loadAll({onSuccess:o,onTimeout:i});break;case 2:fe.loadFirstArticle({onSuccess:o,onTimeout:i})}}function i(){m(),window.removeEventListener("load",C),M>O?l.logWarning("Configuration timeout "+M+", NO more tryout."):(l.log("Configuration timeout "+M+", trying again ..."),n())}function r(){H||(g=ue.get(oe.getTrackingFunnel()),v=pe.get(oe.getTrackingFunnel()),oe.getIsBlockerCheck()&&(g.forceFlush("BlockerCounter"),v.forceFlush("BlockerCounter")),g.add("Test:"+re.getGroupCode()),g.add("Mobile:"+(X.isMobile()?1:0)),J.isIframe()&&g.add("IFrame:1"),l.trackMinuteGenesis(),g.add(l.getTrackerTiming("ConfigLoaded")),g.add("Mobile:"+(X.isMobile()?1:0)),he.init(g,Ee),H=!0)}function o(t){l.log("Configuration loaded"),W=t,W.fallbackUsed=l.parseBool(W.fallbackUsed),X.init(W.config),ee.init(),ne.init(),oe.init(W.config,X,u,e.debugParams[y.DISABLE_SCRIPT],e.debugParams[y.ENABLE_BLOCKING_DISTANCE]),Ae.init(),Ee=me.create(),Ee.init(),ge.init(g,Ee);var n=$.compareStr(e.ver,oe.getMinimumVer())<0;return n?void l.log("minute blocked by minimum version"):(re.init(oe.getTestGroupSize(),J.isIframe()),U.init(),ie.broadcast(re.isTestGroup(),re.getSubTestGroup()),J.isIframe()||ie.addParentListener(function(e){r(),e.funnelData&&(l.log("Got tracker data"),g.add(l.getTrackerTiming(e.funnelData)))}),!J.isIframe()||re.isReady()&&U.isReady()?(r(),_(),P()):(h.addEventListenerOnce(f.Events.TEST_MODE_READY,a),h.addEventListenerOnce(f.Events.WINDOW_SERVICE_READY,c)),void ie.listen())}function a(){l.log("testGroupService.isTest = "+re.isTestGroup()+" "+window.location.origin),p()}function c(){l.log("Plugin Top Window URL = "+U.getWindowLocationHref()),l.debugParamsOverrides(!0),p()}function p(){re.isReady()&&U.isReady()&&(r(),_(),P())}function d(){m(),F=setTimeout(function(){B=!0,l.log("Minute window load start after timeout."),P()}.bind(this),oe.getWindowLoadTimeout())}function m(){F&&clearTimeout(F),F=0}function _(){if(!x){if(z.sendUrlReport(),l.hasVideoViewEnabled()&&(k=new s.videoViews.VideoViewManager),!X.isBrowserSupported())return l.log("Minute is not supported "+e.ver+" "+e.debugParams[E.SCRIPT_HOSTNAME]),g.add("NoBrowser"),l.sendLoggerReport("ver="+e.ver+"&pid="+e._publisher+"&incompatibility=Browser"),m(),void b();if(!Z.getLocalStorageInstance())return l.log("Local Storage and Session Storage are not supported. Disable Minute."),g.forceFlush("Storage:No"),Z.isLocalStorageEnable||Z.isSessionStorageEnable||Q.isCookiesEnable||l.sendLoggerReport("ver="+e.ver+"&pid="+e._publisher+"&incompatibility=NoStorage"),m(),void b();Z.isLocalStorageEnable?g.add("Storage:Local"):Z.isSessionStorageEnable?g.add("Storage:Session"):Q.isCookiesEnable&&g.add("Storage:Cookies"),l.log("** PlayMode is set to: "+oe.getDefaultPlayMode()),g.add("Visit"),se.init(W),le.init(g),G.sendDelayedClicks(),de.init(oe),l.validateScraperURL(),x=!0}}function P(){var e=A();e?(g.add("Start"),T(),w()):S()===!1&&d()}function A(){if(!x)return!1;if(!oe.isReady())return l.log("Configuration did not load yet."),!1;if(se.getVideosCount()||2===Se||l.log("no videos found in configuration"),S()===!1)return l.log("Minute wait for window load."),!1;m();var t=l.parseBool(q.get(q.CONSTS.FORCE_ENABLE));return!t&&"true"!==e.debugParams[y.FORCE_ENABLE]&&oe.isDisableScript()?(l.log("Minute disable by configuration."),!1):(window.removeEventListener("load",C),!0)}function S(){return"complete"===document.readyState||"true"==e.debugParams[y.BYPASS_WINDOW_LOAD]||B}function I(){h.removeEventListener(f.Events.FIRST_APV_CREATED,I),g.add("Scraper"),b()}function b(){g.add("Scraper"),l.log("Scraper creation."),l.flags.isNewScraper()?V=new s.scrap.ScraperService:(V=new s.scrap.ContentScraper,R=new s.scrap.CollectorManager,N=new s.scrap.ScrapSearcher)}function T(){new s.services.inArticlePlacers.Placer(l,oe,ce,X);l.isPlacementEnabled()?Pe=new s.services.PlacementService(oe):(b(),l.log("** Placement Disabled by configuration. See filter configuration. **"))}function w(){2===Se&&(W.fallbackUsed||fe.loadVideosFallback({onSuccess:L,onTimeout:D}),h.addEventListener(f.Events.DomWindow.URL_CHANGE,function(){fe.loadNextArticle({onSuccess:L,videosFallback:!1,pageUrl:U.getWindowLocationHref()})}))}function L(e){se.appendVideos(e)}function D(){M>O?l.logWarning("All videos timeout "+M+", NO more tryout."):(l.log("All videos timeout "+M+", trying again ..."),w())}var C,O=10,V=null,R=null,N=null,k=null,M=0,B=!1,F=0,W=null,x=!1,H=!1;t()};new Ie;return e}(_min||{});